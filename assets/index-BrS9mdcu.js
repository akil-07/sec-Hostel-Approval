(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function YT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pd={exports:{}},El={};var X0;function QT(){if(X0)return El;X0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return El.Fragment=e,El.jsx=i,El.jsxs=i,El}var $0;function XT(){return $0||($0=1,Pd.exports=QT()),Pd.exports}var b=XT(),Bd={exports:{}},Ae={};var J0;function $T(){if(J0)return Ae;J0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function k(R){return R===null||typeof R!="object"?null:(R=N&&R[N]||R["@@iterator"],typeof R=="function"?R:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,ee={};function te(R,F,ie){this.props=R,this.context=F,this.refs=ee,this.updater=ie||G}te.prototype.isReactComponent={},te.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},te.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function se(){}se.prototype=te.prototype;function Y(R,F,ie){this.props=R,this.context=F,this.refs=ee,this.updater=ie||G}var ue=Y.prototype=new se;ue.constructor=Y,Z(ue,te.prototype),ue.isPureReactComponent=!0;var ve=Array.isArray;function pe(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(R,F,ie){var ae=ie.ref;return{$$typeof:r,type:R,key:F,ref:ae!==void 0?ae:null,props:ie}}function V(R,F){return C(R.type,F,R.props)}function x(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function L(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ie){return F[ie]})}var I=/\/+/g;function Ee(R,F){return typeof R=="object"&&R!==null&&R.key!=null?L(""+R.key):F.toString(36)}function et(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(pe,pe):(R.status="pending",R.then(function(F){R.status==="pending"&&(R.status="fulfilled",R.value=F)},function(F){R.status==="pending"&&(R.status="rejected",R.reason=F)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function K(R,F,ie,ae,Te){var Ie=typeof R;(Ie==="undefined"||Ie==="boolean")&&(R=null);var Be=!1;if(R===null)Be=!0;else switch(Ie){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(R.$$typeof){case r:case e:Be=!0;break;case T:return Be=R._init,K(Be(R._payload),F,ie,ae,Te)}}if(Be)return Te=Te(R),Be=ae===""?"."+Ee(R,0):ae,ve(Te)?(ie="",Be!=null&&(ie=Be.replace(I,"$&/")+"/"),K(Te,F,ie,"",function(ls){return ls})):Te!=null&&(x(Te)&&(Te=V(Te,ie+(Te.key==null||R&&R.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+Be)),F.push(Te)),1;Be=0;var Mt=ae===""?".":ae+":";if(ve(R))for(var at=0;at<R.length;at++)ae=R[at],Ie=Mt+Ee(ae,at),Be+=K(ae,F,ie,Ie,Te);else if(at=k(R),typeof at=="function")for(R=at.call(R),at=0;!(ae=R.next()).done;)ae=ae.value,Ie=Mt+Ee(ae,at++),Be+=K(ae,F,ie,Ie,Te);else if(Ie==="object"){if(typeof R.then=="function")return K(et(R),F,ie,ae,Te);throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ne(R,F,ie){if(R==null)return R;var ae=[],Te=0;return K(R,ae,"","",function(Ie){return F.call(ie,Ie,Te++)}),ae}function fe(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(ie){(R._status===0||R._status===-1)&&(R._status=1,R._result=ie)},function(ie){(R._status===0||R._status===-1)&&(R._status=2,R._result=ie)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var Pe=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ze={map:ne,forEach:function(R,F,ie){ne(R,function(){F.apply(this,arguments)},ie)},count:function(R){var F=0;return ne(R,function(){F++}),F},toArray:function(R){return ne(R,function(F){return F})||[]},only:function(R){if(!x(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Ae.Activity=S,Ae.Children=ze,Ae.Component=te,Ae.Fragment=i,Ae.Profiler=l,Ae.PureComponent=Y,Ae.StrictMode=s,Ae.Suspense=_,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(R){return D.H.useMemoCache(R)}},Ae.cache=function(R){return function(){return R.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(R,F,ie){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ae=Z({},R.props),Te=R.key;if(F!=null)for(Ie in F.key!==void 0&&(Te=""+F.key),F)!w.call(F,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&F.ref===void 0||(ae[Ie]=F[Ie]);var Ie=arguments.length-2;if(Ie===1)ae.children=ie;else if(1<Ie){for(var Be=Array(Ie),Mt=0;Mt<Ie;Mt++)Be[Mt]=arguments[Mt+2];ae.children=Be}return C(R.type,Te,ae)},Ae.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},Ae.createElement=function(R,F,ie){var ae,Te={},Ie=null;if(F!=null)for(ae in F.key!==void 0&&(Ie=""+F.key),F)w.call(F,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Te[ae]=F[ae]);var Be=arguments.length-2;if(Be===1)Te.children=ie;else if(1<Be){for(var Mt=Array(Be),at=0;at<Be;at++)Mt[at]=arguments[at+2];Te.children=Mt}if(R&&R.defaultProps)for(ae in Be=R.defaultProps,Be)Te[ae]===void 0&&(Te[ae]=Be[ae]);return C(R,Ie,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(R){return{$$typeof:g,render:R}},Ae.isValidElement=x,Ae.lazy=function(R){return{$$typeof:T,_payload:{_status:-1,_result:R},_init:fe}},Ae.memo=function(R,F){return{$$typeof:p,type:R,compare:F===void 0?null:F}},Ae.startTransition=function(R){var F=D.T,ie={};D.T=ie;try{var ae=R(),Te=D.S;Te!==null&&Te(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(pe,Pe)}catch(Ie){Pe(Ie)}finally{F!==null&&ie.types!==null&&(F.types=ie.types),D.T=F}},Ae.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ae.use=function(R){return D.H.use(R)},Ae.useActionState=function(R,F,ie){return D.H.useActionState(R,F,ie)},Ae.useCallback=function(R,F){return D.H.useCallback(R,F)},Ae.useContext=function(R){return D.H.useContext(R)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(R,F){return D.H.useDeferredValue(R,F)},Ae.useEffect=function(R,F){return D.H.useEffect(R,F)},Ae.useEffectEvent=function(R){return D.H.useEffectEvent(R)},Ae.useId=function(){return D.H.useId()},Ae.useImperativeHandle=function(R,F,ie){return D.H.useImperativeHandle(R,F,ie)},Ae.useInsertionEffect=function(R,F){return D.H.useInsertionEffect(R,F)},Ae.useLayoutEffect=function(R,F){return D.H.useLayoutEffect(R,F)},Ae.useMemo=function(R,F){return D.H.useMemo(R,F)},Ae.useOptimistic=function(R,F){return D.H.useOptimistic(R,F)},Ae.useReducer=function(R,F,ie){return D.H.useReducer(R,F,ie)},Ae.useRef=function(R){return D.H.useRef(R)},Ae.useState=function(R){return D.H.useState(R)},Ae.useSyncExternalStore=function(R,F,ie){return D.H.useSyncExternalStore(R,F,ie)},Ae.useTransition=function(){return D.H.useTransition()},Ae.version="19.2.3",Ae}var W0;function Mm(){return W0||(W0=1,Bd.exports=$T()),Bd.exports}var Re=Mm();const rm=YT(Re);var jd={exports:{}},Tl={},zd={exports:{}},Hd={};var Z0;function JT(){return Z0||(Z0=1,(function(r){function e(K,ne){var fe=K.length;K.push(ne);e:for(;0<fe;){var Pe=fe-1>>>1,ze=K[Pe];if(0<l(ze,ne))K[Pe]=ne,K[fe]=ze,fe=Pe;else break e}}function i(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ne=K[0],fe=K.pop();if(fe!==ne){K[0]=fe;e:for(var Pe=0,ze=K.length,R=ze>>>1;Pe<R;){var F=2*(Pe+1)-1,ie=K[F],ae=F+1,Te=K[ae];if(0>l(ie,fe))ae<ze&&0>l(Te,ie)?(K[Pe]=Te,K[ae]=fe,Pe=ae):(K[Pe]=ie,K[F]=fe,Pe=F);else if(ae<ze&&0>l(Te,fe))K[Pe]=Te,K[ae]=fe,Pe=ae;else break e}}return ne}function l(K,ne){var fe=K.sortIndex-ne.sortIndex;return fe!==0?fe:K.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],p=[],T=1,S=null,N=3,k=!1,G=!1,Z=!1,ee=!1,te=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ue(K){for(var ne=i(p);ne!==null;){if(ne.callback===null)s(p);else if(ne.startTime<=K)s(p),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=i(p)}}function ve(K){if(Z=!1,ue(K),!G)if(i(_)!==null)G=!0,pe||(pe=!0,L());else{var ne=i(p);ne!==null&&et(ve,ne.startTime-K)}}var pe=!1,D=-1,w=5,C=-1;function V(){return ee?!0:!(r.unstable_now()-C<w)}function x(){if(ee=!1,pe){var K=r.unstable_now();C=K;var ne=!0;try{e:{G=!1,Z&&(Z=!1,se(D),D=-1),k=!0;var fe=N;try{t:{for(ue(K),S=i(_);S!==null&&!(S.expirationTime>K&&V());){var Pe=S.callback;if(typeof Pe=="function"){S.callback=null,N=S.priorityLevel;var ze=Pe(S.expirationTime<=K);if(K=r.unstable_now(),typeof ze=="function"){S.callback=ze,ue(K),ne=!0;break t}S===i(_)&&s(_),ue(K)}else s(_);S=i(_)}if(S!==null)ne=!0;else{var R=i(p);R!==null&&et(ve,R.startTime-K),ne=!1}}break e}finally{S=null,N=fe,k=!1}ne=void 0}}finally{ne?L():pe=!1}}}var L;if(typeof Y=="function")L=function(){Y(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ee=I.port2;I.port1.onmessage=x,L=function(){Ee.postMessage(null)}}else L=function(){te(x,0)};function et(K,ne){D=te(function(){K(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(K){switch(N){case 1:case 2:case 3:var ne=3;break;default:ne=N}var fe=N;N=ne;try{return K()}finally{N=fe}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var fe=N;N=K;try{return ne()}finally{N=fe}},r.unstable_scheduleCallback=function(K,ne,fe){var Pe=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Pe+fe:Pe):fe=Pe,K){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=fe+ze,K={id:T++,callback:ne,priorityLevel:K,startTime:fe,expirationTime:ze,sortIndex:-1},fe>Pe?(K.sortIndex=fe,e(p,K),i(_)===null&&K===i(p)&&(Z?(se(D),D=-1):Z=!0,et(ve,fe-Pe))):(K.sortIndex=ze,e(_,K),G||k||(G=!0,pe||(pe=!0,L()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var ne=N;return function(){var fe=N;N=ne;try{return K.apply(this,arguments)}finally{N=fe}}}})(Hd)),Hd}var e_;function WT(){return e_||(e_=1,zd.exports=JT()),zd.exports}var Fd={exports:{}},Qt={};var t_;function ZT(){if(t_)return Qt;t_=1;var r=Mm();function e(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,p,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:p,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(_,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(_,p,null,T)},Qt.flushSync=function(_){var p=d.T,T=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=p,s.p=T,s.d.f()}},Qt.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(_,p))},Qt.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Qt.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?s.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:k}):T==="script"&&s.d.X(_,{crossOrigin:S,integrity:N,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Qt.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);s.d.M(_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(_)},Qt.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin);s.d.L(_,T,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Qt.preloadModule=function(_,p){if(typeof _=="string")if(p){var T=g(p.as,p.crossOrigin);s.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(_)},Qt.requestFormReset=function(_){s.d.r(_)},Qt.unstable_batchedUpdates=function(_,p){return _(p)},Qt.useFormState=function(_,p,T){return d.H.useFormState(_,p,T)},Qt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qt.version="19.2.3",Qt}var n_;function eb(){if(n_)return Fd.exports;n_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fd.exports=ZT(),Fd.exports}var i_;function tb(){if(i_)return Tl;i_=1;var r=WT(),e=Mm(),i=eb();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case te:return"Profiler";case ee:return"StrictMode";case ve:return"Suspense";case pe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case Y:return t.displayName||"Context";case se:return(t._context.displayName||"Context")+".Consumer";case ue:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:Ee(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Ee(t(n))}catch{}}return null}var et=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Pe=[],ze=-1;function R(t){return{current:t}}function F(t){0>ze||(t.current=Pe[ze],Pe[ze]=null,ze--)}function ie(t,n){ze++,Pe[ze]=t.current,t.current=n}var ae=R(null),Te=R(null),Ie=R(null),Be=R(null);function Mt(t,n){switch(ie(Ie,n),ie(Te,t),ie(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?_0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=_0(n),t=v0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(ae),ie(ae,t)}function at(){F(ae),F(Te),F(Ie)}function ls(t){t.memoizedState!==null&&ie(Be,t);var n=ae.current,a=v0(n,t.type);n!==a&&(ie(Te,t),ie(ae,a))}function ta(t){Te.current===t&&(F(ae),F(Te)),Be.current===t&&(F(Be),pl._currentValue=fe)}var na,ia;function ii(t){if(na===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);na=n&&n[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+t+ia}var po=!1;function us(t,n){if(!t||po)return"";po=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var z=q}Reflect.construct(t,[],J)}else{try{J.call()}catch(q){z=q}t.call(J.prototype)}}else{try{throw Error()}catch(q){z=q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var M=y.split(`
`),j=E.split(`
`);for(h=o=0;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===M.length||h===j.length)for(o=M.length-1,h=j.length-1;1<=o&&0<=h&&M[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(M[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||M[o]!==j[h]){var Q=`
`+M[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{po=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ii(a):""}function yo(t,n){switch(t.tag){case 26:case 27:case 5:return ii(t.type);case 16:return ii("Lazy");case 13:return t.child!==n&&n!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return us(t.type,!1);case 11:return us(t.type.render,!1);case 1:return us(t.type,!0);case 31:return ii("Activity");default:return""}}function _o(t){try{var n="",a=null;do n+=yo(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,Dt=r.unstable_scheduleCallback,ur=r.unstable_cancelCallback,Bh=r.unstable_shouldYield,tu=r.unstable_requestPaint,Zt=r.unstable_now,cs=r.unstable_getCurrentPriorityLevel,vo=r.unstable_ImmediatePriority,Eo=r.unstable_UserBlockingPriority,cr=r.unstable_NormalPriority,jh=r.unstable_LowPriority,nu=r.unstable_IdlePriority,iu=r.log,ru=r.unstable_setDisableYieldValue,jn=null,Bt=null;function Sn(t){if(typeof iu=="function"&&ru(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(jn,t)}catch{}}var ft=Math.clz32?Math.clz32:au,su=Math.log,ra=Math.LN2;function au(t){return t>>>=0,t===0?32:31-(su(t)/ra|0)|0}var ri=256,hs=262144,vt=4194304;function si(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=si(o):(y&=E,y!==0?h=si(y):a||(a=E&~t,a!==0&&(h=si(a))))):(E=o&~f,E!==0?h=si(E):y!==0?h=si(y):a||(a=o&~t,a!==0&&(h=si(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function oi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function fs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hh(t,n,a,o,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,M=t.expirationTimes,j=t.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-ft(a),J=1<<Q;E[Q]=0,M[Q]=-1;var z=j[Q];if(z!==null)for(j[Q]=null,Q=0;Q<z.length;Q++){var q=z[Q];q!==null&&(q.lane&=-536870913)}a&=~J}o!==0&&ds(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ds(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ft(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function To(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-ft(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function bo(t,n){var a=n&-n;return a=(a&42)!==0?1:ms(a),(a&(t.suspendedLanes|n))!==0?0:a}function ms(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ui(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:H0(t.type))}function Hn(t,n){var a=ne.p;try{return ne.p=t,n()}finally{ne.p=a}}var Fn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Fn,Vt="__reactProps$"+Fn,li="__reactContainer$"+Fn,sa="__reactEvents$"+Fn,Fh="__reactListeners$"+Fn,uu="__reactHandles$"+Fn,cu="__reactResources$"+Fn,ui="__reactMarker$"+Fn;function aa(t){delete t[Et],delete t[Vt],delete t[sa],delete t[Fh],delete t[uu]}function ci(t){var n=t[Et];if(n)return n;for(var a=t.parentNode;a;){if(n=a[li]||a[Et]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=N0(t);t!==null;){if(a=t[Et])return a;t=N0(t)}return n}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[Et]||t[li]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function hi(t){var n=t[cu];return n||(n=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[ui]=!0}var Ao=new Set,So={};function fi(t,n){di(t,n),di(t+"Capture",n)}function di(t,n){for(So[t]=n,t=0;t<n.length;t++)Ao.add(n[t])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},wo={};function hu(t){return _t.call(wo,t)?!0:_t.call(No,t)?!1:Ro.test(t)?wo[t]=!0:(No[t]=!0,!1)}function oa(t,n,a){if(hu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function gn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function bt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Io(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ye(t){if(!t._valueTracker){var n=hr(t)?"checked":"value";t._valueTracker=Io(t,n,""+t[n])}}function gs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=hr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ps=/[\n"\\]/g;function rn(t){return t.replace(ps,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function la(t,n,a,o,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Co(t,y,Lt(n)):a!=null?Co(t,y,Lt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Lt(E):t.removeAttribute("name")}function fu(t,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ye(t);return}a=a!=null?""+Lt(a):"",n=n!=null?""+Lt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ye(t)}function Co(t,n,a){n==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function fr(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function du(t,n,a){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Lt(a):""}function dr(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(et(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Lt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ye(t)}function sn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||mu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Do(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Mo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Mo(t,f,n[f])}function ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(t){return mr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var xo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gr=null,gi=null;function ys(t){var n=Rn(t);if(n&&(t=n.stateNode)){var a=t[Vt]||null;e:switch(t=n.stateNode,n.type){case"input":if(la(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Vt]||null;if(!h)throw Error(s(90));la(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&gs(o)}break e;case"textarea":du(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&fr(t,!!a.multiple,n,!1)}}}var ha=!1;function pr(t,n,a){if(ha)return t(n,a);ha=!0;try{var o=t(n);return o}finally{if(ha=!1,(gr!==null||gi!==null)&&(lc(),gr&&(n=gr,t=gi,gi=gr=null,ys(n),t)))for(n=0;n<t.length;n++)ys(t[n])}}function Gn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Vt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(wn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){_s=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{_s=!1}var pi=null,Oo=null,vs=null;function Vo(){if(vs)return vs;var t,n=Oo,a=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return vs=h.slice(t,1<o?1-o:void 0)}function Es(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ki(){return!0}function Kn(){return!1}function jt(t){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Kn,this.isPropagationStopped=Kn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=jt(Pi),yr=S({},Pi,{view:0,detail:0}),Lo=jt(yr),_r,fa,_i,da=S({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(_r=t.screenX-_i.screenX,fa=t.screenY-_i.screenY):fa=_r=0,_i=t),_r)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),Uo=jt(da),Ts=S({},da,{dataTransfer:0}),pu=jt(Ts),yu=S({},yr,{relatedTarget:0}),bs=jt(yu),ko=S({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=jt(ko),ma=S({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=jt(ma),Eu=S({},Pi,{data:0}),vi=jt(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function vr(){return Su}var en=S({},yr,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(t){return t.type==="keypress"?Es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=jt(en),Nu=S({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=jt(Nu),u=S({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),m=jt(u),v=S({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=jt(v),P=S({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=jt(P),re=S({},Pi,{newState:0,oldState:0}),Ne=jt(re),dt=[9,13,27,32],qe=wn&&"CompositionEvent"in window,ot=null;wn&&"documentMode"in document&&(ot=document.documentMode);var In=wn&&"TextEvent"in window&&!ot,Ei=wn&&(!qe||ot&&8<ot&&11>=ot),Yn=" ",Qn=!1;function As(t,n){switch(t){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function y2(t,n){switch(t){case"compositionend":return ga(n);case"keypress":return n.which!==32?null:(Qn=!0,Yn);case"textInput":return t=n.data,t===Yn&&Qn?null:t;default:return null}}function _2(t,n){if(pa)return t==="compositionend"||!qe&&As(t,n)?(t=Vo(),vs=Oo=pi=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var v2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!v2[t.type]:n==="textarea"}function Mg(t,n,a,o){gr?gi?gi.push(o):gi=[o]:gr=o,n=gc(n,"onChange"),0<n.length&&(a=new yi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Po=null,Bo=null;function E2(t){f0(t,0)}function wu(t){var n=mn(t);if(gs(n))return t}function Dg(t,n){if(t==="change")return n}var xg=!1;if(wn){var qh;if(wn){var Gh="oninput"in document;if(!Gh){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),Gh=typeof Og.oninput=="function"}qh=Gh}else qh=!1;xg=qh&&(!document.documentMode||9<document.documentMode)}function Vg(){Po&&(Po.detachEvent("onpropertychange",Lg),Bo=Po=null)}function Lg(t){if(t.propertyName==="value"&&wu(Bo)){var n=[];Mg(n,Bo,t,Nn(t)),pr(E2,n)}}function T2(t,n,a){t==="focusin"?(Vg(),Po=n,Bo=a,Po.attachEvent("onpropertychange",Lg)):t==="focusout"&&Vg()}function b2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Bo)}function A2(t,n){if(t==="click")return wu(n)}function S2(t,n){if(t==="input"||t==="change")return wu(n)}function R2(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var pn=typeof Object.is=="function"?Object.is:R2;function jo(t,n){if(pn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_t.call(n,h)||!pn(t[h],n[h]))return!1}return!0}function Ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kg(t,n){var a=Ug(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ug(a)}}function Pg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Pg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=mi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=mi(t.document)}return n}function Kh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var N2=wn&&"documentMode"in document&&11>=document.documentMode,ya=null,Yh=null,zo=null,Qh=!1;function jg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||ya==null||ya!==mi(o)||(o=ya,"selectionStart"in o&&Kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&jo(zo,o)||(zo=o,o=gc(Yh,"onSelect"),0<o.length&&(n=new yi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ya)))}function Ss(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var _a={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Xh={},zg={};wn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Rs(t){if(Xh[t])return Xh[t];if(!_a[t])return t;var n=_a[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in zg)return Xh[t]=n[a];return t}var Hg=Rs("animationend"),Fg=Rs("animationiteration"),qg=Rs("animationstart"),w2=Rs("transitionrun"),I2=Rs("transitionstart"),C2=Rs("transitioncancel"),Gg=Rs("transitionend"),Kg=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function Xn(t,n){Kg.set(t,n),fi(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],va=0,Jh=0;function Cu(){for(var t=va,n=Jh=va=0;n<t;){var a=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Yg(a,h,f)}}function Mu(t,n,a,o){Cn[va++]=t,Cn[va++]=n,Cn[va++]=a,Cn[va++]=o,Jh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Wh(t,n,a,o){return Mu(t,n,a,o),Du(t)}function Ns(t,n){return Mu(t,null,null,n),Du(t)}function Yg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ft(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Du(t){if(50<ul)throw ul=0,ld=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ea={};function M2(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,a,o){return new M2(t,n,a,o)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,n){var a=t.alternate;return a===null?(a=yn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Qg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function xu(t,n,a,o,h,f){var y=0;if(o=t,typeof t=="function")Zh(t)&&(y=1);else if(typeof t=="string")y=LT(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=yn(31,a,n,h),t.elementType=C,t.lanes=f,t;case Z:return ws(a.children,h,f,n);case ee:y=8,h|=24;break;case te:return t=yn(12,a,n,h|2),t.elementType=te,t.lanes=f,t;case ve:return t=yn(13,a,n,h),t.elementType=ve,t.lanes=f,t;case pe:return t=yn(19,a,n,h),t.elementType=pe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:y=10;break e;case se:y=9;break e;case ue:y=11;break e;case D:y=14;break e;case w:y=16,o=null;break e}y=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=yn(y,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function ws(t,n,a,o){return t=yn(7,t,o,n),t.lanes=a,t}function ef(t,n,a){return t=yn(6,t,null,n),t.lanes=a,t}function Xg(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function tf(t,n,a){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var $g=new WeakMap;function Mn(t,n){if(typeof t=="object"&&t!==null){var a=$g.get(t);return a!==void 0?a:(n={value:t,source:n,stack:_o(n)},$g.set(t,n),n)}return{value:t,source:n,stack:_o(n)}}var Ta=[],ba=0,Ou=null,Ho=0,Dn=[],xn=0,Er=null,Ti=1,bi="";function zi(t,n){Ta[ba++]=Ho,Ta[ba++]=Ou,Ou=t,Ho=n}function Jg(t,n,a){Dn[xn++]=Ti,Dn[xn++]=bi,Dn[xn++]=Er,Er=t;var o=Ti;t=bi;var h=32-ft(o)-1;o&=~(1<<h),a+=1;var f=32-ft(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ti=1<<32-ft(n)+h|a<<h|o,bi=f+t}else Ti=1<<f|a<<h|o,bi=t}function nf(t){t.return!==null&&(zi(t,1),Jg(t,1,0))}function rf(t){for(;t===Ou;)Ou=Ta[--ba],Ta[ba]=null,Ho=Ta[--ba],Ta[ba]=null;for(;t===Er;)Er=Dn[--xn],Dn[xn]=null,bi=Dn[--xn],Dn[xn]=null,Ti=Dn[--xn],Dn[xn]=null}function Wg(t,n){Dn[xn++]=Ti,Dn[xn++]=bi,Dn[xn++]=Er,Ti=n.id,bi=n.overflow,Er=t}var zt=null,it=null,ke=!1,Tr=null,On=!1,sf=Error(s(519));function br(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(Mn(n,t)),sf}function Zg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Et]=t,n[Vt]=o,a){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(a=0;a<hl.length;a++)De(hl[a],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),fu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),dr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||p0(n.textContent,a)?(o.popover!=null&&(De("beforetoggle",n),De("toggle",n)),o.onScroll!=null&&De("scroll",n),o.onScrollEnd!=null&&De("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||br(t,!0)}function ep(t){for(zt=t.return;zt;)switch(zt.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:zt=zt.return}}function Aa(t){if(t!==zt)return!1;if(!ke)return ep(t),ke=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ad(t.type,t.memoizedProps)),a=!a),a&&it&&br(t),ep(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=R0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=R0(t)}else n===27?(n=it,Ur(t.type)?(t=Id,Id=null,it=t):it=n):it=zt?Ln(t.stateNode.nextSibling):null;return!0}function Is(){it=zt=null,ke=!1}function af(){var t=Tr;return t!==null&&(un===null?un=t:un.push.apply(un,t),Tr=null),t}function Fo(t){Tr===null?Tr=[t]:Tr.push(t)}var of=R(null),Cs=null,Hi=null;function Ar(t,n,a){ie(of,n._currentValue),n._currentValue=a}function Fi(t){t._currentValue=of.current,F(of)}function lf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function uf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var M=0;M<n.length;M++)if(E.context===n[M]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),lf(f.return,a,t),o||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),lf(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Sa(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=h.type;pn(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===Be.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(pl):t=[pl])}h=h.return}t!==null&&uf(n,t,a,o),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ms(t){Cs=t,Hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return tp(Cs,t)}function Lu(t,n){return Cs===null&&Ms(t),tp(t,n)}function tp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Hi===null){if(t===null)throw Error(s(308));Hi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Hi=Hi.next=n;return a}var D2=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},x2=r.unstable_scheduleCallback,O2=r.unstable_NormalPriority,At={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new D2,data:new Map,refCount:0}}function qo(t){t.refCount--,t.refCount===0&&x2(O2,function(){t.controller.abort()})}var Go=null,hf=0,Ra=0,Na=null;function V2(t,n){if(Go===null){var a=Go=[];hf=0,Ra=md(),Na={status:"pending",value:void 0,then:function(o){a.push(o)}}}return hf++,n.then(np,np),n}function np(){if(--hf===0&&Go!==null){Na!==null&&(Na.status="fulfilled");var t=Go;Go=null,Ra=0,Na=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function L2(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ip=K.S;K.S=function(t,n){jy=Zt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&V2(t,n),ip!==null&&ip(t,n)};var Ds=R(null);function ff(){var t=Ds.current;return t!==null?t:tt.pooledCache}function Uu(t,n){n===null?ie(Ds,Ds.current):ie(Ds,n.pool)}function rp(){var t=ff();return t===null?null:{parent:At._currentValue,pool:t}}var wa=Error(s(460)),df=Error(s(474)),ku=Error(s(542)),Pu={then:function(){}};function sp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ap(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(qn,qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lp(t),t;default:if(typeof n.status=="string")n.then(qn,qn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lp(t),t}throw Os=n,wa}}function xs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Os=a,wa):a}}var Os=null;function op(){if(Os===null)throw Error(s(459));var t=Os;return Os=null,t}function lp(t){if(t===wa||t===ku)throw Error(s(483))}var Ia=null,Ko=0;function Bu(t){var n=Ko;return Ko+=1,Ia===null&&(Ia=[]),ap(Ia,t,n)}function Yo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ju(t,n){throw n.$$typeof===N?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function up(t){function n(U,O){if(t){var B=U.deletions;B===null?(U.deletions=[O],U.flags|=16):B.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=ji(U,O),U.index=0,U.sibling=null,U}function f(U,O,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<O?(U.flags|=67108866,O):B):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,B,X){return O===null||O.tag!==6?(O=ef(B,U.mode,X),O.return=U,O):(O=h(O,B),O.return=U,O)}function M(U,O,B,X){var de=B.type;return de===Z?Q(U,O,B.props.children,X,B.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&xs(de)===O.type)?(O=h(O,B.props),Yo(O,B),O.return=U,O):(O=xu(B.type,B.key,B.props,null,U.mode,X),Yo(O,B),O.return=U,O)}function j(U,O,B,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=tf(B,U.mode,X),O.return=U,O):(O=h(O,B.children||[]),O.return=U,O)}function Q(U,O,B,X,de){return O===null||O.tag!==7?(O=ws(B,U.mode,X,de),O.return=U,O):(O=h(O,B),O.return=U,O)}function J(U,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ef(""+O,U.mode,B),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return B=xu(O.type,O.key,O.props,null,U.mode,B),Yo(B,O),B.return=U,B;case G:return O=tf(O,U.mode,B),O.return=U,O;case w:return O=xs(O),J(U,O,B)}if(et(O)||L(O))return O=ws(O,U.mode,B,null),O.return=U,O;if(typeof O.then=="function")return J(U,Bu(O),B);if(O.$$typeof===Y)return J(U,Lu(U,O),B);ju(U,O)}return null}function z(U,O,B,X){var de=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return de!==null?null:E(U,O,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===de?M(U,O,B,X):null;case G:return B.key===de?j(U,O,B,X):null;case w:return B=xs(B),z(U,O,B,X)}if(et(B)||L(B))return de!==null?null:Q(U,O,B,X,null);if(typeof B.then=="function")return z(U,O,Bu(B),X);if(B.$$typeof===Y)return z(U,O,Lu(U,B),X);ju(U,B)}return null}function q(U,O,B,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(B)||null,E(O,U,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case k:return U=U.get(X.key===null?B:X.key)||null,M(O,U,X,de);case G:return U=U.get(X.key===null?B:X.key)||null,j(O,U,X,de);case w:return X=xs(X),q(U,O,B,X,de)}if(et(X)||L(X))return U=U.get(B)||null,Q(O,U,X,de,null);if(typeof X.then=="function")return q(U,O,B,Bu(X),de);if(X.$$typeof===Y)return q(U,O,B,Lu(O,X),de);ju(O,X)}return null}function ce(U,O,B,X){for(var de=null,He=null,he=O,Ce=O=0,Oe=null;he!==null&&Ce<B.length;Ce++){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var Fe=z(U,he,B[Ce],X);if(Fe===null){he===null&&(he=Oe);break}t&&he&&Fe.alternate===null&&n(U,he),O=f(Fe,O,Ce),He===null?de=Fe:He.sibling=Fe,He=Fe,he=Oe}if(Ce===B.length)return a(U,he),ke&&zi(U,Ce),de;if(he===null){for(;Ce<B.length;Ce++)he=J(U,B[Ce],X),he!==null&&(O=f(he,O,Ce),He===null?de=he:He.sibling=he,He=he);return ke&&zi(U,Ce),de}for(he=o(he);Ce<B.length;Ce++)Oe=q(he,U,Ce,B[Ce],X),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ce:Oe.key),O=f(Oe,O,Ce),He===null?de=Oe:He.sibling=Oe,He=Oe);return t&&he.forEach(function(zr){return n(U,zr)}),ke&&zi(U,Ce),de}function ge(U,O,B,X){if(B==null)throw Error(s(151));for(var de=null,He=null,he=O,Ce=O=0,Oe=null,Fe=B.next();he!==null&&!Fe.done;Ce++,Fe=B.next()){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var zr=z(U,he,Fe.value,X);if(zr===null){he===null&&(he=Oe);break}t&&he&&zr.alternate===null&&n(U,he),O=f(zr,O,Ce),He===null?de=zr:He.sibling=zr,He=zr,he=Oe}if(Fe.done)return a(U,he),ke&&zi(U,Ce),de;if(he===null){for(;!Fe.done;Ce++,Fe=B.next())Fe=J(U,Fe.value,X),Fe!==null&&(O=f(Fe,O,Ce),He===null?de=Fe:He.sibling=Fe,He=Fe);return ke&&zi(U,Ce),de}for(he=o(he);!Fe.done;Ce++,Fe=B.next())Fe=q(he,U,Ce,Fe.value,X),Fe!==null&&(t&&Fe.alternate!==null&&he.delete(Fe.key===null?Ce:Fe.key),O=f(Fe,O,Ce),He===null?de=Fe:He.sibling=Fe,He=Fe);return t&&he.forEach(function(KT){return n(U,KT)}),ke&&zi(U,Ce),de}function Ze(U,O,B,X){if(typeof B=="object"&&B!==null&&B.type===Z&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:e:{for(var de=B.key;O!==null;){if(O.key===de){if(de=B.type,de===Z){if(O.tag===7){a(U,O.sibling),X=h(O,B.props.children),X.return=U,U=X;break e}}else if(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&xs(de)===O.type){a(U,O.sibling),X=h(O,B.props),Yo(X,B),X.return=U,U=X;break e}a(U,O);break}else n(U,O);O=O.sibling}B.type===Z?(X=ws(B.props.children,U.mode,X,B.key),X.return=U,U=X):(X=xu(B.type,B.key,B.props,null,U.mode,X),Yo(X,B),X.return=U,U=X)}return y(U);case G:e:{for(de=B.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(U,O.sibling),X=h(O,B.children||[]),X.return=U,U=X;break e}else{a(U,O);break}else n(U,O);O=O.sibling}X=tf(B,U.mode,X),X.return=U,U=X}return y(U);case w:return B=xs(B),Ze(U,O,B,X)}if(et(B))return ce(U,O,B,X);if(L(B)){if(de=L(B),typeof de!="function")throw Error(s(150));return B=de.call(B),ge(U,O,B,X)}if(typeof B.then=="function")return Ze(U,O,Bu(B),X);if(B.$$typeof===Y)return Ze(U,O,Lu(U,B),X);ju(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(U,O.sibling),X=h(O,B),X.return=U,U=X):(a(U,O),X=ef(B,U.mode,X),X.return=U,U=X),y(U)):a(U,O)}return function(U,O,B,X){try{Ko=0;var de=Ze(U,O,B,X);return Ia=null,de}catch(he){if(he===wa||he===ku)throw he;var He=yn(29,he,null,U.mode);return He.lanes=X,He.return=U,He}}}var Vs=up(!0),cp=up(!1),Sr=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ge&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(t),Yg(t,null,a),n}return Mu(t,o,n,a),Du(t)}function Qo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,To(t,a)}}function pf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var yf=!1;function Xo(){if(yf){var t=Na;if(t!==null)throw t}}function $o(t,n,a,o){yf=!1;var h=t.updateQueue;Sr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var M=E,j=M.next;M.next=null,y===null?f=j:y.next=j,y=M;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=M))}if(f!==null){var J=h.baseState;y=0,Q=j=M=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(xe&z)===z:(o&z)===z){z!==0&&z===Ra&&(yf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=t,ge=E;z=n;var Ze=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){J=ce.call(Ze,J,z);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,z=typeof ce=="function"?ce.call(Ze,J,z):ce,z==null)break e;J=S({},J,z);break e;case 2:Sr=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=q,M=J):Q=Q.next=q,y|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(M=J),h.baseState=M,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Dr|=y,t.lanes=y,t.memoizedState=J}}function hp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function fp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)hp(a[t],n)}var Ca=R(null),zu=R(0);function dp(t,n){t=Wi,ie(zu,t),ie(Ca,n),Wi=t|n.baseLanes}function _f(){ie(zu,Wi),ie(Ca,Ca.current)}function vf(){Wi=zu.current,F(Ca),F(zu)}var _n=R(null),Vn=null;function wr(t){var n=t.alternate;ie(mt,mt.current&1),ie(_n,t),Vn===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(Vn=t)}function Ef(t){ie(mt,mt.current),ie(_n,t),Vn===null&&(Vn=t)}function mp(t){t.tag===22?(ie(mt,mt.current),ie(_n,t),Vn===null&&(Vn=t)):Ir()}function Ir(){ie(mt,mt.current),ie(_n,_n.current)}function vn(t){F(_n),Vn===t&&(Vn=null),F(mt)}var mt=R(0);function Hu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nd(a)||wd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,we=null,Je=null,St=null,Fu=!1,Ma=!1,Ls=!1,qu=0,Jo=0,Da=null,U2=0;function ct(){throw Error(s(321))}function Tf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!pn(t[a],n[a]))return!1;return!0}function bf(t,n,a,o,h,f){return qi=f,we=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?Jp:kf,Ls=!1,f=a(o,h),Ls=!1,Ma&&(f=pp(n,a,o,h)),gp(t),f}function gp(t){K.H=el;var n=Je!==null&&Je.next!==null;if(qi=0,St=Je=we=null,Fu=!1,Jo=0,Da=null,n)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&Vu(t)&&(Rt=!0))}function pp(t,n,a,o){we=t;var h=0;do{if(Ma&&(Da=null),Jo=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,St=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=Wp,f=n(a,o)}while(Ma);return f}function k2(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?Wo(n):n,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(we.flags|=1024),n}function Af(){var t=qu!==0;return qu=0,t}function Sf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Rf(t){if(Fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fu=!1}qi=0,St=Je=we=null,Ma=!1,Jo=qu=0,Da=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?we.memoizedState=St=t:St=St.next=t,St}function gt(){if(Je===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var n=St===null?we.memoizedState:St.next;if(n!==null)St=n,Je=t;else{if(t===null)throw we.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},St===null?we.memoizedState=St=t:St=St.next=t}return St}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(t){var n=Jo;return Jo+=1,Da===null&&(Da=[]),t=ap(Da,t,n),n=we,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Jp:kf),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wo(t);if(t.$$typeof===Y)return Ht(t)}throw Error(s(438,String(t)))}function Nf(t){var n=null,a=we.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=we.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Gu(),we.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function Gi(t,n){return typeof n=="function"?n(t):n}function Yu(t){var n=gt();return wf(n,Je,t)}function wf(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=y=null,M=null,j=n,Q=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(xe&J)===J:(qi&J)===J){var z=j.revertLane;if(z===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===Ra&&(Q=!0);else if((qi&z)===z){j=j.next,z===Ra&&(Q=!0);continue}else J={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},M===null?(E=M=J,y=f):M=M.next=J,we.lanes|=z,Dr|=z;J=j.action,Ls&&a(f,J),f=j.hasEagerState?j.eagerState:a(f,J)}else z={lane:J,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},M===null?(E=M=z,y=f):M=M.next=z,we.lanes|=J,Dr|=J;j=j.next}while(j!==null&&j!==n);if(M===null?y=f:M.next=E,!pn(f,t.memoizedState)&&(Rt=!0,Q&&(a=Na,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=M,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function If(t){var n=gt(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);pn(f,n.memoizedState)||(Rt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function yp(t,n,a){var o=we,h=gt(),f=ke;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!pn((Je||h).memoizedState,a);if(y&&(h.memoizedState=a,Rt=!0),h=h.queue,Df(Ep.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,xa(9,{destroy:void 0},vp.bind(null,o,h,a,n),null),tt===null)throw Error(s(349));f||(qi&127)!==0||_p(o,n,a)}return a}function _p(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=we.updateQueue,n===null?(n=Gu(),we.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function vp(t,n,a,o){n.value=a,n.getSnapshot=o,Tp(n)&&bp(t)}function Ep(t,n,a){return a(function(){Tp(n)&&bp(t)})}function Tp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!pn(t,a)}catch{return!0}}function bp(t){var n=Ns(t,2);n!==null&&cn(n,t,2)}function Cf(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),Ls){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},n}function Ap(t,n,a,o){return t.baseState=a,wf(t,Je,typeof o=="function"?o:Gi)}function P2(t,n,a,o,h){if($u(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};K.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Sp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Sp(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=K.T,y={};K.T=y;try{var E=a(h,o),M=K.S;M!==null&&M(y,E),Rp(t,n,E)}catch(j){Mf(t,n,j)}finally{f!==null&&y.types!==null&&(f.types=y.types),K.T=f}}else try{f=a(h,o),Rp(t,n,f)}catch(j){Mf(t,n,j)}}function Rp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Np(t,n,o)},function(o){return Mf(t,n,o)}):Np(t,n,a)}function Np(t,n,a){n.status="fulfilled",n.value=a,wp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Sp(t,a)))}function Mf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,wp(n),n=n.next;while(n!==o)}t.action=null}function wp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ip(t,n){return n}function Cp(t,n){if(ke){var a=tt.formState;if(a!==null){e:{var o=we;if(ke){if(it){t:{for(var h=it,f=On;h.nodeType!==8;){if(!f){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){it=Ln(h.nextSibling),o=h.data==="F!";break e}}br(o)}o=!1}o&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:n},a.queue=o,a=Qp.bind(null,we,o),o.dispatch=a,o=Cf(!1),f=Uf.bind(null,we,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=P2.bind(null,we,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Mp(t){var n=gt();return Dp(n,Je,t)}function Dp(t,n,a){if(n=wf(t,n,Ip)[0],t=Yu(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Wo(n)}catch(y){throw y===wa?ku:y}else o=n;n=gt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(we.flags|=2048,xa(9,{destroy:void 0},B2.bind(null,h,a),null)),[o,f,t]}function B2(t,n){t.action=n}function xp(t){var n=gt(),a=Je;if(a!==null)return Dp(n,a,t);gt(),n=n.memoizedState,a=gt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function xa(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=we.updateQueue,n===null&&(n=Gu(),we.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Op(){return gt().memoizedState}function Qu(t,n,a,o){var h=tn();we.flags|=t,h.memoizedState=xa(1|n,{destroy:void 0},a,o===void 0?null:o)}function Xu(t,n,a,o){var h=gt();o=o===void 0?null:o;var f=h.memoizedState.inst;Je!==null&&o!==null&&Tf(o,Je.memoizedState.deps)?h.memoizedState=xa(n,f,a,o):(we.flags|=t,h.memoizedState=xa(1|n,f,a,o))}function Vp(t,n){Qu(8390656,8,t,n)}function Df(t,n){Xu(2048,8,t,n)}function j2(t){we.flags|=4;var n=we.updateQueue;if(n===null)n=Gu(),we.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Lp(t){var n=gt().memoizedState;return j2({ref:n,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Up(t,n){return Xu(4,2,t,n)}function kp(t,n){return Xu(4,4,t,n)}function Pp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bp(t,n,a){a=a!=null?a.concat([t]):null,Xu(4,4,Pp.bind(null,n,t),a)}function xf(){}function jp(t,n){var a=gt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Tf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function zp(t,n){var a=gt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Tf(n,o[1]))return o[0];if(o=t(),Ls){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,n],o}function Of(t,n,a){return a===void 0||(qi&1073741824)!==0&&(xe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Hy(),we.lanes|=t,Dr|=t,a)}function Hp(t,n,a,o){return pn(a,n)?a:Ca.current!==null?(t=Of(t,a,o),pn(t,n)||(Rt=!0),t):(qi&42)===0||(qi&1073741824)!==0&&(xe&261930)===0?(Rt=!0,t.memoizedState=a):(t=Hy(),we.lanes|=t,Dr|=t,n)}function Fp(t,n,a,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var y=K.T,E={};K.T=E,Uf(t,!1,n,a);try{var M=h(),j=K.S;if(j!==null&&j(E,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Q=L2(M,o);Zo(t,n,Q,bn(t))}else Zo(t,n,o,bn(t))}catch(J){Zo(t,n,{then:function(){},status:"rejected",reason:J},bn())}finally{ne.p=f,y!==null&&E.types!==null&&(y.types=E.types),K.T=y}}function z2(){}function Vf(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=qp(t).queue;Fp(t,h,n,fe,a===null?z2:function(){return Gp(t),a(o)})}function qp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:fe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Gp(t){var n=qp(t);n.next===null&&(n=t.alternate.memoizedState),Zo(t,n.next.queue,{},bn())}function Lf(){return Ht(pl)}function Kp(){return gt().memoizedState}function Yp(){return gt().memoizedState}function H2(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();t=Rr(a);var o=Nr(n,t,a);o!==null&&(cn(o,n,a),Qo(o,n,a)),n={cache:cf()},t.payload=n;return}n=n.return}}function F2(t,n,a){var o=bn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$u(t)?Xp(n,a):(a=Wh(t,n,a,o),a!==null&&(cn(a,t,o),$p(a,n,o)))}function Qp(t,n,a){var o=bn();Zo(t,n,a,o)}function Zo(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($u(t))Xp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,y))return Mu(t,n,h,0),tt===null&&Cu(),!1}catch{}if(a=Wh(t,n,h,o),a!==null)return cn(a,t,o),$p(a,n,o),!0}return!1}function Uf(t,n,a,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(s(479))}else n=Wh(t,a,o,2),n!==null&&cn(n,t,2)}function $u(t){var n=t.alternate;return t===we||n!==null&&n===we}function Xp(t,n){Ma=Fu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function $p(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,To(t,a)}}var el={readContext:Ht,use:Ku,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};el.useEffectEvent=ct;var Jp={readContext:Ht,use:Ku,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:Ht,useEffect:Vp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Qu(4194308,4,Pp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var o=t();if(Ls){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=tn();if(a!==void 0){var h=a(n);if(Ls){Sn(!0);try{a(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=F2.bind(null,we,t),[o.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Cf(t);var n=t.queue,a=Qp.bind(null,we,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(t,n){var a=tn();return Of(a,t,n)},useTransition:function(){var t=Cf(!1);return t=Fp.bind(null,we,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=we,h=tn();if(ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),tt===null)throw Error(s(349));(xe&127)!==0||_p(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Vp(Ep.bind(null,o,f,t),[t]),o.flags|=2048,xa(9,{destroy:void 0},vp.bind(null,o,f,a,n),null),a},useId:function(){var t=tn(),n=tt.identifierPrefix;if(ke){var a=bi,o=Ti;a=(o&~(1<<32-ft(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=qu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=U2++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Lf,useFormState:Cp,useActionState:Cp,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Uf.bind(null,we,!0,a),a.dispatch=n,[t,n]},useMemoCache:Nf,useCacheRefresh:function(){return tn().memoizedState=H2.bind(null,we)},useEffectEvent:function(t){var n=tn(),a={impl:t};return n.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},kf={readContext:Ht,use:Ku,useCallback:jp,useContext:Ht,useEffect:Df,useImperativeHandle:Bp,useInsertionEffect:Up,useLayoutEffect:kp,useMemo:zp,useReducer:Yu,useRef:Op,useState:function(){return Yu(Gi)},useDebugValue:xf,useDeferredValue:function(t,n){var a=gt();return Hp(a,Je.memoizedState,t,n)},useTransition:function(){var t=Yu(Gi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:Wo(t),n]},useSyncExternalStore:yp,useId:Kp,useHostTransitionStatus:Lf,useFormState:Mp,useActionState:Mp,useOptimistic:function(t,n){var a=gt();return Ap(a,Je,t,n)},useMemoCache:Nf,useCacheRefresh:Yp};kf.useEffectEvent=Lp;var Wp={readContext:Ht,use:Ku,useCallback:jp,useContext:Ht,useEffect:Df,useImperativeHandle:Bp,useInsertionEffect:Up,useLayoutEffect:kp,useMemo:zp,useReducer:If,useRef:Op,useState:function(){return If(Gi)},useDebugValue:xf,useDeferredValue:function(t,n){var a=gt();return Je===null?Of(a,t,n):Hp(a,Je.memoizedState,t,n)},useTransition:function(){var t=If(Gi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:Wo(t),n]},useSyncExternalStore:yp,useId:Kp,useHostTransitionStatus:Lf,useFormState:xp,useActionState:xp,useOptimistic:function(t,n){var a=gt();return Je!==null?Ap(a,Je,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:Yp};Wp.useEffectEvent=Lp;function Pf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Bf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=bn(),h=Rr(o);h.payload=n,a!=null&&(h.callback=a),n=Nr(t,h,o),n!==null&&(cn(n,t,o),Qo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=bn(),h=Rr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Nr(t,h,o),n!==null&&(cn(n,t,o),Qo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=bn(),o=Rr(a);o.tag=2,n!=null&&(o.callback=n),n=Nr(t,o,a),n!==null&&(cn(n,t,a),Qo(n,t,a))}};function Zp(t,n,a,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!jo(a,o)||!jo(h,f):!0}function ey(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Bf.enqueueReplaceState(n,n.state,null)}function Us(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ty(t){Iu(t)}function ny(t){console.error(t)}function iy(t){Iu(t)}function Ju(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ry(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(t,n,a){return a=Rr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ju(t,n)},a}function sy(t){return t=Rr(t),t.tag=3,t}function ay(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ry(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ry(n,a,o),typeof h!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function q2(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Sa(n,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?uc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Pu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),hd(t,o,h)),!1;case 22:return a.flags|=65536,o===Pu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),hd(t,o,h)),!1}throw Error(s(435,a.tag))}return hd(t,o,h),uc(),!1}if(ke)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==sf&&(t=Error(s(422),{cause:o}),Fo(Mn(t,a)))):(o!==sf&&(n=Error(s(423),{cause:o}),Fo(Mn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Mn(o,a),h=jf(t.stateNode,o,h),pf(t,h),ht!==4&&(ht=2)),!1;var f=Error(s(520),{cause:o});if(f=Mn(f,a),ll===null?ll=[f]:ll.push(f),ht!==4&&(ht=2),n===null)return!0;o=Mn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=jf(a.stateNode,o,t),pf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xr===null||!xr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sy(h),ay(h,t,a,o),pf(a,h),!1}a=a.return}while(a!==null);return!1}var zf=Error(s(461)),Rt=!1;function Ft(t,n,a,o){n.child=t===null?cp(n,null,a,o):Vs(n,t.child,a,o)}function oy(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Ms(n),o=bf(t,n,a,y,f,h),E=Af(),t!==null&&!Rt?(Sf(t,n,h),Ki(t,n,h)):(ke&&E&&nf(n),n.flags|=1,Ft(t,n,o,h),n.child)}function ly(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,uy(t,n,f,o,h)):(t=xu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Xf(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:jo,a(y,o)&&t.ref===n.ref)return Ki(t,n,h)}return n.flags|=1,t=ji(f,o),t.ref=n.ref,t.return=n,n.child=t}function uy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(jo(f,o)&&t.ref===n.ref)if(Rt=!1,n.pendingProps=o=f,Xf(t,h))(t.flags&131072)!==0&&(Rt=!0);else return n.lanes=t.lanes,Ki(t,n,h)}return Hf(t,n,a,o,h)}function cy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return hy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?dp(n,f):_f(),mp(n);else return o=n.lanes=536870912,hy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Uu(n,f.cachePool),dp(n,f),Ir(),n.memoizedState=null):(t!==null&&Uu(n,null),_f(),Ir());return Ft(t,n,h,a),n.child}function tl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hy(t,n,a,o,h){var f=ff();return f=f===null?null:{parent:At._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Uu(n,null),_f(),mp(n),t!==null&&Sa(t,n,o,!0),n.childLanes=h,null}function Wu(t,n){return n=ec({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function fy(t,n,a){return Vs(n,t.child,null,a),t=Wu(n,n.pendingProps),t.flags|=2,vn(n),n.memoizedState=null,t}function G2(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ke){if(o.mode==="hidden")return t=Wu(n,o),n.lanes=536870912,tl(null,t);if(Ef(n),(t=it)?(t=S0(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Er!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Xg(t),a.return=n,n.child=a,zt=n,it=null)):t=null,t===null)throw br(n);return n.lanes=536870912,null}return Wu(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Ef(n),h)if(n.flags&256)n.flags&=-257,n=fy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Rt||Sa(t,n,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(o=tt,o!==null&&(y=bo(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Ns(t,y),cn(o,t,y),zf;uc(),n=fy(t,n,a)}else t=f.treeContext,it=Ln(y.nextSibling),zt=n,ke=!0,Tr=null,On=!1,t!==null&&Wg(n,t),n=Wu(n,o),n.flags|=4096;return n}return t=ji(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Hf(t,n,a,o,h){return Ms(n),a=bf(t,n,a,o,void 0,h),o=Af(),t!==null&&!Rt?(Sf(t,n,h),Ki(t,n,h)):(ke&&o&&nf(n),n.flags|=1,Ft(t,n,a,h),n.child)}function dy(t,n,a,o,h,f){return Ms(n),n.updateQueue=null,a=pp(n,o,a,h),gp(t),o=Af(),t!==null&&!Rt?(Sf(t,n,f),Ki(t,n,f)):(ke&&o&&nf(n),n.flags|=1,Ft(t,n,a,f),n.child)}function my(t,n,a,o,h){if(Ms(n),n.stateNode===null){var f=Ea,y=a.contextType;typeof y=="object"&&y!==null&&(f=Ht(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},mf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Ht(y):Ea,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Pf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Bf.enqueueReplaceState(f,f.state,null),$o(n,o,f,h),Xo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,M=Us(a,E);f.props=M;var j=f.context,Q=a.contextType;y=Ea,typeof Q=="object"&&Q!==null&&(y=Ht(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==y)&&ey(n,f,o,y),Sr=!1;var z=n.memoizedState;f.state=z,$o(n,o,f,h),Xo(),j=n.memoizedState,E||z!==j||Sr?(typeof J=="function"&&(Pf(n,a,J,o),j=n.memoizedState),(M=Sr||Zp(n,a,M,o,z,j,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=y,o=M):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,gf(t,n),y=n.memoizedProps,Q=Us(a,y),f.props=Q,J=n.pendingProps,z=f.context,j=a.contextType,M=Ea,typeof j=="object"&&j!==null&&(M=Ht(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==J||z!==M)&&ey(n,f,o,M),Sr=!1,z=n.memoizedState,f.state=z,$o(n,o,f,h),Xo();var q=n.memoizedState;y!==J||z!==q||Sr||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof E=="function"&&(Pf(n,a,E,o),q=n.memoizedState),(Q=Sr||Zp(n,a,Q,o,z,q,M)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,M),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,M)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=M,o=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Zu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Vs(n,t.child,null,h),n.child=Vs(n,null,a,h)):Ft(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Ki(t,n,h),t}function gy(t,n,a,o){return Is(),n.flags|=256,Ft(t,n,a,o),n.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(t){return{baseLanes:t,cachePool:rp()}}function Gf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Tn),t}function py(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(ke){if(h?wr(n):Ir(),(t=it)?(t=S0(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Er!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Xg(t),a.return=n,n.child=a,zt=n,it=null)):t=null,t===null)throw br(n);return wd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ir(),h=n.mode,E=ec({mode:"hidden",children:E},h),o=ws(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=qf(a),o.childLanes=Gf(t,y,a),n.memoizedState=Ff,tl(null,o)):(wr(n),Kf(n,E))}var M=t.memoizedState;if(M!==null&&(E=M.dehydrated,E!==null)){if(f)n.flags&256?(wr(n),n.flags&=-257,n=Yf(t,n,a)):n.memoizedState!==null?(Ir(),n.child=t.child,n.flags|=128,n=null):(Ir(),E=o.fallback,h=n.mode,o=ec({mode:"visible",children:o.children},h),E=ws(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Vs(n,t.child,null,a),o=n.child,o.memoizedState=qf(a),o.childLanes=Gf(t,y,a),n.memoizedState=Ff,n=tl(null,o));else if(wr(n),wd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var j=y.dgst;y=j,o=Error(s(419)),o.stack="",o.digest=y,Fo({value:o,source:null,stack:null}),n=Yf(t,n,a)}else if(Rt||Sa(t,n,a,!1),y=(a&t.childLanes)!==0,Rt||y){if(y=tt,y!==null&&(o=bo(y,a),o!==0&&o!==M.retryLane))throw M.retryLane=o,Ns(t,o),cn(y,t,o),zf;Nd(E)||uc(),n=Yf(t,n,a)}else Nd(E)?(n.flags|=192,n.child=t.child,n=null):(t=M.treeContext,it=Ln(E.nextSibling),zt=n,ke=!0,Tr=null,On=!1,t!==null&&Wg(n,t),n=Kf(n,o.children),n.flags|=4096);return n}return h?(Ir(),E=o.fallback,h=n.mode,M=t.child,j=M.sibling,o=ji(M,{mode:"hidden",children:o.children}),o.subtreeFlags=M.subtreeFlags&65011712,j!==null?E=ji(j,E):(E=ws(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,tl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=qf(a):(h=E.cachePool,h!==null?(M=At._currentValue,h=h.parent!==M?{parent:M,pool:M}:h):h=rp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Gf(t,y,a),n.memoizedState=Ff,tl(t.child,o)):(wr(n),a=t.child,t=a.sibling,a=ji(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Kf(t,n){return n=ec({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ec(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function Yf(t,n,a){return Vs(n,t.child,null,a),t=Kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function yy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),lf(t.return,n,a)}function Qf(t,n,a,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function _y(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=mt.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,ie(mt,y),Ft(t,n,o,a),o=ke?Ho:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,a,n);else if(t.tag===19)yy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Hu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Qf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Qf(n,!0,a,null,f,o);break;case"together":Qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ki(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Dr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Sa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=ji(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ji(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Xf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function K2(t,n,a){switch(n.tag){case 3:Mt(n,n.stateNode.containerInfo),Ar(n,At,t.memoizedState.cache),Is();break;case 27:case 5:ls(n);break;case 4:Mt(n,n.stateNode.containerInfo);break;case 10:Ar(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(wr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?py(t,n,a):(wr(n),t=Ki(t,n,a),t!==null?t.sibling:null);wr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Sa(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return _y(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(mt,mt.current),o)break;return null;case 22:return n.lanes=0,cy(t,n,a,n.pendingProps);case 24:Ar(n,At,t.memoizedState.cache)}return Ki(t,n,a)}function vy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Rt=!0;else{if(!Xf(t,a)&&(n.flags&128)===0)return Rt=!1,K2(t,n,a);Rt=(t.flags&131072)!==0}else Rt=!1,ke&&(n.flags&1048576)!==0&&Jg(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=xs(n.elementType),n.type=t,typeof t=="function")Zh(t)?(o=Us(t,o),n.tag=1,n=my(null,n,t,o,a)):(n.tag=0,n=Hf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ue){n.tag=11,n=oy(null,n,t,o,a);break e}else if(h===D){n.tag=14,n=ly(null,n,t,o,a);break e}}throw n=Ee(t)||t,Error(s(306,n,""))}}return n;case 0:return Hf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Us(o,n.pendingProps),my(t,n,o,h,a);case 3:e:{if(Mt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,gf(t,n),$o(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Ar(n,At,o),o!==f.cache&&uf(n,[At],a,!0),Xo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=gy(t,n,o,a);break e}else if(o!==h){h=Mn(Error(s(424)),n),Fo(h),n=gy(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=Ln(t.firstChild),zt=n,ke=!0,Tr=null,On=!0,a=cp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Is(),o===h){n=Ki(t,n,a);break e}Ft(t,n,o,a)}n=n.child}return n;case 26:return Zu(t,n),t===null?(a=M0(n.type,null,n.pendingProps,null))?n.memoizedState=a:ke||(a=n.type,t=n.pendingProps,o=pc(Ie.current).createElement(a),o[Et]=n,o[Vt]=t,qt(o,a,t),Tt(o),n.stateNode=o):n.memoizedState=M0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ls(n),t===null&&ke&&(o=n.stateNode=w0(n.type,n.pendingProps,Ie.current),zt=n,On=!0,h=it,Ur(n.type)?(Id=h,it=Ln(o.firstChild)):it=h),Ft(t,n,n.pendingProps.children,a),Zu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ke&&((h=o=it)&&(o=bT(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,zt=n,it=Ln(o.firstChild),On=!1,h=!0):h=!1),h||br(n)),ls(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,Ad(h,f)?o=null:y!==null&&Ad(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(t,n,k2,null,null,a),pl._currentValue=h),Zu(t,n),Ft(t,n,o,a),n.child;case 6:return t===null&&ke&&((t=a=it)&&(a=AT(a,n.pendingProps,On),a!==null?(n.stateNode=a,zt=n,it=null,t=!0):t=!1),t||br(n)),null;case 13:return py(t,n,a);case 4:return Mt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Vs(n,null,o,a):Ft(t,n,o,a),n.child;case 11:return oy(t,n,n.type,n.pendingProps,a);case 7:return Ft(t,n,n.pendingProps,a),n.child;case 8:return Ft(t,n,n.pendingProps.children,a),n.child;case 12:return Ft(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ar(n,n.type,o.value),Ft(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ms(n),h=Ht(h),o=o(h),n.flags|=1,Ft(t,n,o,a),n.child;case 14:return ly(t,n,n.type,n.pendingProps,a);case 15:return uy(t,n,n.type,n.pendingProps,a);case 19:return _y(t,n,a);case 31:return G2(t,n,a);case 22:return cy(t,n,a,n.pendingProps);case 24:return Ms(n),o=Ht(At),t===null?(h=ff(),h===null&&(h=tt,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},mf(n),Ar(n,At,h)):((t.lanes&a)!==0&&(gf(t,n),$o(n,null,null,a),Xo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ar(n,At,o)):(o=f.cache,Ar(n,At,o),o!==h.cache&&uf(n,[At],a,!0))),Ft(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Yi(t){t.flags|=4}function $f(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ky())t.flags|=8192;else throw Os=Pu,df}else t.flags&=-16777217}function Ey(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L0(n))if(Ky())t.flags|=8192;else throw Os=Pu,df}function tc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ou():536870912,t.lanes|=n,Ua|=n)}function nl(t,n){if(!ke)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function Y2(t,n,a){var o=n.pendingProps;switch(rf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(n),null;case 1:return rt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fi(At),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Aa(n)?Yi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),rt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Yi(n),f!==null?(rt(n),Ey(n,f)):(rt(n),$f(n,h,null,o,a))):f?f!==t.memoizedState?(Yi(n),rt(n),Ey(n,f)):(rt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Yi(n),rt(n),$f(n,h,t,o,a)),null;case 27:if(ta(n),a=Ie.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Yi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return rt(n),null}t=ae.current,Aa(n)?Zg(n):(t=w0(h,o,a),n.stateNode=t,Yi(n))}return rt(n),null;case 5:if(ta(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Yi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return rt(n),null}if(f=ae.current,Aa(n))Zg(n);else{var y=pc(Ie.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Et]=n,f[Vt]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(qt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Yi(n)}}return rt(n),$f(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Yi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=Ie.current,Aa(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=zt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Et]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||p0(t.nodeValue,a)),t||br(n,!0)}else t=pc(t).createTextNode(o),t[Et]=n,n.stateNode=t}return rt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Aa(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),t=!1}else a=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return rt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),h=!1}else h=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),tc(n,n.updateQueue),rt(n),null);case 4:return at(),t===null&&_d(n.stateNode.containerInfo),rt(n),null;case 10:return Fi(n.type),rt(n),null;case 19:if(F(mt),o=n.memoizedState,o===null)return rt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)nl(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Hu(t),f!==null){for(n.flags|=128,nl(o,!1),t=f.updateQueue,n.updateQueue=t,tc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Qg(a,t),a=a.sibling;return ie(mt,mt.current&1|2),ke&&zi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Zt()>ac&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Hu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,tc(n,t),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ke)return rt(n),null}else 2*Zt()-o.renderingStartTime>ac&&a!==536870912&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Zt(),t.sibling=null,a=mt.current,ie(mt,h?a&1|2:a&1),ke&&zi(n,o.treeForkCount),t):(rt(n),null);case 22:case 23:return vn(n),vf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(rt(n),n.subtreeFlags&6&&(n.flags|=8192)):rt(n),a=n.updateQueue,a!==null&&tc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&F(Ds),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Fi(At),rt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Q2(t,n){switch(rf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Fi(At),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ta(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(s(340));Is()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Is()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return F(mt),null;case 4:return at(),null;case 10:return Fi(n.type),null;case 22:case 23:return vn(n),vf(),t!==null&&F(Ds),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Fi(At),null;case 25:return null;default:return null}}function Ty(t,n){switch(rf(n),n.tag){case 3:Fi(At),at();break;case 26:case 27:case 5:ta(n);break;case 4:at();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:F(mt);break;case 10:Fi(n.type);break;case 22:case 23:vn(n),vf(),t!==null&&F(Ds);break;case 24:Fi(At)}}function il(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Xe(n,n.return,E)}}function Cr(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var M=a,j=E;try{j()}catch(Q){Xe(h,M,Q)}}}o=o.next}while(o!==f)}}catch(Q){Xe(n,n.return,Q)}}function by(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{fp(n,a)}catch(o){Xe(t,t.return,o)}}}function Ay(t,n,a){a.props=Us(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Xe(t,n,o)}}function rl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Xe(t,n,h)}}function Ai(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,n,h)}else a.current=null}function Sy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function Jf(t,n,a){try{var o=t.stateNode;pT(o,t.type,a,n),o[Vt]=n}catch(h){Xe(t,t.return,h)}}function Ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ur(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&Ur(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Zf(t,n,a),t=t.sibling;t!==null;)Zf(t,n,a),t=t.sibling}function nc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ur(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(nc(t,n,a),t=t.sibling;t!==null;)nc(t,n,a),t=t.sibling}function Ny(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);qt(n,o,a),n[Et]=t,n[Vt]=a}catch(f){Xe(t,t.return,f)}}var Qi=!1,Nt=!1,ed=!1,wy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function X2(t,n){if(t=t.containerInfo,Td=Ac,t=Bg(t),Kh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,E=-1,M=-1,j=0,Q=0,J=t,z=null;t:for(;;){for(var q;J!==a||h!==0&&J.nodeType!==3||(E=y+h),J!==f||o!==0&&J.nodeType!==3||(M=y+o),J.nodeType===3&&(y+=J.nodeValue.length),(q=J.firstChild)!==null;)z=J,J=q;for(;;){if(J===t)break t;if(z===a&&++j===h&&(E=y),z===f&&++Q===o&&(M=y),(q=J.nextSibling)!==null)break;J=z,z=J.parentNode}J=q}a=E===-1||M===-1?null:{start:E,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(bd={focusedElem:t,selectionRange:a},Ac=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ce=Us(a.type,h);t=o.getSnapshotBeforeUpdate(ce,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Xe(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Rd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function Iy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),o&4&&il(5,a);break;case 1:if($i(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Xe(a,a.return,y)}else{var h=Us(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xe(a,a.return,y)}}o&64&&by(a),o&512&&rl(a,a.return);break;case 3:if($i(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{fp(t,n)}catch(y){Xe(a,a.return,y)}}break;case 27:n===null&&o&4&&Ny(a);case 26:case 5:$i(t,a),n===null&&o&4&&Sy(a),o&512&&rl(a,a.return);break;case 12:$i(t,a);break;case 31:$i(t,a),o&4&&Dy(t,a);break;case 13:$i(t,a),o&4&&xy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=rT.bind(null,a),ST(t,a))));break;case 22:if(o=a.memoizedState!==null||Qi,!o){n=n!==null&&n.memoizedState!==null||Nt,h=Qi;var f=Nt;Qi=o,(Nt=n)&&!f?Ji(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),Qi=h,Nt=f}break;case 30:break;default:$i(t,a)}}function Cy(t){var n=t.alternate;n!==null&&(t.alternate=null,Cy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&aa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,an=!1;function Xi(t,n,a){for(a=a.child;a!==null;)My(t,n,a),a=a.sibling}function My(t,n,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:Nt||Ai(a,n),Xi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ai(a,n);var o=lt,h=an;Ur(a.type)&&(lt=a.stateNode,an=!1),Xi(t,n,a),dl(a.stateNode),lt=o,an=h;break;case 5:Nt||Ai(a,n);case 6:if(o=lt,h=an,lt=null,Xi(t,n,a),lt=o,an=h,lt!==null)if(an)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Xe(a,n,f)}else try{lt.removeChild(a.stateNode)}catch(f){Xe(a,n,f)}break;case 18:lt!==null&&(an?(t=lt,b0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),qa(t)):b0(lt,a.stateNode));break;case 4:o=lt,h=an,lt=a.stateNode.containerInfo,an=!0,Xi(t,n,a),lt=o,an=h;break;case 0:case 11:case 14:case 15:Cr(2,a,n),Nt||Cr(4,a,n),Xi(t,n,a);break;case 1:Nt||(Ai(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ay(a,n,o)),Xi(t,n,a);break;case 21:Xi(t,n,a);break;case 22:Nt=(o=Nt)||a.memoizedState!==null,Xi(t,n,a),Nt=o;break;default:Xi(t,n,a)}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qa(t)}catch(a){Xe(n,n.return,a)}}}function xy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qa(t)}catch(a){Xe(n,n.return,a)}}function $2(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new wy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new wy),n;default:throw Error(s(435,t.tag))}}function ic(t,n){var a=$2(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=sT.bind(null,t,o);o.then(h,h)}})}function on(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Ur(E.type)){lt=E.stateNode,an=!1;break e}break;case 5:lt=E.stateNode,an=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,an=!0;break e}E=E.return}if(lt===null)throw Error(s(160));My(f,y,h),lt=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,t),n=n.sibling}var $n=null;function Oy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),ln(t),o&4&&(Cr(3,t,t.return),il(3,t),Cr(5,t,t.return));break;case 1:on(n,t),ln(t),o&512&&(Nt||a===null||Ai(a,a.return)),o&64&&Qi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=$n;if(on(n,t),ln(t),o&512&&(Nt||a===null||Ai(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),qt(f,o,a),f[Et]=t,Tt(f),o=f;break e;case"link":var y=O0("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(o),qt(f,o,a),h.head.appendChild(f);break;case"meta":if(y=O0("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break t}}f=h.createElement(o),qt(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Et]=t,Tt(f),o=f}t.stateNode=o}else V0(h,t.type,t.stateNode);else t.stateNode=x0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?V0(h,t.type,t.stateNode):x0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(n,t),ln(t),o&512&&(Nt||a===null||Ai(a,a.return)),a!==null&&o&4&&Jf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(n,t),ln(t),o&512&&(Nt||a===null||Ai(a,a.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(ce){Xe(t,t.return,ce)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Jf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(on(n,t),ln(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ce){Xe(t,t.return,ce)}}break;case 3:if(vc=null,h=$n,$n=yc(n.containerInfo),on(n,t),$n=h,ln(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(ce){Xe(t,t.return,ce)}ed&&(ed=!1,Vy(t));break;case 4:o=$n,$n=yc(t.stateNode.containerInfo),on(n,t),ln(t),$n=o;break;case 12:on(n,t),ln(t);break;case 31:on(n,t),ln(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 13:on(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sc=Zt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 22:h=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,j=Qi,Q=Nt;if(Qi=j||h,Nt=Q||M,on(n,t),Nt=Q,Qi=j,ln(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||M||Qi||Nt||ks(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){M=a=n;try{if(f=M.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=M.stateNode;var J=M.memoizedProps.style,z=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ce){Xe(M,M.return,ce)}}}else if(n.tag===6){if(a===null){M=n;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(ce){Xe(M,M.return,ce)}}}else if(n.tag===18){if(a===null){M=n;try{var q=M.stateNode;h?A0(q,!0):A0(M.stateNode,!1)}catch(ce){Xe(M,M.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ic(t,a))));break;case 19:on(n,t),ln(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 30:break;case 21:break;default:on(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Ry(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Wf(t);nc(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(sn(y,""),a.flags&=-33);var E=Wf(t);nc(t,E,y);break;case 3:case 4:var M=a.stateNode.containerInfo,j=Wf(t);Zf(t,j,M);break;default:throw Error(s(161))}}catch(Q){Xe(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(t,n.alternate,n),n=n.sibling}function ks(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Cr(4,n,n.return),ks(n);break;case 1:Ai(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ay(n,n.return,a),ks(n);break;case 27:dl(n.stateNode);case 26:case 5:Ai(n,n.return),ks(n);break;case 22:n.memoizedState===null&&ks(n);break;case 30:ks(n);break;default:ks(n)}t=t.sibling}}function Ji(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(h,f,a),il(4,f);break;case 1:if(Ji(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Xe(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)hp(M[h],E)}catch(j){Xe(o,o.return,j)}}a&&y&64&&by(f),rl(f,f.return);break;case 27:Ny(f);case 26:case 5:Ji(h,f,a),a&&o===null&&y&4&&Sy(f),rl(f,f.return);break;case 12:Ji(h,f,a);break;case 31:Ji(h,f,a),a&&y&4&&Dy(h,f);break;case 13:Ji(h,f,a),a&&y&4&&xy(h,f);break;case 22:f.memoizedState===null&&Ji(h,f,a),rl(f,f.return);break;case 30:break;default:Ji(h,f,a)}n=n.sibling}}function td(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&qo(a))}function nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&qo(t))}function Jn(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(t,n,a,o),n=n.sibling}function Ly(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,a,o),h&2048&&il(9,n);break;case 1:Jn(t,n,a,o);break;case 3:Jn(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&qo(t)));break;case 12:if(h&2048){Jn(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Xe(n,n.return,M)}}else Jn(t,n,a,o);break;case 31:Jn(t,n,a,o);break;case 13:Jn(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,a,o):sl(t,n):f._visibility&2?Jn(t,n,a,o):(f._visibility|=2,Oa(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(y,n);break;case 24:Jn(t,n,a,o),h&2048&&nd(n.alternate,n);break;default:Jn(t,n,a,o)}}function Oa(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=a,M=o,j=y.flags;switch(y.tag){case 0:case 11:case 15:Oa(f,y,E,M,h),il(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Oa(f,y,E,M,h):sl(f,y):(Q._visibility|=2,Oa(f,y,E,M,h)),h&&j&2048&&td(y.alternate,y);break;case 24:Oa(f,y,E,M,h),h&&j&2048&&nd(y.alternate,y);break;default:Oa(f,y,E,M,h)}n=n.sibling}}function sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:sl(a,o),h&2048&&td(o.alternate,o);break;case 24:sl(a,o),h&2048&&nd(o.alternate,o);break;default:sl(a,o)}n=n.sibling}}var al=8192;function Va(t,n,a){if(t.subtreeFlags&al)for(t=t.child;t!==null;)Uy(t,n,a),t=t.sibling}function Uy(t,n,a){switch(t.tag){case 26:Va(t,n,a),t.flags&al&&t.memoizedState!==null&&UT(a,$n,t.memoizedState,t.memoizedProps);break;case 5:Va(t,n,a);break;case 3:case 4:var o=$n;$n=yc(t.stateNode.containerInfo),Va(t,n,a),$n=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=al,al=16777216,Va(t,n,a),al=o):Va(t,n,a));break;default:Va(t,n,a)}}function ky(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ol(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ut=o,By(o,t)}ky(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Py(t),t=t.sibling}function Py(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&Cr(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,rc(t)):ol(t);break;default:ol(t)}}function rc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ut=o,By(o,t)}ky(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Cr(8,n,n.return),rc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,rc(n));break;default:rc(n)}t=t.sibling}}function By(t,n){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Cr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ut=o;else e:for(a=t;Ut!==null;){o=Ut;var h=o.sibling,f=o.return;if(Cy(o),o===a){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var J2={getCacheForType:function(t){var n=Ht(At),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ht(At).controller.signal}},W2=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,Me=null,xe=0,Qe=0,En=null,Mr=!1,La=!1,id=!1,Wi=0,ht=0,Dr=0,Ps=0,rd=0,Tn=0,Ua=0,ll=null,un=null,sd=!1,sc=0,jy=0,ac=1/0,oc=null,xr=null,xt=0,Or=null,ka=null,Zi=0,ad=0,od=null,zy=null,ul=0,ld=null;function bn(){return(Ge&2)!==0&&xe!==0?xe&-xe:K.T!==null?md():lu()}function Hy(){if(Tn===0)if((xe&536870912)===0||ke){var t=hs;hs<<=1,(hs&3932160)===0&&(hs=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function cn(t,n,a){(t===tt&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),Vr(t,xe,Tn,!1)),fs(t,a),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(Ps|=a),ht===4&&Vr(t,xe,Tn,!1)),Si(t))}function Fy(t,n,a){if((Ge&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),h=o?tT(t,n):cd(t,n,!0),f=o;do{if(h===0){La&&!o&&Vr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!Z2(a)){h=cd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=ll;var M=E.current.memoizedState.isDehydrated;if(M&&(Pa(E,y).flags|=256),y=cd(E,y,!1),y!==2){if(id&&!M){E.errorRecoveryDisabledLanes|=f,Ps|=f,h=4;break e}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Pa(t,0),Vr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Vr(o,n,Tn,!Mr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=sc+300-Zt(),10<h)){if(Vr(o,n,Tn,!Mr),ai(o,0,!0)!==0)break e;Zi=n,o.timeoutHandle=E0(qy.bind(null,o,a,un,oc,sd,n,Tn,Ps,Ua,Mr,f,"Throttled",-0,0),h);break e}qy(o,a,un,oc,sd,n,Tn,Ps,Ua,Mr,f,null,-0,0)}}break}while(!0);Si(t)}function qy(t,n,a,o,h,f,y,E,M,j,Q,J,z,q){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Uy(n,f,J);var ce=(f&62914560)===f?sc-Zt():(f&4194048)===f?jy-Zt():0;if(ce=kT(J,ce),ce!==null){Zi=f,t.cancelPendingCommit=ce(Wy.bind(null,t,n,f,a,o,h,y,E,M,Q,J,null,z,q)),Vr(t,f,y,!j);return}}Wy(t,n,f,a,o,h,y,E,M)}function Z2(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vr(t,n,a,o){n&=~rd,n&=~Ps,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-ft(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&ds(t,a,n)}function lc(){return(Ge&6)===0?(cl(0),!1):!0}function ud(){if(Me!==null){if(Qe===0)var t=Me.return;else t=Me,Hi=Cs=null,Rf(t),Ia=null,Ko=0,t=Me;for(;t!==null;)Ty(t.alternate,t),t=t.return;Me=null}}function Pa(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,vT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zi=0,ud(),tt=t,Me=a=ji(t.current,null),xe=n,Qe=0,En=null,Mr=!1,La=zn(t,n),id=!1,Ua=Tn=rd=Ps=Dr=ht=0,un=ll=null,sd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ft(o),f=1<<h;n|=t[h],o&=~f}return Wi=n,Cu(),a}function Gy(t,n){we=null,K.H=el,n===wa||n===ku?(n=op(),Qe=3):n===df?(n=op(),Qe=4):Qe=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Me===null&&(ht=1,Ju(t,Mn(n,t.current)))}function Ky(){var t=_n.current;return t===null?!0:(xe&4194048)===xe?Vn===null:(xe&62914560)===xe||(xe&536870912)!==0?t===Vn:!1}function Yy(){var t=K.H;return K.H=el,t===null?el:t}function Qy(){var t=K.A;return K.A=J2,t}function uc(){ht=4,Mr||(xe&4194048)!==xe&&_n.current!==null||(La=!0),(Dr&134217727)===0&&(Ps&134217727)===0||tt===null||Vr(tt,xe,Tn,!1)}function cd(t,n,a){var o=Ge;Ge|=2;var h=Yy(),f=Qy();(tt!==t||xe!==n)&&(oc=null,Pa(t,n)),n=!1;var y=ht;e:do try{if(Qe!==0&&Me!==null){var E=Me,M=En;switch(Qe){case 8:ud(),y=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var j=Qe;if(Qe=0,En=null,Ba(t,E,M,j),a&&La){y=0;break e}break;default:j=Qe,Qe=0,En=null,Ba(t,E,M,j)}}eT(),y=ht;break}catch(Q){Gy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Hi=Cs=null,Ge=o,K.H=h,K.A=f,Me===null&&(tt=null,xe=0,Cu()),y}function eT(){for(;Me!==null;)Xy(Me)}function tT(t,n){var a=Ge;Ge|=2;var o=Yy(),h=Qy();tt!==t||xe!==n?(oc=null,ac=Zt()+500,Pa(t,n)):La=zn(t,n);e:do try{if(Qe!==0&&Me!==null){n=Me;var f=En;t:switch(Qe){case 1:Qe=0,En=null,Ba(t,n,f,1);break;case 2:case 9:if(sp(f)){Qe=0,En=null,$y(n);break}n=function(){Qe!==2&&Qe!==9||tt!==t||(Qe=7),Si(t)},f.then(n,n);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:sp(f)?(Qe=0,En=null,$y(n)):(Qe=0,En=null,Ba(t,n,f,7));break;case 5:var y=null;switch(Me.tag){case 26:y=Me.memoizedState;case 5:case 27:var E=Me;if(y?L0(y):E.stateNode.complete){Qe=0,En=null;var M=E.sibling;if(M!==null)Me=M;else{var j=E.return;j!==null?(Me=j,cc(j)):Me=null}break t}}Qe=0,En=null,Ba(t,n,f,5);break;case 6:Qe=0,En=null,Ba(t,n,f,6);break;case 8:ud(),ht=6;break e;default:throw Error(s(462))}}nT();break}catch(Q){Gy(t,Q)}while(!0);return Hi=Cs=null,K.H=o,K.A=h,Ge=a,Me!==null?0:(tt=null,xe=0,Cu(),ht)}function nT(){for(;Me!==null&&!Bh();)Xy(Me)}function Xy(t){var n=vy(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,n===null?cc(t):Me=n}function $y(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=dy(a,n,n.pendingProps,n.type,void 0,xe);break;case 11:n=dy(a,n,n.pendingProps,n.type.render,n.ref,xe);break;case 5:Rf(n);default:Ty(a,n),n=Me=Qg(n,Wi),n=vy(a,n,Wi)}t.memoizedProps=t.pendingProps,n===null?cc(t):Me=n}function Ba(t,n,a,o){Hi=Cs=null,Rf(n),Ia=null,Ko=0;var h=n.return;try{if(q2(t,h,n,a,xe)){ht=1,Ju(t,Mn(a,t.current)),Me=null;return}}catch(f){if(h!==null)throw Me=h,f;ht=1,Ju(t,Mn(a,t.current)),Me=null;return}n.flags&32768?(ke||o===1?t=!0:La||(xe&536870912)!==0?t=!1:(Mr=t=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jy(n,t)):cc(n)}function cc(t){var n=t;do{if((n.flags&32768)!==0){Jy(n,Mr);return}t=n.return;var a=Y2(n.alternate,n,Wi);if(a!==null){Me=a;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=t}while(n!==null);ht===0&&(ht=5)}function Jy(t,n){do{var a=Q2(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);ht=6,Me=null}function Wy(t,n,a,o,h,f,y,E,M){t.cancelPendingCommit=null;do hc();while(xt!==0);if((Ge&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Jh,Hh(t,a,f,y,E,M),t===tt&&(Me=tt=null,xe=0),ka=n,Or=t,Zi=a,ad=f,od=h,zy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,aT(cr,function(){return i0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=ne.p,ne.p=2,y=Ge,Ge|=4;try{X2(t,n,a)}finally{Ge=y,ne.p=h,K.T=o}}xt=1,Zy(),e0(),t0()}}function Zy(){if(xt===1){xt=0;var t=Or,n=ka,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=ne.p;ne.p=2;var h=Ge;Ge|=4;try{Oy(n,t);var f=bd,y=Bg(t.containerInfo),E=f.focusedElem,M=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Pg(E.ownerDocument.documentElement,E)){if(M!==null&&Kh(E)){var j=M.start,Q=M.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var J=E.ownerDocument||document,z=J&&J.defaultView||window;if(z.getSelection){var q=z.getSelection(),ce=E.textContent.length,ge=Math.min(M.start,ce),Ze=M.end===void 0?ge:Math.min(M.end,ce);!q.extend&&ge>Ze&&(y=Ze,Ze=ge,ge=y);var U=kg(E,ge),O=kg(E,Ze);if(U&&O&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var B=J.createRange();B.setStart(U.node,U.offset),q.removeAllRanges(),ge>Ze?(q.addRange(B),q.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),q.addRange(B))}}}}for(J=[],q=E;q=q.parentNode;)q.nodeType===1&&J.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var X=J[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ac=!!Td,bd=Td=null}finally{Ge=h,ne.p=o,K.T=a}}t.current=n,xt=2}}function e0(){if(xt===2){xt=0;var t=Or,n=ka,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=ne.p;ne.p=2;var h=Ge;Ge|=4;try{Iy(t,n.alternate,n)}finally{Ge=h,ne.p=o,K.T=a}}xt=3}}function t0(){if(xt===4||xt===3){xt=0,tu();var t=Or,n=ka,a=Zi,o=zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xt=5:(xt=0,ka=Or=null,n0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(xr=null),Ui(a),n=n.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=K.T,h=ne.p,ne.p=2,K.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{K.T=n,ne.p=h}}(Zi&3)!==0&&hc(),Si(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ld?ul++:(ul=0,ld=t):ul=0,cl(0)}}function n0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,qo(n)))}function hc(){return Zy(),e0(),t0(),i0()}function i0(){if(xt!==5)return!1;var t=Or,n=ad;ad=0;var a=Ui(Zi),o=K.T,h=ne.p;try{ne.p=32>a?32:a,K.T=null,a=od,od=null;var f=Or,y=Zi;if(xt=0,ka=Or=null,Zi=0,(Ge&6)!==0)throw Error(s(331));var E=Ge;if(Ge|=4,Py(f.current),Ly(f,f.current,y,a),Ge=E,cl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{ne.p=h,K.T=o,n0(t,n)}}function r0(t,n,a){n=Mn(a,n),n=jf(t.stateNode,n,2),t=Nr(t,n,2),t!==null&&(fs(t,2),Si(t))}function Xe(t,n,a){if(t.tag===3)r0(t,t,a);else for(;n!==null;){if(n.tag===3){r0(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(xr===null||!xr.has(o))){t=Mn(a,t),a=sy(2),o=Nr(n,a,2),o!==null&&(ay(a,o,n,t),fs(o,2),Si(o));break}}n=n.return}}function hd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new W2;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(id=!0,h.add(a),t=iT.bind(null,t,n,a),n.then(t,t))}function iT(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(xe&a)===a&&(ht===4||ht===3&&(xe&62914560)===xe&&300>Zt()-sc?(Ge&2)===0&&Pa(t,0):rd|=a,Ua===xe&&(Ua=0)),Si(t)}function s0(t,n){n===0&&(n=ou()),t=Ns(t,n),t!==null&&(fs(t,n),Si(t))}function rT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),s0(t,a)}function sT(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),s0(t,a)}function aT(t,n){return Dt(t,n)}var fc=null,ja=null,fd=!1,dc=!1,dd=!1,Lr=0;function Si(t){t!==ja&&t.next===null&&(ja===null?fc=ja=t:ja=ja.next=t),dc=!0,fd||(fd=!0,lT())}function cl(t,n){if(!dd&&dc){dd=!0;do for(var a=!1,o=fc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ft(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,u0(o,f))}else f=xe,f=ai(o,o===tt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(a=!0,u0(o,f));o=o.next}while(a);dd=!1}}function oT(){a0()}function a0(){dc=fd=!1;var t=0;Lr!==0&&_T()&&(t=Lr);for(var n=Zt(),a=null,o=fc;o!==null;){var h=o.next,f=o0(o,n);f===0?(o.next=null,a===null?fc=h:a.next=h,h===null&&(ja=a)):(a=o,(t!==0||(f&3)!==0)&&(dc=!0)),o=h}xt!==0&&xt!==5||cl(t),Lr!==0&&(Lr=0)}function o0(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ft(f),E=1<<y,M=h[y];M===-1?((E&a)===0||(E&o)!==0)&&(h[y]=zh(E,n)):M<=n&&(t.expiredLanes|=E),f&=~E}if(n=tt,a=xe,a=ai(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ur(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&ur(o),Ui(a)){case 2:case 8:a=Eo;break;case 32:a=cr;break;case 268435456:a=nu;break;default:a=cr}return o=l0.bind(null,t),a=Dt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&ur(o),t.callbackPriority=2,t.callbackNode=null,2}function l0(t,n){if(xt!==0&&xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(hc()&&t.callbackNode!==a)return null;var o=xe;return o=ai(t,t===tt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Fy(t,o,n),o0(t,Zt()),t.callbackNode!=null&&t.callbackNode===a?l0.bind(null,t):null)}function u0(t,n){if(hc())return null;Fy(t,n,!0)}function lT(){ET(function(){(Ge&6)!==0?Dt(vo,oT):a0()})}function md(){if(Lr===0){var t=Ra;t===0&&(t=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Lr=t}return Lr}function c0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ca(""+t)}function h0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function uT(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=c0((h[Vt]||null).action),y=o.submitter;y&&(n=(n=y[Vt]||null)?c0(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new yi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Lr!==0){var M=y?h0(h,y):new FormData(h);Vf(a,{pending:!0,data:M,method:h.method,action:f},null,M)}}else typeof f=="function"&&(E.preventDefault(),M=y?h0(h,y):new FormData(h),Vf(a,{pending:!0,data:M,method:h.method,action:f},f,M))},currentTarget:h}]})}}for(var gd=0;gd<$h.length;gd++){var pd=$h[gd],cT=pd.toLowerCase(),hT=pd[0].toUpperCase()+pd.slice(1);Xn(cT,"on"+hT)}Xn(Hg,"onAnimationEnd"),Xn(Fg,"onAnimationIteration"),Xn(qg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(w2,"onTransitionRun"),Xn(I2,"onTransitionStart"),Xn(C2,"onTransitionCancel"),Xn(Gg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function f0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],M=E.instance,j=E.currentTarget;if(E=E.listener,M!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=M}else for(y=0;y<o.length;y++){if(E=o[y],M=E.instance,j=E.currentTarget,E=E.listener,M!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=M}}}}function De(t,n){var a=n[sa];a===void 0&&(a=n[sa]=new Set);var o=t+"__bubble";a.has(o)||(d0(n,t,2,!1),a.add(o))}function yd(t,n,a){var o=0;n&&(o|=4),d0(a,t,o,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[mc]){t[mc]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(fT.has(a)||yd(a,!1,t),yd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mc]||(n[mc]=!0,yd("selectionchange",!1,n))}}function d0(t,n,a,o){switch(H0(n)){case 2:var h=jT;break;case 8:h=zT;break;default:h=Od}a=h.bind(null,n,a,t),h=void 0,!_s||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function vd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var M=y.tag;if((M===3||M===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=ci(E),y===null)return;if(M=y.tag,M===5||M===6||M===26||M===27){o=f=y;continue e}E=E.parentNode}}o=o.return}pr(function(){var j=f,Q=Nn(a),J=[];e:{var z=Kg.get(t);if(z!==void 0){var q=yi,ce=t;switch(t){case"keypress":if(Es(a)===0)break e;case"keydown":case"keyup":q=Ru;break;case"focusin":ce="focus",q=bs;break;case"focusout":ce="blur",q=bs;break;case"beforeblur":case"afterblur":q=bs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Hg:case Fg:case qg:q=_u;break;case Gg:q=A;break;case"scroll":case"scrollend":q=Lo;break;case"wheel":q=H;break;case"copy":case"cut":case"paste":q=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Bi;break;case"toggle":case"beforetoggle":q=Ne}var ge=(n&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),U=ge?z!==null?z+"Capture":null:z;ge=[];for(var O=j,B;O!==null;){var X=O;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||U===null||(X=Gn(O,U),X!=null&&ge.push(fl(O,X,B))),Ze)break;O=O.return}0<ge.length&&(z=new q(z,ce,null,a,Q),J.push({event:z,listeners:ge}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&a!==xo&&(ce=a.relatedTarget||a.fromElement)&&(ci(ce)||ce[li]))break e;if((q||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ce=a.relatedTarget||a.toElement,q=j,ce=ce?ci(ce):null,ce!==null&&(Ze=c(ce),ge=ce.tag,ce!==Ze||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(q=null,ce=j),q!==ce)){if(ge=Uo,X="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Bi,X="onPointerLeave",U="onPointerEnter",O="pointer"),Ze=q==null?z:mn(q),B=ce==null?z:mn(ce),z=new ge(X,O+"leave",q,a,Q),z.target=Ze,z.relatedTarget=B,X=null,ci(Q)===j&&(ge=new ge(U,O+"enter",ce,a,Q),ge.target=B,ge.relatedTarget=Ze,X=ge),Ze=X,q&&ce)t:{for(ge=dT,U=q,O=ce,B=0,X=U;X;X=ge(X))B++;X=0;for(var de=O;de;de=ge(de))X++;for(;0<B-X;)U=ge(U),B--;for(;0<X-B;)O=ge(O),X--;for(;B--;){if(U===O||O!==null&&U===O.alternate){ge=U;break t}U=ge(U),O=ge(O)}ge=null}else ge=null;q!==null&&m0(J,z,q,ge,!1),ce!==null&&Ze!==null&&m0(J,Ze,ce,ge,!0)}}e:{if(z=j?mn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var He=Dg;else if(Cg(z))if(xg)He=S2;else{He=b2;var he=T2}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ua(j.elementType)&&(He=Dg):He=A2;if(He&&(He=He(t,j))){Mg(J,He,a,Q);break e}he&&he(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Co(z,"number",z.value)}switch(he=j?mn(j):window,t){case"focusin":(Cg(he)||he.contentEditable==="true")&&(ya=he,Yh=j,zo=null);break;case"focusout":zo=Yh=ya=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,jg(J,a,Q);break;case"selectionchange":if(N2)break;case"keydown":case"keyup":jg(J,a,Q)}var Ce;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else pa?As(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ei&&a.locale!=="ko"&&(pa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&pa&&(Ce=Vo()):(pi=Q,Oo="value"in pi?pi.value:pi.textContent,pa=!0)),he=gc(j,Oe),0<he.length&&(Oe=new vi(Oe,t,null,a,Q),J.push({event:Oe,listeners:he}),Ce?Oe.data=Ce:(Ce=ga(a),Ce!==null&&(Oe.data=Ce)))),(Ce=In?y2(t,a):_2(t,a))&&(Oe=gc(j,"onBeforeInput"),0<Oe.length&&(he=new vi("onBeforeInput","beforeinput",null,a,Q),J.push({event:he,listeners:Oe}),he.data=Ce)),uT(J,t,j,a,Q)}f0(J,n)})}function fl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function gc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(t,a),h!=null&&o.unshift(fl(t,h,f)),h=Gn(t,n),h!=null&&o.push(fl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function dT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function m0(t,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,M=E.alternate,j=E.stateNode;if(E=E.tag,M!==null&&M===o)break;E!==5&&E!==26&&E!==27||j===null||(M=j,h?(j=Gn(a,f),j!=null&&y.unshift(fl(a,j,M))):h||(j=Gn(a,f),j!=null&&y.push(fl(a,j,M)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var mT=/\r\n?/g,gT=/\u0000|\uFFFD/g;function g0(t){return(typeof t=="string"?t:""+t).replace(mT,`
`).replace(gT,"")}function p0(t,n){return n=g0(n),g0(t)===n}function We(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(t,""+o);break;case"className":gn(t,"class",o);break;case"tabIndex":gn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,o);break;case"style":Do(t,o,f);break;case"data":if(n!=="object"){gn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ca(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&We(t,n,"name",h.name,h,null),We(t,n,"formEncType",h.formEncType,h,null),We(t,n,"formMethod",h.formMethod,h,null),We(t,n,"formTarget",h.formTarget,h,null)):(We(t,n,"encType",h.encType,h,null),We(t,n,"method",h.method,h,null),We(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ca(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=qn);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ca(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":De("beforetoggle",t),De("toggle",t),oa(t,"popover",o);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gu.get(a)||a,oa(t,a,o))}}function Ed(t,n,a,o,h,f){switch(a){case"style":Do(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?sn(t,o):(typeof o=="number"||typeof o=="bigint")&&sn(t,""+o);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"onClick":o!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Vt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):oa(t,a,o)}}}function qt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:We(t,n,f,y,a,null)}}h&&We(t,n,"srcSet",a.srcSet,a,null),o&&We(t,n,"src",a.src,a,null);return;case"input":De("invalid",t);var E=f=y=h=null,M=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":y=Q;break;case"checked":M=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:We(t,n,o,Q,a,null)}}fu(t,f,E,M,j,y,h,!1);return;case"select":De("invalid",t),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:We(t,n,h,E,a,null)}n=f,a=y,t.multiple=!!o,n!=null?fr(t,!!o,n,!1):a!=null&&fr(t,!!o,a,!0);return;case"textarea":De("invalid",t),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:We(t,n,y,E,a,null)}dr(t,o,h,f);return;case"option":for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!=null)&&(M==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":We(t,n,M,o,a,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(o=0;o<hl.length;o++)De(hl[o],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:We(t,n,j,o,a,null)}return;default:if(ua(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&Ed(t,n,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&We(t,n,E,o,a,null))}function pT(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,M=null,j=null,Q=null;for(q in a){var J=a[q];if(a.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":M=J;default:o.hasOwnProperty(q)||We(t,n,q,null,o,J)}}for(var z in o){var q=o[z];if(J=a[z],o.hasOwnProperty(z)&&(q!=null||J!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":Q=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==J&&We(t,n,z,q,o,J)}}la(t,y,E,M,j,Q,f,h);return;case"select":q=y=E=z=null;for(f in a)if(M=a[f],a.hasOwnProperty(f)&&M!=null)switch(f){case"value":break;case"multiple":q=M;default:o.hasOwnProperty(f)||We(t,n,f,null,o,M)}for(h in o)if(f=o[h],M=a[h],o.hasOwnProperty(h)&&(f!=null||M!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==M&&We(t,n,h,f,o,M)}n=E,a=y,o=q,z!=null?fr(t,!!a,z,!1):!!o!=!!a&&(n!=null?fr(t,!!a,n,!0):fr(t,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:We(t,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&We(t,n,y,h,o,f)}du(t,z,q);return;case"option":for(var ce in a)z=a[ce],a.hasOwnProperty(ce)&&z!=null&&!o.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:We(t,n,ce,null,o,z));for(M in o)z=o[M],q=a[M],o.hasOwnProperty(M)&&z!==q&&(z!=null||q!=null)&&(M==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":We(t,n,M,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)z=a[ge],a.hasOwnProperty(ge)&&z!=null&&!o.hasOwnProperty(ge)&&We(t,n,ge,null,o,z);for(j in o)if(z=o[j],q=a[j],o.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:We(t,n,j,z,o,q)}return;default:if(ua(n)){for(var Ze in a)z=a[Ze],a.hasOwnProperty(Ze)&&z!==void 0&&!o.hasOwnProperty(Ze)&&Ed(t,n,Ze,void 0,o,z);for(Q in o)z=o[Q],q=a[Q],!o.hasOwnProperty(Q)||z===q||z===void 0&&q===void 0||Ed(t,n,Q,z,o,q);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&We(t,n,U,null,o,z);for(J in o)z=o[J],q=a[J],!o.hasOwnProperty(J)||z===q||z==null&&q==null||We(t,n,J,z,o,q)}function y0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&y0(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var M=a[o],j=M.startTime;if(j>E)break;var Q=M.transferSize,J=M.initiatorType;Q&&y0(J)&&(M=M.responseEnd,y+=Q*(M<E?1:(E-j)/(M-j)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Td=null,bd=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function _0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ad(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function _T(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var E0=typeof setTimeout=="function"?setTimeout:void 0,vT=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,ET=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(t){return T0.resolve(null).then(t).catch(TT)}:E0;function TT(t){setTimeout(function(){throw t})}function Ur(t){return t==="head"}function b0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),qa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")dl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,dl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&dl(t.ownerDocument.body);a=h}while(a);qa(n)}function A0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Rd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rd(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function bT(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function AT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function S0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ln(t.nextSibling),t===null))return null;return t}function Nd(t){return t.data==="$?"||t.data==="$~"}function wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ST(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Id=null;function R0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Ln(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function N0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function w0(t,n,a){switch(n=pc(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);aa(t)}var Un=new Map,I0=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var er=ne.d;ne.d={f:RT,r:NT,D:wT,C:IT,L:CT,m:MT,X:xT,S:DT,M:OT};function RT(){var t=er.f(),n=lc();return t||n}function NT(t){var n=Rn(t);n!==null&&n.tag===5&&n.type==="form"?Gp(n):er.r(t)}var za=typeof document>"u"?null:document;function C0(t,n,a){var o=za;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I0.has(h)||(I0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),qt(n,"link",t),Tt(n),o.head.appendChild(n)))}}function wT(t){er.D(t),C0("dns-prefetch",t,null)}function IT(t,n){er.C(t,n),C0("preconnect",t,n)}function CT(t,n,a){er.L(t,n,a);var o=za;if(o&&t&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var f=h;switch(n){case"style":f=Ha(t);break;case"script":f=Fa(t)}Un.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Un.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(ml(f))||n==="script"&&o.querySelector(gl(f))||(n=o.createElement("link"),qt(n,"link",t),Tt(n),o.head.appendChild(n)))}}function MT(t,n){er.m(t,n);var a=za;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(t)}if(!Un.has(f)&&(t=S({rel:"modulepreload",href:t},n),Un.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(f)))return}o=a.createElement("link"),qt(o,"link",t),Tt(o),a.head.appendChild(o)}}}function DT(t,n,a){er.S(t,n,a);var o=za;if(o&&t){var h=hi(o).hoistableStyles,f=Ha(t);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(ml(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Un.get(f))&&Cd(t,a);var M=y=o.createElement("link");Tt(M),qt(M,"link",t),M._p=new Promise(function(j,Q){M.onload=j,M.onerror=Q}),M.addEventListener("load",function(){E.loading|=1}),M.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_c(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function xT(t,n){er.X(t,n);var a=za;if(a&&t){var o=hi(a).hoistableScripts,h=Fa(t),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(t=S({src:t,async:!0},n),(n=Un.get(h))&&Md(t,n),f=a.createElement("script"),Tt(f),qt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function OT(t,n){er.M(t,n);var a=za;if(a&&t){var o=hi(a).hoistableScripts,h=Fa(t),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Un.get(h))&&Md(t,n),f=a.createElement("script"),Tt(f),qt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function M0(t,n,a,o){var h=(h=Ie.current)?yc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ha(a.href),a=hi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ha(a.href);var f=hi(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(ml(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),f||VT(h,t,a,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fa(a),a=hi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ha(t){return'href="'+rn(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function D0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function VT(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),qt(n,"link",a),Tt(n),t.head.appendChild(n))}function Fa(t){return'[src="'+rn(t)+'"]'}function gl(t){return"script[async]"+t}function x0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return n.instance=o,Tt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Tt(o),qt(o,"style",h),_c(o,a.precedence,t),n.instance=o;case"stylesheet":h=Ha(a.href);var f=t.querySelector(ml(h));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;o=D0(a),(h=Un.get(h))&&Cd(o,h),f=(t.ownerDocument||t).createElement("link"),Tt(f);var y=f;return y._p=new Promise(function(E,M){y.onload=E,y.onerror=M}),qt(f,"link",o),n.state.loading|=4,_c(f,a.precedence,t),n.instance=f;case"script":return f=Fa(a.src),(h=t.querySelector(gl(f)))?(n.instance=h,Tt(h),h):(o=a,(h=Un.get(f))&&(o=S({},a),Md(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),qt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,_c(o,a.precedence,t));return n.instance}function _c(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vc=null;function O0(t,n,a){if(vc===null){var o=new Map,h=vc=new Map;h.set(a,o)}else h=vc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ui]||f[Et]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function V0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function LT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function UT(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ha(o.href),f=n.querySelector(ml(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ec.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Tt(f);return}f=n.ownerDocument||n,o=D0(o),(h=Un.get(h))&&Cd(o,h),f=f.createElement("link"),Tt(f);var y=f;y._p=new Promise(function(E,M){y.onload=E,y.onerror=M}),qt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ec.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Dd=0;function kT(t,n){return t.stylesheets&&t.count===0&&bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*yT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function bc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(PT,t),Tc=null,Ec.call(t))}function PT(t,n){if(!(n.state.loading&4)){var a=Tc.get(t);if(a)var o=a.get(null);else{a=new Map,Tc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var pl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function BT(t,n,a,o,h,f,y,E,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function U0(t,n,a,o,h,f,y,E,M,j,Q,J){return t=new BT(t,n,a,y,M,j,Q,J,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),t.current=f,f.stateNode=t,n=cf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},mf(f),t}function k0(t){return t?(t=Ea,t):Ea}function P0(t,n,a,o,h,f){h=k0(h),o.context===null?o.context=h:o.pendingContext=h,o=Rr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Nr(t,o,n),a!==null&&(cn(a,t,n),Qo(a,t,n))}function B0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function xd(t,n){B0(t,n),(t=t.alternate)&&B0(t,n)}function j0(t){if(t.tag===13||t.tag===31){var n=Ns(t,67108864);n!==null&&cn(n,t,67108864),xd(t,67108864)}}function z0(t){if(t.tag===13||t.tag===31){var n=bn();n=ms(n);var a=Ns(t,n);a!==null&&cn(a,t,n),xd(t,n)}}var Ac=!0;function jT(t,n,a,o){var h=K.T;K.T=null;var f=ne.p;try{ne.p=2,Od(t,n,a,o)}finally{ne.p=f,K.T=h}}function zT(t,n,a,o){var h=K.T;K.T=null;var f=ne.p;try{ne.p=8,Od(t,n,a,o)}finally{ne.p=f,K.T=h}}function Od(t,n,a,o){if(Ac){var h=Vd(o);if(h===null)vd(t,n,o,Sc,a),F0(t,o);else if(FT(h,t,n,a,o))o.stopPropagation();else if(F0(t,o),n&4&&-1<HT.indexOf(t)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=si(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var M=1<<31-ft(y);E.entanglements[1]|=M,y&=~M}Si(f),(Ge&6)===0&&(ac=Zt()+500,cl(0))}}break;case 31:case 13:E=Ns(f,2),E!==null&&cn(E,f,2),lc(),xd(f,2)}if(f=Vd(o),f===null&&vd(t,n,o,Sc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else vd(t,n,o,null,a)}}function Vd(t){return t=Nn(t),Ld(t)}var Sc=null;function Ld(t){if(Sc=null,t=ci(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Sc=t,null}function H0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case vo:return 2;case Eo:return 8;case cr:case jh:return 32;case nu:return 268435456;default:return 32}default:return 32}}var Ud=!1,kr=null,Pr=null,Br=null,yl=new Map,_l=new Map,jr=[],HT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(t,n){switch(t){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(n.pointerId)}}function vl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&j0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function FT(t,n,a,o,h){switch(n){case"focusin":return kr=vl(kr,t,n,a,o,h),!0;case"dragenter":return Pr=vl(Pr,t,n,a,o,h),!0;case"mouseover":return Br=vl(Br,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return yl.set(f,vl(yl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,vl(_l.get(f)||null,t,n,a,o,h)),!0}return!1}function q0(t){var n=ci(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Hn(t.priority,function(){z0(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Hn(t.priority,function(){z0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Vd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);xo=o,a.target.dispatchEvent(o),xo=null}else return n=Rn(a),n!==null&&j0(n),t.blockedOn=a,!1;n.shift()}return!0}function G0(t,n,a){Rc(t)&&a.delete(n)}function qT(){Ud=!1,kr!==null&&Rc(kr)&&(kr=null),Pr!==null&&Rc(Pr)&&(Pr=null),Br!==null&&Rc(Br)&&(Br=null),yl.forEach(G0),_l.forEach(G0)}function Nc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ud||(Ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qT)))}var wc=null;function K0(t){wc!==t&&(wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Ld(o||a)===null)continue;break}var f=Rn(a);f!==null&&(t.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function qa(t){function n(M){return Nc(M,t)}kr!==null&&Nc(kr,t),Pr!==null&&Nc(Pr,t),Br!==null&&Nc(Br,t),yl.forEach(n),_l.forEach(n);for(var a=0;a<jr.length;a++){var o=jr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<jr.length&&(a=jr[0],a.blockedOn===null);)q0(a),a.blockedOn===null&&jr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Vt]||null;if(typeof f=="function")y||K0(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Vt]||null)E=y.formAction;else if(Ld(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),K0(a)}}}function Y0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(t){this._internalRoot=t}Ic.prototype.render=kd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=bn();P0(a,o,t,n,null,null)},Ic.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;P0(t.current,2,null,t,null,null),lc(),n[li]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=lu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<jr.length&&n!==0&&n<jr[a].priority;a++);jr.splice(a,0,t),a===0&&q0(t)}};var Q0=e.version;if(Q0!=="19.2.3")throw Error(s(527,Q0,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var GT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{jn=Cc.inject(GT),Bt=Cc}catch{}}return Tl.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=ty,f=ny,y=iy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=U0(t,1,!1,null,null,a,o,null,h,f,y,Y0),t[li]=n.current,_d(t),new kd(n)},Tl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=ty,y=ny,E=iy,M=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),n=U0(t,1,!0,n,a??null,o,h,M,f,y,E,Y0),n.context=k0(null),a=n.current,o=bn(),o=ms(o),h=Rr(o),h.callback=null,Nr(a,h,o),a=o,n.current.lanes=a,fs(n,a),Si(n),t[li]=n.current,_d(t),new Ic(n)},Tl.version="19.2.3",Tl}var r_;function nb(){if(r_)return jd.exports;r_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jd.exports=tb(),jd.exports}var ib=nb();const rb=()=>{};var s_={};const Pv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},sb=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,_=l+2<r.length,p=_?r[l+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let N=(g&15)<<2|p>>6,k=p&63;_||(k=64,d||(N=64)),s.push(i[T],i[S],i[N],i[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Pv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):sb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const p=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||p==null||S==null)throw new ab;const N=c<<2|g>>4;if(s.push(N),p!==64){const k=g<<4&240|p>>2;if(s.push(k),S!==64){const G=p<<6&192|S;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ab extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ob=function(r){const e=Pv(r);return Bv.encodeByteArray(e,!0)},Qc=function(r){return ob(r).replace(/\./g,"")},jv=function(r){try{return Bv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ub=()=>lb().__FIREBASE_DEFAULTS__,cb=()=>{if(typeof process>"u"||typeof s_>"u")return;const r=s_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},hb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&jv(r[1]);return e&&JSON.parse(e)},gh=()=>{try{return rb()||ub()||cb()||hb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},zv=r=>gh()?.emulatorHosts?.[r],Hv=r=>{const e=zv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Fv=()=>gh()?.config,qv=r=>gh()?.[`_${r}`];class fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function $s(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dm(r){return(await fetch(r,{credentials:"include"})).ok}function Gv(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Qc(JSON.stringify(i)),Qc(JSON.stringify(d)),""].join(".")}const wl={};function db(){const r={prod:[],emulator:[]};for(const e of Object.keys(wl))wl[e]?r.emulator.push(e):r.prod.push(e);return r}function mb(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let a_=!1;function xm(r,e){if(typeof window>"u"||typeof document>"u"||!$s(window.location.host)||wl[r]===e||wl[r]||a_)return;wl[r]=e;function i(N){return`__firebase__banner__${N}`}const s="__firebase__banner",c=db().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,k){N.setAttribute("width","24"),N.setAttribute("id",k),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function p(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{a_=!0,d()},N}function T(N,k){N.setAttribute("id",k),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=mb(s),k=i("text"),G=document.getElementById(k)||document.createElement("span"),Z=i("learnmore"),ee=document.getElementById(Z)||document.createElement("a"),te=i("preprendIcon"),se=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const Y=N.element;g(Y),T(ee,Z);const ue=p();_(se,te),Y.append(se,G,ee,ue),document.body.appendChild(Y)}c?(G.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function pb(){const r=gh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _b(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function vb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Eb(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Tb(){return!pb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bb(){try{return typeof indexedDB=="object"}catch{return!1}}function Ab(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const Sb="FirebaseError";class Vi extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=Sb,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?Rb(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Vi(l,g,s)}}function Rb(r,e){return r.replace(Nb,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Nb=/\{\$([^}]+)}/g;function wb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function qs(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=e[l];if(o_(c)&&o_(d)){if(!qs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function o_(r){return r!==null&&typeof r=="object"}function Fl(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ib(r,e){const i=new Cb(r,e);return i.subscribe.bind(i)}class Cb{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");Mb(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mb(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function qd(){}function Pt(r){return r&&r._delegate?r._delegate:r}class Jr{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bs="[DEFAULT]";class Db{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new fb;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ob(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xb(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xb(r){return r===Bs?void 0:r}function Ob(r){return r.instantiationMode==="EAGER"}class Vb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Db(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const Lb={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Ub=Ve.INFO,kb={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Pb=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=kb[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=Ub,this._logHandler=Pb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Bb=(r,e)=>e.some(i=>r instanceof i);let l_,u_;function jb(){return l_||(l_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zb(){return u_||(u_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,sm=new WeakMap,Yv=new WeakMap,Gd=new WeakMap,Vm=new WeakMap;function Hb(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Yr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Kv.set(i,r)}).catch(()=>{}),Vm.set(e,r),e}function Fb(r){if(sm.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});sm.set(r,e)}let am={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return sm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Yv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Yr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function qb(r){am=r(am)}function Gb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Kd(this),e,...i);return Yv.set(s,e.sort?e.sort():[e]),Yr(s)}:zb().includes(r)?function(...e){return r.apply(Kd(this),e),Yr(Kv.get(this))}:function(...e){return Yr(r.apply(Kd(this),e))}}function Kb(r){return typeof r=="function"?Gb(r):(r instanceof IDBTransaction&&Fb(r),Bb(r,jb())?new Proxy(r,am):r)}function Yr(r){if(r instanceof IDBRequest)return Hb(r);if(Gd.has(r))return Gd.get(r);const e=Kb(r);return e!==r&&(Gd.set(r,e),Vm.set(e,r)),e}const Kd=r=>Vm.get(r);function Yb(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),g=Yr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Yr(d.result),_.oldVersion,_.newVersion,Yr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const Qb=["get","getKey","getAll","getAllKeys","count"],Xb=["put","add","delete","clear"],Yd=new Map;function c_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=Xb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Qb.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let p=_.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),l&&_.done]))[0]};return Yd.set(e,c),c}qb(r=>({...r,get:(e,i,s)=>c_(e,i)||r.get(e,i,s),has:(e,i)=>!!c_(e,i)||r.has(e,i)}));class $b{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Jb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Jb(r){return r.getComponent()?.type==="VERSION"}const om="@firebase/app",h_="0.14.8";const sr=new Om("@firebase/app"),Wb="@firebase/app-compat",Zb="@firebase/analytics-compat",eA="@firebase/analytics",tA="@firebase/app-check-compat",nA="@firebase/app-check",iA="@firebase/auth",rA="@firebase/auth-compat",sA="@firebase/database",aA="@firebase/data-connect",oA="@firebase/database-compat",lA="@firebase/functions",uA="@firebase/functions-compat",cA="@firebase/installations",hA="@firebase/installations-compat",fA="@firebase/messaging",dA="@firebase/messaging-compat",mA="@firebase/performance",gA="@firebase/performance-compat",pA="@firebase/remote-config",yA="@firebase/remote-config-compat",_A="@firebase/storage",vA="@firebase/storage-compat",EA="@firebase/firestore",TA="@firebase/ai",bA="@firebase/firestore-compat",AA="firebase",SA="12.9.0";const lm="[DEFAULT]",RA={[om]:"fire-core",[Wb]:"fire-core-compat",[eA]:"fire-analytics",[Zb]:"fire-analytics-compat",[nA]:"fire-app-check",[tA]:"fire-app-check-compat",[iA]:"fire-auth",[rA]:"fire-auth-compat",[sA]:"fire-rtdb",[aA]:"fire-data-connect",[oA]:"fire-rtdb-compat",[lA]:"fire-fn",[uA]:"fire-fn-compat",[cA]:"fire-iid",[hA]:"fire-iid-compat",[fA]:"fire-fcm",[dA]:"fire-fcm-compat",[mA]:"fire-perf",[gA]:"fire-perf-compat",[pA]:"fire-rc",[yA]:"fire-rc-compat",[_A]:"fire-gcs",[vA]:"fire-gcs-compat",[EA]:"fire-fst",[bA]:"fire-fst-compat",[TA]:"fire-vertex","fire-js":"fire-js",[AA]:"fire-js-all"};const Xc=new Map,NA=new Map,um=new Map;function f_(r,e){try{r.container.addComponent(e)}catch(i){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Gs(r){const e=r.name;if(um.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,r);for(const i of Xc.values())f_(i,r);for(const i of NA.values())f_(i,r);return!0}function ph(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function kn(r){return r==null?!1:r.settings!==void 0}const wA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Hl("app","Firebase",wA);class IA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}const Js=SA;function Qv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:lm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Qr.create("bad-app-name",{appName:String(l)});if(i||(i=Fv()),!i)throw Qr.create("no-options");const c=Xc.get(l);if(c){if(qs(i,c.options)&&qs(s,c.config))return c;throw Qr.create("duplicate-app",{appName:l})}const d=new Vb(l);for(const _ of um.values())d.addComponent(_);const g=new IA(i,s,d);return Xc.set(l,g),g}function Lm(r=lm){const e=Xc.get(r);if(!e&&r===lm&&Fv())return Qv();if(!e)throw Qr.create("no-app",{appName:r});return e}function Ni(r,e,i){let s=RA[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(d.join(" "));return}Gs(new Jr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const CA="firebase-heartbeat-database",MA=1,Ol="firebase-heartbeat-store";let Qd=null;function Xv(){return Qd||(Qd=Yb(CA,MA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(r=>{throw Qr.create("idb-open",{originalErrorMessage:r.message})})),Qd}async function DA(r){try{const i=(await Xv()).transaction(Ol),s=await i.objectStore(Ol).get($v(r));return await i.done,s}catch(e){if(e instanceof Vi)sr.warn(e.message);else{const i=Qr.create("idb-get",{originalErrorMessage:e?.message});sr.warn(i.message)}}}async function d_(r,e){try{const s=(await Xv()).transaction(Ol,"readwrite");await s.objectStore(Ol).put(e,$v(r)),await s.done}catch(i){if(i instanceof Vi)sr.warn(i.message);else{const s=Qr.create("idb-set",{originalErrorMessage:i?.message});sr.warn(s.message)}}}function $v(r){return`${r.name}!${r.options.appId}`}const xA=1024,OA=30;class VA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new UA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=m_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>OA){const l=kA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m_(),{heartbeatsToSend:i,unsentEntries:s}=LA(this._heartbeatsCache.heartbeats),l=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return sr.warn(e),""}}}function m_(){return new Date().toISOString().substring(0,10)}function LA(r,e=xA){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),g_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),g_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class UA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bb()?Ab().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await DA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function g_(r){return Qc(JSON.stringify({version:2,heartbeats:r})).length}function kA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function PA(r){Gs(new Jr("platform-logger",e=>new $b(e),"PRIVATE")),Gs(new Jr("heartbeat",e=>new VA(e),"PRIVATE")),Ni(om,h_,r),Ni(om,h_,"esm2020"),Ni("fire-js","")}PA("");function Jv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BA=Jv,Wv=new Hl("auth","Firebase",Jv());const $c=new Om("@firebase/auth");function jA(r,...e){$c.logLevel<=Ve.WARN&&$c.warn(`Auth (${Js}): ${r}`,...e)}function Pc(r,...e){$c.logLevel<=Ve.ERROR&&$c.error(`Auth (${Js}): ${r}`,...e)}function Di(r,...e){throw km(r,...e)}function ei(r,...e){return km(r,...e)}function Um(r,e,i){const s={...BA(),[e]:i};return new Hl("auth","Firebase",s).create(e,{appName:r.name})}function Hs(r){return Um(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zA(r,e,i){const s=i;if(!(e instanceof s))throw s.name!==e.constructor.name&&Di(r,"argument-error"),Um(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function km(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return Wv.create(r,...e)}function _e(r,e,...i){if(!r)throw km(e,...i)}function nr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Pc(e),new Error(e)}function ar(r,e){r||nr(e)}function cm(){return typeof self<"u"&&self.location?.href||""}function HA(){return p_()==="http:"||p_()==="https:"}function p_(){return typeof self<"u"&&self.location?.protocol||null}function FA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HA()||_b()||"connection"in navigator)?navigator.onLine:!0}function qA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ql{constructor(e,i){this.shortDelay=e,this.longDelay=i,ar(i>e,"Short delay should be less than long delay!"),this.isMobile=gb()||vb()}get(){return FA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pm(r,e){ar(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Zv{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YA=new ql(3e4,6e4);function Bm(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function lo(r,e,i,s,l={}){return e1(r,l,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const g=Fl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:_,...c};return yb()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&$s(r.emulatorConfig.host)&&(p.credentials="include"),Zv.fetch()(await t1(r,r.config.apiHost,i,g),p)})}async function e1(r,e,i){r._canInitEmulator=!1;const s={...GA,...e};try{const l=new XA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,p]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Mc(r,"user-disabled",d);const T=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Um(r,T,p);Di(r,T)}}catch(l){if(l instanceof Vi)throw l;Di(r,"network-request-failed",{message:String(l)})}}async function QA(r,e,i,s,l={}){const c=await lo(r,e,i,s,l);return"mfaPendingCredential"in c&&Di(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function t1(r,e,i,s){const l=`${e}${i}?${s}`,c=r,d=c.config.emulator?Pm(r.config,l):`${r.config.apiScheme}://${l}`;return KA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class XA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(ei(this.auth,"network-request-failed")),YA.get())})}}function Mc(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=ei(r,e,s);return l.customData._tokenResponse=i,l}async function $A(r,e){return lo(r,"POST","/v1/accounts:delete",e)}async function Jc(r,e){return lo(r,"POST","/v1/accounts:lookup",e)}function Il(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JA(r,e=!1){const i=Pt(r),s=await i.getIdToken(e),l=jm(s);_e(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Il(Xd(l.auth_time)),issuedAtTime:Il(Xd(l.iat)),expirationTime:Il(Xd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xd(r){return Number(r)*1e3}function jm(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const l=jv(i);return l?JSON.parse(l):(Pc("Failed to decode base64 JWT payload"),null)}catch(l){return Pc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function y_(r){const e=jm(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Vl(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof Vi&&WA(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function WA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class ZA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(r){const e=r.auth,i=await r.getIdToken(),s=await Vl(r,Jc(e,{idToken:i}));_e(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?n1(l.providerUserInfo):[],d=tS(r.providerData,c),g=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,p=g?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(r,T)}async function eS(r){const e=Pt(r);await Wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tS(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function n1(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function nS(r,e){const i=await e1(r,{},async()=>{const s=Fl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await t1(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:s};return r.emulatorConfig&&$s(r.emulatorConfig.host)&&(_.credentials="include"),Zv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function iS(r,e){return lo(r,"POST","/v2/accounts:revokeToken",Bm(r,e))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const i=y_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await nS(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Xa;return s&&(_e(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(_e(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(_e(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return nr("not implemented")}}function Hr(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new ZA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Vl(this,this.stsTokenManager.getToken(this.auth,e));return _e(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return JA(this,e)}reload(){return eS(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Hs(this.auth));const e=await this.getIdToken();return await Vl(this,$A(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,p=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:k,providerData:G,stsTokenManager:Z}=i;_e(S&&Z,e,"internal-error");const ee=Xa.fromJSON(this.name,Z);_e(typeof S=="string",e,"internal-error"),Hr(s,e.name),Hr(l,e.name),_e(typeof N=="boolean",e,"internal-error"),_e(typeof k=="boolean",e,"internal-error"),Hr(c,e.name),Hr(d,e.name),Hr(g,e.name),Hr(_,e.name),Hr(p,e.name),Hr(T,e.name);const te=new Wn({uid:S,auth:e,email:l,emailVerified:N,displayName:s,isAnonymous:k,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ee,createdAt:p,lastLoginAt:T});return G&&Array.isArray(G)&&(te.providerData=G.map(se=>({...se}))),_&&(te._redirectEventId=_),te}static async _fromIdTokenResponse(e,i,s=!1){const l=new Xa;l.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Wc(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];_e(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?n1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Xa;g.updateFromIdToken(s);const _=new Wn({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,p),_}}const __=new Map;function ir(r){ar(r instanceof Function,"Expected a class definition");let e=__.get(r);return e?(ar(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,__.set(r,e),e)}class i1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}i1.type="NONE";const v_=i1;function Bc(r,e,i){return`firebase:${r}:${e}:${i}`}class $a{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Bc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Jc(this.auth,{idToken:e}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new $a(ir(v_),e,s);const l=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=l[0]||ir(v_);const d=Bc(s,e.config.apiKey,e.name);let g=null;for(const p of i)try{const T=await p._get(d);if(T){let S;if(typeof T=="string"){const N=await Jc(e,{idToken:T}).catch(()=>{});if(!N)break;S=await Wn._fromGetAccountInfoResponse(e,N,T)}else S=Wn._fromJSON(e,T);p!==c&&(g=S),c=p;break}}catch{}const _=l.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new $a(c,e,s):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async p=>{if(p!==c)try{await p._remove(d)}catch{}})),new $a(c,e,s))}}function E_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(o1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(r1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(u1(e))return"Blackberry";if(c1(e))return"Webos";if(s1(e))return"Safari";if((e.includes("chrome/")||a1(e))&&!e.includes("edge/"))return"Chrome";if(l1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function r1(r=Wt()){return/firefox\//i.test(r)}function s1(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function a1(r=Wt()){return/crios\//i.test(r)}function o1(r=Wt()){return/iemobile/i.test(r)}function l1(r=Wt()){return/android/i.test(r)}function u1(r=Wt()){return/blackberry/i.test(r)}function c1(r=Wt()){return/webos/i.test(r)}function zm(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rS(r=Wt()){return zm(r)&&!!window.navigator?.standalone}function sS(){return Eb()&&document.documentMode===10}function h1(r=Wt()){return zm(r)||l1(r)||c1(r)||u1(r)||/windows phone/i.test(r)||o1(r)}function f1(r,e=[]){let i;switch(r){case"Browser":i=E_(Wt());break;case"Worker":i=`${E_(Wt())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Js}/${s}`}class aS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function oS(r,e={}){return lo(r,"GET","/v2/passwordPolicy",Bm(r,e))}const lS=6;class uS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??lS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class cS{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T_(this),this.idTokenSubscription=new T_(this),this.beforeStateQueue=new aS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ir(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Jc(this,{idToken:e}),s=await Wn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Wc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Hs(this));const i=e?Pt(e):null;return i&&_e(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oS(this),i=new uS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hl("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await iS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ir(e)||this._popupRedirectResolver;_e(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[ir(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=f1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yh(r){return Pt(r)}class T_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ib(i=>this.observer=i)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hS(r){Hm=r}function fS(r){return Hm.loadJS(r)}function dS(){return Hm.gapiScript}function mS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function gS(r,e){const i=ph(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(qs(c,e??{}))return l;Di(l,"already-initialized")}return i.initialize({options:e})}function pS(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(ir);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function yS(r,e,i){const s=yh(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=d1(e),{host:d,port:g}=_S(e),_=g===null?"":`:${g}`,p={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(qs(p,s.config.emulator)&&qs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,$s(d)?(Dm(`${c}//${d}${_}`),xm("Auth",!0)):vS()}function d1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function _S(r){const e=d1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:b_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:b_(d)}}}function b_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function vS(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class m1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,i){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function Ja(r,e){return QA(r,"POST","/v1/accounts:signInWithIdp",Bm(r,e))}const ES="http://localhost";class Ks extends m1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Di("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Ks(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ja(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Ja(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ja(e,i)}buildRequest(){const e={requestUri:ES,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Fl(i)}return e}}class Fm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gl extends Fm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fr extends Gl{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";class tr extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ks._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return tr.credential(i,s)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";class qr extends Gl{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";class Gr extends Gl{constructor(){super("twitter.com")}static credential(e,i){return Ks._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Gr.credential(i,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await Wn._fromIdTokenResponse(e,s,l),d=A_(s);return new to({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=A_(s);return new to({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function A_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Zc extends Vi{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new Zc(e,i,s,l)}}function g1(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(r,c,e,s):c})}async function TS(r,e,i=!1){const s=await Vl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return to._forOperation(r,"link",s)}async function bS(r,e,i=!1){const{auth:s}=r;if(kn(s.app))return Promise.reject(Hs(s));const l="reauthenticate";try{const c=await Vl(r,g1(s,l,e,r),i);_e(c.idToken,s,"internal-error");const d=jm(c.idToken);_e(d,s,"internal-error");const{sub:g}=d;return _e(r.uid===g,s,"user-mismatch"),to._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Di(s,"user-mismatch"),c}}async function AS(r,e,i=!1){if(kn(r.app))return Promise.reject(Hs(r));const s="signIn",l=await g1(r,s,e),c=await to._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}function SS(r,e,i,s){return Pt(r).onIdTokenChanged(e,i,s)}function RS(r,e,i){return Pt(r).beforeAuthStateChanged(e,i)}const eh="__sak";class p1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const NS=1e3,wS=10;class y1 extends p1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);sS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,wS):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},NS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}y1.type="LOCAL";const IS=y1;class _1 extends p1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}_1.type="SESSION";const v1=_1;function CS(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new _h(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async p=>p(i.origin,c)),_=await CS(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function qm(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class MS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const p=qm("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===p)switch(N.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function DS(r){wi().location.href=r}function E1(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function xS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OS(){return navigator?.serviceWorker?.controller||null}function VS(){return E1()?self:null}const T1="firebaseLocalStorageDb",LS=1,th="firebaseLocalStorage",b1="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(r,e){return r.transaction([th],e?"readwrite":"readonly").objectStore(th)}function US(){const r=indexedDB.deleteDatabase(T1);return new Kl(r).toPromise()}function fm(){const r=indexedDB.open(T1,LS);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(th,{keyPath:b1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(th)?e(s):(s.close(),await US(),e(await fm()))})})}async function S_(r,e,i){const s=vh(r,!0).put({[b1]:e,value:i});return new Kl(s).toPromise()}async function kS(r,e){const i=vh(r,!1).get(e),s=await new Kl(i).toPromise();return s===void 0?null:s.value}function R_(r,e){const i=vh(r,!0).delete(e);return new Kl(i).toPromise()}const PS=800,BS=3;class A1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>BS)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(VS()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xS(),!this.activeServiceWorker)return;this.sender=new MS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await S_(e,eh,"1"),await R_(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>S_(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>kS(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>R_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=vh(l,!1).getAll();return new Kl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A1.type="LOCAL";const jS=A1;new ql(3e4,6e4);function S1(r,e){return e?ir(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Gm extends m1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ja(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function zS(r){return AS(r.auth,new Gm(r),r.bypassAuthState)}function HS(r){const{auth:e,user:i}=r;return _e(i,e,"internal-error"),bS(i,new Gm(r),r.bypassAuthState)}async function FS(r){const{auth:e,user:i}=r;return _e(i,e,"internal-error"),TS(i,new Gm(r),r.bypassAuthState)}class R1{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zS;case"linkViaPopup":case"linkViaRedirect":return FS;case"reauthViaPopup":case"reauthViaRedirect":return HS;default:Di(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qS=new ql(2e3,1e4);async function GS(r,e,i){if(kn(r.app))return Promise.reject(ei(r,"operation-not-supported-in-this-environment"));const s=yh(r);zA(r,e,Fm);const l=S1(s,i);return new js(s,"signInViaPopup",e,l).executeNotNull()}class js extends R1{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qS.get())};e()}}js.currentPopupAction=null;const KS="pendingRedirect",jc=new Map;class YS extends R1{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const s=await QS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QS(r,e){const i=JS(e),s=$S(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function XS(r,e){jc.set(r._key(),e)}function $S(r){return ir(r._redirectPersistence)}function JS(r){return Bc(KS,r.config.apiKey,r.name)}async function WS(r,e,i=!1){if(kn(r.app))return Promise.reject(Hs(r));const s=yh(r),l=S1(s,e),d=await new YS(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const ZS=600*1e3;class eR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!N1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ei(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZS&&this.cachedEventUids.clear(),this.cachedEventUids.has(N_(e))}saveEventToCache(e){this.cachedEventUids.add(N_(e)),this.lastProcessedEventTime=Date.now()}}function N_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function N1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function tR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N1(r);default:return!1}}async function nR(r,e={}){return lo(r,"GET","/v1/projects",e)}const iR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rR=/^https?/;async function sR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await nR(r);for(const i of e)try{if(aR(i))return}catch{}Di(r,"unauthorized-domain")}function aR(r){const e=cm(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!rR.test(i))return!1;if(iR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const oR=new ql(3e4,6e4);function w_(){const r=wi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function lR(r){return new Promise((e,i)=>{function s(){w_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w_(),i(ei(r,"network-request-failed"))},timeout:oR.get()})}if(wi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(wi().gapi?.load)s();else{const l=mS("iframefcb");return wi()[l]=()=>{gapi.load?s():i(ei(r,"network-request-failed"))},fS(`${dS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw zc=null,e})}let zc=null;function uR(r){return zc=zc||lR(r),zc}const cR=new ql(5e3,15e3),hR="__/auth/iframe",fR="emulator/auth/iframe",dR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gR(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Pm(e,fR):`https://${r.config.authDomain}/${hR}`,s={apiKey:e.apiKey,appName:r.name,v:Js},l=mR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Fl(s).slice(1)}`}async function pR(r){const e=await uR(r),i=wi().gapi;return _e(i,r,"internal-error"),e.open({where:document.body,url:gR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=ei(r,"network-request-failed"),g=wi().setTimeout(()=>{c(d)},cR.get());function _(){wi().clearTimeout(g),l(s)}s.ping(_).then(_,()=>{c(d)})}))}const yR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_R=500,vR=600,ER="_blank",TR="http://localhost";class I_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bR(r,e,i,s=_R,l=vR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const _={...yR,width:s.toString(),height:l.toString(),top:c,left:d},p=Wt().toLowerCase();i&&(g=a1(p)?ER:i),r1(p)&&(e=e||TR,_.scrollbars="yes");const T=Object.entries(_).reduce((N,[k,G])=>`${N}${k}=${G},`,"");if(rS(p)&&g!=="_self")return AR(e||"",g),new I_(null);const S=window.open(e||"",g,T);_e(S,r,"popup-blocked");try{S.focus()}catch{}return new I_(S)}function AR(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const SR="__/auth/handler",RR="emulator/auth/handler",NR=encodeURIComponent("fac");async function C_(r,e,i,s,l,c){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Js,eventId:l};if(e instanceof Fm){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",wb(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(e instanceof Gl){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await r._getAppCheckToken(),p=_?`#${NR}=${encodeURIComponent(_)}`:"";return`${wR(r)}?${Fl(g).slice(1)}${p}`}function wR({config:r}){return r.emulator?Pm(r,RR):`https://${r.authDomain}/${SR}`}const $d="webStorageSupport";class IR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v1,this._completeRedirectFn=WS,this._overrideRedirectResult=XS}async _openPopup(e,i,s,l){ar(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await C_(e,i,s,cm(),l);return bR(e,c,qm())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await C_(e,i,s,cm(),l);return DS(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ar(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await pR(e),s=new eR(e);return i.register("authEvent",l=>(_e(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send($d,{type:$d},l=>{const c=l?.[0]?.[$d];c!==void 0&&i(!!c),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=sR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return h1()||s1()||zm()}}const CR=IR;var M_="@firebase/auth",D_="1.12.0";class MR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function DR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xR(r){Gs(new Jr("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;_e(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f1(r)},p=new cS(s,l,c,_);return pS(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Gs(new Jr("auth-internal",e=>{const i=yh(e.getProvider("auth").getImmediate());return(s=>new MR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(M_,D_,DR(r)),Ni(M_,D_,"esm2020")}const OR=300,VR=qv("authIdTokenMaxAge")||OR;let x_=null;const LR=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>VR)return;const l=i?.token;x_!==l&&(x_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function UR(r=Lm()){const e=ph(r,"auth");if(e.isInitialized())return e.getImmediate();const i=gS(r,{popupRedirectResolver:CR,persistence:[jS,IS,v1]}),s=qv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=LR(c.toString());RS(i,d,()=>d(i.currentUser)),SS(i,g=>d(g))}}const l=zv("auth");return l&&yS(i,`http://${l}`),i}function kR(){return document.getElementsByTagName("head")?.[0]??document}hS({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=ei("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",kR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xR("Browser");var PR="firebase",BR="12.9.0";Ni(PR,BR,"app");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xr,w1;(function(){var r;function e(D,w){function C(){}C.prototype=w.prototype,D.F=w.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(V,x,L){for(var I=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)I[Ee-2]=arguments[Ee];return w.prototype[x].apply(V,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var x=0;x<16;++x)V[x]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(x=0;x<16;++x)V[x]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=D.g[0],C=D.g[1],x=D.g[2];let L=D.g[3],I;I=w+(L^C&(x^L))+V[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(x^w&(C^x))+V[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(C^L&(w^C))+V[2]+606105819&4294967295,x=L+(I<<17&4294967295|I>>>15),I=C+(w^x&(L^w))+V[3]+3250441966&4294967295,C=x+(I<<22&4294967295|I>>>10),I=w+(L^C&(x^L))+V[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(x^w&(C^x))+V[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(C^L&(w^C))+V[6]+2821735955&4294967295,x=L+(I<<17&4294967295|I>>>15),I=C+(w^x&(L^w))+V[7]+4249261313&4294967295,C=x+(I<<22&4294967295|I>>>10),I=w+(L^C&(x^L))+V[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(x^w&(C^x))+V[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(C^L&(w^C))+V[10]+4294925233&4294967295,x=L+(I<<17&4294967295|I>>>15),I=C+(w^x&(L^w))+V[11]+2304563134&4294967295,C=x+(I<<22&4294967295|I>>>10),I=w+(L^C&(x^L))+V[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(x^w&(C^x))+V[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(C^L&(w^C))+V[14]+2792965006&4294967295,x=L+(I<<17&4294967295|I>>>15),I=C+(w^x&(L^w))+V[15]+1236535329&4294967295,C=x+(I<<22&4294967295|I>>>10),I=w+(x^L&(C^x))+V[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^x&(w^C))+V[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^C&(L^w))+V[11]+643717713&4294967295,x=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(x^L))+V[0]+3921069994&4294967295,C=x+(I<<20&4294967295|I>>>12),I=w+(x^L&(C^x))+V[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^x&(w^C))+V[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^C&(L^w))+V[15]+3634488961&4294967295,x=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(x^L))+V[4]+3889429448&4294967295,C=x+(I<<20&4294967295|I>>>12),I=w+(x^L&(C^x))+V[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^x&(w^C))+V[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^C&(L^w))+V[3]+4107603335&4294967295,x=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(x^L))+V[8]+1163531501&4294967295,C=x+(I<<20&4294967295|I>>>12),I=w+(x^L&(C^x))+V[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^x&(w^C))+V[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^C&(L^w))+V[7]+1735328473&4294967295,x=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(x^L))+V[12]+2368359562&4294967295,C=x+(I<<20&4294967295|I>>>12),I=w+(C^x^L)+V[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^x)+V[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^C)+V[11]+1839030562&4294967295,x=L+(I<<16&4294967295|I>>>16),I=C+(x^L^w)+V[14]+4259657740&4294967295,C=x+(I<<23&4294967295|I>>>9),I=w+(C^x^L)+V[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^x)+V[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^C)+V[7]+4139469664&4294967295,x=L+(I<<16&4294967295|I>>>16),I=C+(x^L^w)+V[10]+3200236656&4294967295,C=x+(I<<23&4294967295|I>>>9),I=w+(C^x^L)+V[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^x)+V[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^C)+V[3]+3572445317&4294967295,x=L+(I<<16&4294967295|I>>>16),I=C+(x^L^w)+V[6]+76029189&4294967295,C=x+(I<<23&4294967295|I>>>9),I=w+(C^x^L)+V[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^x)+V[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^C)+V[15]+530742520&4294967295,x=L+(I<<16&4294967295|I>>>16),I=C+(x^L^w)+V[2]+3299628645&4294967295,C=x+(I<<23&4294967295|I>>>9),I=w+(x^(C|~L))+V[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~x))+V[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~C))+V[14]+2878612391&4294967295,x=L+(I<<15&4294967295|I>>>17),I=C+(L^(x|~w))+V[5]+4237533241&4294967295,C=x+(I<<21&4294967295|I>>>11),I=w+(x^(C|~L))+V[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~x))+V[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~C))+V[10]+4293915773&4294967295,x=L+(I<<15&4294967295|I>>>17),I=C+(L^(x|~w))+V[1]+2240044497&4294967295,C=x+(I<<21&4294967295|I>>>11),I=w+(x^(C|~L))+V[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~x))+V[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~C))+V[6]+2734768916&4294967295,x=L+(I<<15&4294967295|I>>>17),I=C+(L^(x|~w))+V[13]+1309151649&4294967295,C=x+(I<<21&4294967295|I>>>11),I=w+(x^(C|~L))+V[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~x))+V[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~C))+V[2]+718787259&4294967295,x=L+(I<<15&4294967295|I>>>17),I=C+(L^(x|~w))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.v=function(D,w){w===void 0&&(w=D.length);const C=w-this.blockSize,V=this.C;let x=this.h,L=0;for(;L<w;){if(x==0)for(;L<=C;)l(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<w;)if(V[x++]=D.charCodeAt(L++),x==this.blockSize){l(this,V),x=0;break}}else for(;L<w;)if(V[x++]=D[L++],x==this.blockSize){l(this,V),x=0;break}}this.h=x,this.o+=w},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)D[w++]=this.g[C]>>>V&255;return D};function c(D,w){var C=g;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=w(D)}function d(D,w){this.h=w;const C=[];let V=!0;for(let x=D.length-1;x>=0;x--){const L=D[x]|0;V&&L==w||(C[x]=L,V=!1)}this.g=C}var g={};function _(D){return-128<=D&&D<128?c(D,function(w){return new d([w|0],w<0?-1:0)}):new d([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return ee(p(-D));const w=[];let C=1;for(let V=0;D>=C;V++)w[V]=D/C|0,C*=4294967296;return new d(w,0)}function T(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return ee(T(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(w,8));let V=S;for(let L=0;L<D.length;L+=8){var x=Math.min(8,D.length-L);const I=parseInt(D.substring(L,L+x),w);x<8?(x=p(Math.pow(w,x)),V=V.j(x).add(p(I))):(V=V.j(C),V=V.add(p(I)))}return V}var S=_(0),N=_(1),k=_(16777216);r=d.prototype,r.m=function(){if(Z(this))return-ee(this).m();let D=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);D+=(V>=0?V:4294967296+V)*w,w*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(G(this))return"0";if(Z(this))return"-"+ee(this).toString(D);const w=p(Math.pow(D,6));var C=this;let V="";for(;;){const x=ue(C,w).g;C=te(C,x.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=x,G(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function G(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function Z(D){return D.h==-1}r.l=function(D){return D=te(this,D),Z(D)?-1:G(D)?0:1};function ee(D){const w=D.g.length,C=[];for(let V=0;V<w;V++)C[V]=~D.g[V];return new d(C,~D.h).add(N)}r.abs=function(){return Z(this)?ee(this):this},r.add=function(D){const w=Math.max(this.g.length,D.g.length),C=[];let V=0;for(let x=0;x<=w;x++){let L=V+(this.i(x)&65535)+(D.i(x)&65535),I=(L>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);V=I>>>16,L&=65535,I&=65535,C[x]=I<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function te(D,w){return D.add(ee(w))}r.j=function(D){if(G(this)||G(D))return S;if(Z(this))return Z(D)?ee(this).j(ee(D)):ee(ee(this).j(D));if(Z(D))return ee(this.j(ee(D)));if(this.l(k)<0&&D.l(k)<0)return p(this.m()*D.m());const w=this.g.length+D.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<D.g.length;x++){const L=this.i(V)>>>16,I=this.i(V)&65535,Ee=D.i(x)>>>16,et=D.i(x)&65535;C[2*V+2*x]+=I*et,se(C,2*V+2*x),C[2*V+2*x+1]+=L*et,se(C,2*V+2*x+1),C[2*V+2*x+1]+=I*Ee,se(C,2*V+2*x+1),C[2*V+2*x+2]+=L*Ee,se(C,2*V+2*x+2)}for(D=0;D<w;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=w;D<2*w;D++)C[D]=0;return new d(C,0)};function se(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function Y(D,w){this.g=D,this.h=w}function ue(D,w){if(G(w))throw Error("division by zero");if(G(D))return new Y(S,S);if(Z(D))return w=ue(ee(D),w),new Y(ee(w.g),ee(w.h));if(Z(w))return w=ue(D,ee(w)),new Y(ee(w.g),w.h);if(D.g.length>30){if(Z(D)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var C=N,V=w;V.l(D)<=0;)C=ve(C),V=ve(V);var x=pe(C,1),L=pe(V,1);for(V=pe(V,2),C=pe(C,2);!G(V);){var I=L.add(V);I.l(D)<=0&&(x=x.add(C),L=I),V=pe(V,1),C=pe(C,1)}return w=te(D,x.j(w)),new Y(x,w)}for(x=S;D.l(w)>=0;){for(C=Math.max(1,Math.floor(D.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=p(C),I=L.j(w);Z(I)||I.l(D)>0;)C-=V,L=p(C),I=L.j(w);G(L)&&(L=N),x=x.add(L),D=te(D,I)}return new Y(x,D)}r.B=function(D){return ue(this,D).h},r.and=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&D.i(V);return new d(C,this.h&D.h)},r.or=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|D.i(V);return new d(C,this.h|D.h)},r.xor=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^D.i(V);return new d(C,this.h^D.h)};function ve(D){const w=D.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=D.i(V)<<1|D.i(V-1)>>>31;return new d(C,D.h)}function pe(D,w){const C=w>>5;w%=32;const V=D.g.length-C,x=[];for(let L=0;L<V;L++)x[L]=w>0?D.i(L+C)>>>w|D.i(L+C+1)<<32-w:D.i(L+C);return new d(x,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,w1=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=T,Xr=d}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var I1,Al,C1,Hc,dm,M1,D1,x1;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)e:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in v))break e;v=v[P]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function p(u,m,v){return p=_,p.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,P,H){for(var re=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)re[Ne-2]=arguments[Ne];return m.prototype[P].apply(A,re)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function k(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function G(u,m){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const H=P.length||0;u.length=v+H;for(let re=0;re<H;re++)u[v+re]=P[re]}else u.push(P)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function te(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class se{constructor(){this.h=this.g=null}add(m,v){const A=Y.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Y=new Z(()=>new ue,u=>u.reset());class ue{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,pe=!1,D=new se,w=()=>{const u=Promise.resolve(void 0);ve=()=>{u.then(C)}};function C(){for(var u;u=te();){try{u.h.call(u.g)}catch(v){ee(v)}var m=Y;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}pe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function Ee(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Ee,x),Ee.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var et="closure_listenable_"+(Math.random()*1e6|0),K=0;function ne(u,m,v,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=P,this.key=++K,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pe(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function ze(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function R(u){const m={};for(const v in u)m[v]=u[v];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)u[v]=A[v];for(let H=0;H<F.length;H++)v=F[H],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,A,P){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const re=Ie(u,m,A,P);return re>-1?(m=u[re],v||(m.fa=!1)):(m=new ne(m,this.src,H,!!A,P),m.fa=v,u.push(m)),m};function Te(u,m){const v=m.type;if(v in u.g){var A=u.g[v],P=Array.prototype.indexOf.call(A,m,void 0),H;(H=P>=0)&&Array.prototype.splice.call(A,P,1),H&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ie(u,m,v,A){for(let P=0;P<u.length;++P){const H=u[P];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==A)return P}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Mt={};function at(u,m,v,A,P){if(Array.isArray(m)){for(let H=0;H<m.length;H++)at(u,m[H],v,A,P);return null}return v=_o(v),u&&u[et]?u.J(m,v,g(A)?!!A.capture:!1,P):ls(u,m,v,!1,A,P)}function ls(u,m,v,A,P,H){if(!m)throw Error("Invalid event type");const re=g(P)?!!P.capture:!!P;let Ne=us(u);if(Ne||(u[Be]=Ne=new ae(u)),v=Ne.add(m,v,A,re,H),v.proxy)return v;if(A=ta(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)L||(P=re),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(ii(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ta(){function u(v){return m.call(u.src,u.listener,v)}const m=po;return u}function na(u,m,v,A,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)na(u,m[H],v,A,P);else A=g(A)?!!A.capture:!!A,v=_o(v),u&&u[et]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Ie(m,v,A,P),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=us(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ie(m,v,A,P)),(v=u>-1?m[u]:null)&&ia(v))}function ia(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[et])Te(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(ii(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=us(m))?(Te(v,u),v.h==0&&(v.src=null,m[Be]=null)):fe(u)}}}function ii(u){return u in Mt?Mt[u]:Mt[u]="on"+u}function po(u,m){if(u.da)u=!0;else{m=new Ee(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&ia(u),u=v.call(A,m)}return u}function us(u){return u=u[Be],u instanceof ae?u:null}var yo="__closure_events_fn_"+(Math.random()*1e9>>>0);function _o(u){return typeof u=="function"?u:(u[yo]||(u[yo]=function(m){return u.handleEvent(m)}),u[yo])}function _t(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}S(_t,V),_t.prototype[et]=!0,_t.prototype.removeEventListener=function(u,m,v,A){na(this,u,m,v,A)};function Dt(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var P=m;m=new x(A,u),ie(m,P)}P=!0;let H,re;if(v)for(re=v.length-1;re>=0;re--)H=m.g=v[re],P=ur(H,A,!0,m)&&P;if(H=m.g=u,P=ur(H,A,!0,m)&&P,P=ur(H,A,!1,m)&&P,v)for(re=0;re<v.length;re++)H=m.g=v[re],P=ur(H,A,!1,m)&&P}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)fe(v[A]);delete u.g[m],u.h--}}this.G=null},_t.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},_t.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function ur(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let H=0;H<m.length;++H){const re=m[H];if(re&&!re.da&&re.capture==v){const Ne=re.listener,dt=re.ha||re.src;re.fa&&Te(u.i,re),P=Ne.call(dt,A)!==!1&&P}}return P&&!A.defaultPrevented}function Bh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function tu(u){u.g=Bh(()=>{u.g=null,u.i&&(u.i=!1,tu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Zt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(u){V.call(this),this.h=u,this.g={}}S(cs,V);var vo=[];function Eo(u){Pe(u.g,function(m,v){this.g.hasOwnProperty(v)&&ia(m)},u),u.g={}}cs.prototype.N=function(){cs.Z.N.call(this),Eo(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=d.JSON.stringify,jh=d.JSON.parse,nu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function iu(){}function ru(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){x.call(this,"d")}S(Bt,x);function Sn(){x.call(this,"c")}S(Sn,x);var ft={},su=null;function ra(){return su=su||new _t}ft.Ia="serverreachability";function au(u){x.call(this,ft.Ia,u)}S(au,x);function ri(u){const m=ra();Dt(m,new au(m))}ft.STAT_EVENT="statevent";function hs(u,m){x.call(this,ft.STAT_EVENT,u),this.stat=m}S(hs,x);function vt(u){const m=ra();Dt(m,new hs(m,u))}ft.Ja="timingevent";function si(u,m){x.call(this,ft.Ja,u),this.size=m}S(si,x);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function zh(u,m,v,A,P,H){u.info(function(){if(u.g)if(H){var re="",Ne=H.split("&");for(let qe=0;qe<Ne.length;qe++){var dt=Ne[qe].split("=");if(dt.length>1){const ot=dt[0];dt=dt[1];const In=ot.split("_");re=In.length>=2&&In[1]=="type"?re+(ot+"="+dt+"&"):re+(ot+"=redacted&")}}}else re=null;else re=H;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+v+`
`+re})}function ou(u,m,v,A,P,H,re){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+v+`
`+H+" "+re})}function oi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hh(u,v)+(A?" "+A:"")})}function fs(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Hh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return cr(H)}catch{return m}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bo;function ms(){}S(ms,iu),ms.prototype.g=function(){return new XMLHttpRequest},bo=new ms;function Ui(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Hn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Et={},Vt={};function li(u,m,v){u.M=1,u.A=gs(bt(m)),u.u=v,u.R=!0,sa(u,null)}function sa(u,m){u.F=Date.now(),ui(u),u.B=bt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),ua(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Fn,u.g=Au(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Zt(p(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(vo[0]=P.toString()),P=vo);for(let H=0;H<P.length;H++){const re=at(v,P[H],A||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.J?R(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ri(),zh(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=Kn(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||jt(this.g)))){this.K||Ne!=4||dt==7||(dt==8||qe<=0?ri(3):ri(2)),ci(this);var m=this.g.ca();this.X=m;var v=Fh(this);if(this.o=m==200,ou(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var H=A;break t}}H=null}if(u=H)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,vt(12),mn(this),Rn(this);break e}}if(this.R){u=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=cu(this,v),ot==Vt){Ne==4&&(this.m=4,vt(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Et){this.m=4,vt(15),oi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,ot,null),hi(this,ot);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,vt(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(re),re.P=!0,vt(11))}}else oi(this.i,this.l,v,null),hi(this,v);Ne==4&&mn(this),this.o&&!this.K&&(Ne==4?vu(this.j,this):(this.o=!1,ui(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),Rn(this)}}}catch{}};function Fh(u){if(!uu(u))return u.g.la();const m=jt(u.g);if(m==="")return"";let v="";const A=m.length,P=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<A;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(P&&H==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Vt:(v=Number(m.substring(v,A)),isNaN(v)?Et:(A+=1,A+v>m.length?Vt:(m=m.slice(A,A+v),u.C=A+v,m)))}Hn.prototype.cancel=function(){this.K=!0,mn(this)};function ui(u){u.T=Date.now()+u.H,aa(u,u.H)}function aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(p(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fs(this.i,this.B),this.M!=2&&(ri(),vt(17)),mn(this),this.m=2,Rn(this)):aa(this,this.T-u)};function Rn(u){u.j.I==0||u.K||vu(u.j,u)}function mn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Eo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||di(v.h,u))){if(!u.L&&di(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ma(v),_r(v);else break e;bs(v),vt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(p(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((u.L||v.g==u)&&ma(v),!I(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let qe=P[m];const ot=qe[0];if(!(ot<=v.K))if(v.K=ot,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const In=qe[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const Ei=qe[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Yn=qe[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qn=u.g;if(Qn){const As=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var H=A.h;H.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ro(H,H.h),H.h=null))}if(A.G){const ga=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(A.wa=ga,Ye(A.J,A.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var re=u;if(A.na=bu(A,A.L?A.ba:null,A.W),re.L){No(A.h,re);var Ne=re,dt=A.O;dt&&(Ne.H=dt),Ne.D&&(ci(Ne),ui(Ne)),A.g=re}else yu(A);v.i.length>0&&_i(v)}else qe[0]!="stop"&&qe[0]!="close"||vi(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?vi(v,7):Lo(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}ri(4)}catch{}}var Tt=class{constructor(u,m){this.g=u,this.map=m}};function Ao(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ro(u,m){u.g?u.g.add(m):u.h=m}function No(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ao.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return k(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let P,H=null;A>=0?(P=u[v].substring(0,A),H=u[v].substring(A+1)):P=u[v],m(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,hr(this,u.u),this.h=u.h,Io(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),hr(this,m[4]),this.h=mi(m[5]||"",!0),Io(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new dr(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ps(m,la,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ps(m,la,!0),"@"),u.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ps(v,v.charAt(0)=="/"?Co:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ps(v,du)),u.join("")},gn.prototype.resolve=function(u){const m=bt(this);let v=!!u.j;v?Lt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)hr(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=m.h.lastIndexOf("/");P!=-1&&(A=m.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let re=0;re<P.length;){const Ne=P[re++];Ne=="."?A&&re==P.length&&H.push(""):Ne==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&re==P.length&&H.push("")):(H.push(Ne),A=!0)}A=H.join("/")}else A=P}return v?m.h=A:v=u.i.toString()!=="",v?Io(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function bt(u){return new gn(u)}function Lt(u,m,v){u.j=v?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Io(u,m,v){m instanceof dr?(u.i=m,ca(u.i,u.l)):(v||(m=ps(m,fr)),u.i=new dr(m,u.l))}function Ye(u,m,v){u.i.set(m,v)}function gs(u){return Ye(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ps(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var la=/[#\/\?@]/g,fu=/[#\?:]/g,Co=/[#\?]/g,fr=/[#\?@]/g,du=/#/g;function dr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&oa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=dr.prototype,r.add=function(u,m){sn(this),this.i=null,u=mr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){sn(u),m=mr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Mo(u,m){return sn(u),m=mr(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,A){v.forEach(function(P){u.call(m,P,A,this)},this)},this)};function Do(u,m){sn(u);let v=[];if(typeof m=="string")Mo(u,m)&&(v=v.concat(u.g.get(mr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=mr(this,u),Mo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Do(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(mr(u,m),k(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const P=Ui(v);v=Do(this,v);for(let H=0;H<v.length;H++){let re=P;v[H]!==""&&(re+="="+Ui(v[H])),u.push(re)}}return this.i=u.join("&")};function gu(u){const m=new dr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function mr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ca(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(mu(this,A),ua(this,P,v))},u)),u.j=m}function qn(u,m){const v=new zn;if(d.Image){const A=new Image;A.onload=T(Nn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Nn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Nn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Nn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function xo(u,m){const v=new zn,A=new AbortController,P=setTimeout(()=>{A.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(H=>{clearTimeout(P),H.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Nn(v,"TestPingServer: error",!1,m)})}function Nn(u,m,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function gr(){this.g=new nu}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(gi,iu),gi.prototype.g=function(){return new ys(this.i,this.h)};function ys(u,m){_t.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ys,_t),r=ys.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?pr(this):Gn(this),this.readyState==3&&ha(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,pr(this))},r.Na=function(u){this.g&&(this.response=u,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return Pe(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function _s(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=wn(v),typeof u=="string"?v!=null&&Ui(v):Ye(u,m,v))}function $e(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($e,_t);var pi=/^https?$/i,Oo=["POST","PUT"];r=$e.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bo.g(),this.g.onreadystatechange=N(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){vs(this,H);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of v)this.g.setRequestHeader(H,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){vs(this,H)}};function vs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vo(u),ki(u)}function Vo(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Dt(this,"complete"),Dt(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},r.Xa=function(){Es(this)};function Es(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Dt(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=H===0){let re=String(u.D).match(hu)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),A=!pi.test(re?re.toLowerCase():"")}v=A}if(v)Dt(u,"complete"),Dt(u,"success");else{u.o=6;try{var P=Kn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Vo(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Dt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),jh(m)}};function jt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(I(u[A]))continue;var v=lu(u[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[P]||[];m[P]=H,H.push(v)}ze(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function yr(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(u&&u.concurrentRequestLimit),this.Ba=new gr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=yr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,A){vt(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=bu(this,null,this.W),_i(this)};function Lo(u){if(fa(u),u.I==3){var m=u.V++,v=bt(u.J);if(Ye(v,"SID",u.M),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),Ts(u,v),m=new Hn(u,u.j,m),m.M=2,m.A=gs(bt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}Tu(u)}function _r(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function fa(u){_r(u),u.v&&(d.clearTimeout(u.v),u.v=null),ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;ve||w(),pe||(ve(),pe=!0),D.add(m,u),u.D=0}}function da(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(p(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Hn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=R(H),ie(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=pu(this,P,m),v=bt(this.J),Ye(v,"RID",u),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Ts(this,v),H&&(this.R?m="headers="+Ui(wn(H))+"&"+m:this.u&&_s(v,this.u,H)),Ro(this.h,P),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",m),Ye(v,"SID","null"),P.U=!0,li(P,v,null)):li(P,v,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||So(this.h)||Uo(this))};function Uo(u,m){var v;m?v=m.l:v=u.V++;const A=bt(u.J);Ye(A,"SID",u.M),Ye(A,"RID",v),Ye(A,"AID",u.K),Ts(u,A),u.u&&u.o&&_s(A,u.u,u.o),v=new Hn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ro(u.h,v),li(v,A,m)}function Ts(u,m){u.H&&Pe(u.H,function(v,A){Ye(m,A,v)}),u.l&&Pe({},function(v,A){Ye(m,A,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?p(u.l.Ka,u.l,u):null;e:{var P=u.i;let Ne=-1;for(;;){const dt=["count="+v];Ne==-1?v>0?(Ne=P[0].g,dt.push("ofs="+Ne)):Ne=0:dt.push("ofs="+Ne);let qe=!0;for(let ot=0;ot<v;ot++){var H=P[ot].g;const In=P[ot].map;if(H-=Ne,H<0)Ne=Math.max(0,P[ot].g-100),qe=!1;else try{H="req"+H+"_"||"";try{var re=In instanceof Map?In:Object.entries(In);for(const[Ei,Yn]of re){let Qn=Yn;g(Yn)&&(Qn=cr(Yn)),dt.push(H+Ei+"="+encodeURIComponent(Qn))}}catch(Ei){throw dt.push(H+"type="+encodeURIComponent("_badmap")),Ei}}catch{A&&A(In)}}if(qe){re=dt.join("&");break e}}re=void 0}return u=u.i.splice(0,v),m.G=u,re}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ve||w(),pe||(ve(),pe=!0),D.add(m,u),u.A=0}}function bs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(p(u.Da,u),Eu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(p(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),_r(this),_u(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=bt(u.na);Ye(m,"RID","rpc"),Ye(m,"SID",u.M),Ye(m,"AID",u.K),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ye(m,"TO",u.ia),Ye(m,"TYPE","xmlhttp"),Ts(u,m),u.u&&u.o&&_s(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=gs(bt(m)),v.u=null,v.R=!0,sa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,_r(this),bs(this),vt(19))};function ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){ma(u),ko(u),u.g=null;var A=2}else if(di(u.h,m))v=m.G,No(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;A=ra(),Dt(A,new si(A,v)),_i(u)}else yu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(A==1&&da(u,m)||A==2&&bs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var v=p(u.bb,u),A=u.Ua;const P=!A;A=new gn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Lt(A,"https"),gs(A),P?qn(A.toString(),v):xo(A.toString(),v)}else vt(2);u.I=0,u.l&&u.l.pa(m),Tu(u),fa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ja,m),G(u.ja,u.i),u.h.i.length=0,k(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var A=v instanceof gn?bt(v):new gn(v);if(A.g!="")m&&(A.g=m+"."+A.g),hr(A,A.u);else{var P=d.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const H=new gn(null);A&&Lt(H,A),m&&(H.g=m),P&&hr(H,P),v&&(H.h=v),A=H}return v=u.G,m=u.wa,v&&m&&Ye(A,v,m),Ye(A,"VER",u.ka),Ts(u,A),A}function Au(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $e(new gi({ab:v})):new $e(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function vr(){}vr.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_t.call(this),this.g=new yr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Bi(this)}S(en,_t),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Lo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=cr(u),u=v);m.i.push(new Tt(m.Ya++,u)),m.I==3&&_i(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,en.Z.N.call(this)};function Ru(u){Bt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Ru,Bt);function Nu(){Sn.call(this),this.status=1}S(Nu,Sn);function Bi(u){this.g=u}S(Bi,Su),Bi.prototype.ra=function(){Dt(this.g,"a")},Bi.prototype.qa=function(u){Dt(this.g,new Ru(u))},Bi.prototype.pa=function(u){Dt(this.g,new Nu)},Bi.prototype.oa=function(){Dt(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,x1=function(){return new vr},D1=function(){return ra()},M1=ft,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Hc=ds,To.COMPLETE="complete",C1=To,ru.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Al=ru,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,I1=$e}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let uo="12.9.0";function jR(r){uo=r}const Ys=new Om("@firebase/firestore");function Ga(){return Ys.logLevel}function le(r,...e){if(Ys.logLevel<=Ve.DEBUG){const i=e.map(Km);Ys.debug(`Firestore (${uo}): ${r}`,...i)}}function or(r,...e){if(Ys.logLevel<=Ve.ERROR){const i=e.map(Km);Ys.error(`Firestore (${uo}): ${r}`,...i)}}function Qs(r,...e){if(Ys.logLevel<=Ve.WARN){const i=e.map(Km);Ys.warn(`Firestore (${uo}): ${r}`,...i)}}function Km(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ye(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,O1(r,s,i)}function O1(r,e,i){let s=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw or(s),new Error(s)}function Ke(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||O1(e,l,s)}function Se(r,e){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Vi{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class V1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($t.UNAUTHENTICATED)))}shutdown(){}}class HR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class FR{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ke(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new rr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new rr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new V1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class qR{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class GR{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new qR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ke(this.o===void 0,3512);const s=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ke(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new V_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function YR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Ym{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=YR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function mm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Jd(l)===Jd(c)?Le(l,c):Jd(l)?1:-1}return Le(r.length,e.length)}const QR=55296,XR=57343;function Jd(r){const e=r.charCodeAt(0);return e>=QR&&e<=XR}function no(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const L_="__name__";class Ri{constructor(e,i,s){i===void 0?i=0:i>e.length&&ye(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&ye(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Ri.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Le(e.length,i.length)}static compareSegments(e,i){const s=Ri.isNumericId(e),l=Ri.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Ri.extractNumericId(e).compare(Ri.extractNumericId(i)):mm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xr.fromString(e.substring(4,e.length-2))}}class nt extends Ri{construct(e,i,s){return new nt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new nt(i)}static emptyPath(){return new nt([])}}const $R=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ri{construct(e,i,s){return new Kt(e,i,s)}static isValidIdentifier(e){return $R.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new Kt([L_])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new oe($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new oe($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new oe($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new oe($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(i)}static emptyPath(){return new Kt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(nt.fromString(e))}static fromName(e){return new me(nt.fromString(e).popFirst(5))}static empty(){return new me(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return nt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new nt(e.slice()))}}function L1(r,e,i){if(!i)throw new oe($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function JR(r,e,i,s){if(e===!0&&s===!0)throw new oe($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function U_(r){if(!me.isDocumentKey(r))throw new oe($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function k_(r){if(me.isDocumentKey(r))throw new oe($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function U1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Eh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function Bn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Eh(r);throw new oe($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ct(r,e){const i={typeString:r};return e&&(i.value=e),i}function Yl(r,e){if(!U1(r))throw new oe($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new oe($.INVALID_ARGUMENT,i);return!0}const P_=-62135596800,B_=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*B_);return new st(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<P_)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B_}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yl(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Ct("string",st._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new st(0,0))}static max(){return new be(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ll=-1;function WR(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=be.fromTimestamp(s===1e9?new st(i+1,0):new st(i,s));return new Wr(l,me.empty(),e)}function ZR(r){return new Wr(r.readTime,r.key,Ll)}class Wr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Wr(be.min(),me.empty(),Ll)}static max(){return new Wr(be.max(),me.empty(),Ll)}}function eN(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=me.comparator(r.documentKey,e.documentKey),i!==0?i:Le(r.largestBatchId,e.largestBatchId))}const tN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function co(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==tN)throw r;le("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):W.reject(i)}static resolve(e){return new W(((i,s)=>{i(e)}))}static reject(e){return new W(((i,s)=>{s(e)}))}static waitFor(e){return new W(((i,s)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>s(_)))})),d=!0,c===l&&i()}))}static or(e){let i=W.resolve(!1);for(const s of e)i=i.next((l=>l?W.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new W(((s,l)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const p=_;i(e[p]).next((T=>{d[p]=T,++g,g===c&&s(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new W(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function iN(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ho(r){return r.name==="IndexedDbTransactionError"}class Th{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Th.ce=-1;const Qm=-1;function bh(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function rN(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const k1="";function sN(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=j_(e)),e=aN(r.get(i),e);return j_(e)}function aN(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case k1:i+="";break;default:i+=c}}return i}function j_(r){return r+k1+""}function z_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function rs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function P1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,i){this.comparator=e,this.root=i||Gt.EMPTY}insert(e,i){return new ut(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xc(this.root,e,this.comparator,!0)}}class xc{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Gt.RED,this.left=l??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Gt(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new Gt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ot{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(e){return new H_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ot(this.comparator);return i.data=e,i}}class H_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new An([])}unionWith(e){let i=new Ot(Kt.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new An(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class B1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new B1("Invalid base64 string: "+c):c}})(e);return new Yt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Yt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const oN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const i=oN.exec(r);if(Ke(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const j1="server_timestamp",z1="__type__",H1="__previous_value__",F1="__local_write_time__";function Xm(r){return(r?.mapValue?.fields||{})[z1]?.stringValue===j1}function Ah(r){const e=r.mapValue.fields[H1];return Xm(e)?Ah(e):e}function Ul(r){const e=Zr(r.mapValue.fields[F1].timestampValue);return new st(e.seconds,e.nanos)}class lN{constructor(e,i,s,l,c,d,g,_,p,T,S){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=p,this.isUsingEmulator=T,this.apiKey=S}}const ih="(default)";class kl{constructor(e,i){this.projectId=e,this.database=i||ih}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}function uN(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new oe($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(r.options.projectId,e)}const q1="__type__",cN="__max__",Oc={mapValue:{}},G1="__vector__",rh="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xm(r)?4:fN(r)?9007199254740991:hN(r)?10:11:ye(28295,{value:r})}function xi(r,e){if(r===e)return!0;const i=ts(r);if(i!==ts(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ul(r).isEqual(Ul(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Zr(l.timestampValue),g=Zr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return es(l.bytesValue).isEqual(es(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return pt(l.geoPointValue.latitude)===pt(c.geoPointValue.latitude)&&pt(l.geoPointValue.longitude)===pt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pt(l.integerValue)===pt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pt(l.doubleValue),g=pt(c.doubleValue);return d===g?nh(d)===nh(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return no(r.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(z_(d)!==z_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!xi(d[_],g[_])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function Pl(r,e){return(r.values||[]).find((i=>xi(i,e)))!==void 0}function io(r,e){if(r===e)return 0;const i=ts(r),s=ts(e);if(i!==s)return Le(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=pt(c.integerValue||c.doubleValue),_=pt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,e);case 3:return F_(r.timestampValue,e.timestampValue);case 4:return F_(Ul(r),Ul(e));case 5:return mm(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=es(c),_=es(d);return g.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let p=0;p<g.length&&p<_.length;p++){const T=Le(g[p],_[p]);if(T!==0)return T}return Le(g.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Le(pt(c.latitude),pt(d.latitude));return g!==0?g:Le(pt(c.longitude),pt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return q_(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},p=g[rh]?.arrayValue,T=_[rh]?.arrayValue,S=Le(p?.values?.length||0,T?.values?.length||0);return S!==0?S:q_(p,T)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),p=d.fields||{},T=Object.keys(p);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const N=mm(_[S],T[S]);if(N!==0)return N;const k=io(g[_[S]],p[T[S]]);if(k!==0)return k}return Le(_.length,T.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:i})}}function F_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const i=Zr(r),s=Zr(e),l=Le(i.seconds,s.seconds);return l!==0?l:Le(i.nanos,s.nanos)}function q_(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=io(i[l],s[l]);if(c)return c}return Le(i.length,s.length)}function ro(r){return gm(r)}function gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Zr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return es(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return me.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=gm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${gm(i.fields[d])}`;return l+"}"})(r.mapValue):ye(61005,{value:r})}function Fc(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(r);return e?16+Fc(e):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Fc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return rs(s.fields,((c,d)=>{l+=c.length+Fc(d)})),l})(r.mapValue);default:throw ye(13486,{value:r})}}function G_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function pm(r){return!!r&&"integerValue"in r}function $m(r){return!!r&&"arrayValue"in r}function K_(r){return!!r&&"nullValue"in r}function Y_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qc(r){return!!r&&"mapValue"in r}function hN(r){return(r?.mapValue?.fields||{})[q1]?.stringValue===G1}function Cl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return rs(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Cl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Cl(r.arrayValue.values[i]);return e}return{...r}}function fN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cN}class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(i)}setAll(e){let i=Kt.emptyPath(),s={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=Cl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){rs(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new fn(Cl(this.value))}}function K1(r){const e=[];return rs(r.fields,((i,s)=>{const l=new Kt([i]);if(qc(s)){const c=K1(s.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new An(e)}class Jt{constructor(e,i,s,l,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Jt(e,0,be.min(),be.min(),be.min(),fn.empty(),0)}static newFoundDocument(e,i,s,l){return new Jt(e,1,i,be.min(),s,l,0)}static newNoDocument(e,i){return new Jt(e,2,i,be.min(),be.min(),fn.empty(),0)}static newUnknownDocument(e,i){return new Jt(e,3,i,be.min(),be.min(),fn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(e,i){this.position=e,this.inclusive=i}}function Q_(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?s=me.comparator(me.fromName(d.referenceValue),i.key):s=io(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function X_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!xi(r.position[i],e.position[i]))return!1;return!0}class Bl{constructor(e,i="asc"){this.field=e,this.dir=i}}function dN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Y1{}class It extends Y1{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new gN(e,i,s):i==="array-contains"?new _N(e,s):i==="in"?new vN(e,s):i==="not-in"?new EN(e,s):i==="array-contains-any"?new TN(e,s):new It(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new pN(e,s):new yN(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(io(i,this.value)):i!==null&&ts(this.value)===ts(i)&&this.matchesComparison(io(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends Y1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ni(e,i)}matches(e){return Q1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Q1(r){return r.op==="and"}function X1(r){return mN(r)&&Q1(r)}function mN(r){for(const e of r.filters)if(e instanceof ni)return!1;return!0}function ym(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(X1(r))return r.filters.map((e=>ym(e))).join(",");{const e=r.filters.map((i=>ym(i))).join(",");return`${r.op}(${e})`}}function $1(r,e){return r instanceof It?(function(s,l){return l instanceof It&&s.op===l.op&&s.field.isEqual(l.field)&&xi(s.value,l.value)})(r,e):r instanceof ni?(function(s,l){return l instanceof ni&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,g)=>c&&$1(d,l.filters[g])),!0):!1})(r,e):void ye(19439)}function J1(r){return r instanceof It?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(r):r instanceof ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(J1).join(" ,")+"}"})(r):"Filter"}class gN extends It{constructor(e,i,s){super(e,i,s),this.key=me.fromName(s.referenceValue)}matches(e){const i=me.comparator(e.key,this.key);return this.matchesComparison(i)}}class pN extends It{constructor(e,i){super(e,"in",i),this.keys=W1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class yN extends It{constructor(e,i){super(e,"not-in",i),this.keys=W1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function W1(r,e){return(e.arrayValue?.values||[]).map((i=>me.fromName(i.referenceValue)))}class _N extends It{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return $m(i)&&Pl(i.arrayValue,this.value)}}class vN extends It{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Pl(this.value.arrayValue,i)}}class EN extends It{constructor(e,i){super(e,"not-in",i)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Pl(this.value.arrayValue,i)}}class TN extends It{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!$m(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Pl(this.value.arrayValue,s)))}}class bN{constructor(e,i=null,s=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function $_(r,e=null,i=[],s=[],l=null,c=null,d=null){return new bN(r,e,i,s,l,c,d)}function Jm(r){const e=Se(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>ym(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),bh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ro(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ro(s))).join(",")),e.Te=i}return e.Te}function Wm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!dN(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!$1(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!X_(r.startAt,e.startAt)&&X_(r.endAt,e.endAt)}function _m(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fo{constructor(e,i=null,s=[],l=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function AN(r,e,i,s,l,c,d,g){return new fo(r,e,i,s,l,c,d,g)}function Zm(r){return new fo(r)}function J_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function SN(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Z1(r){return r.collectionGroup!==null}function Ml(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ot(Kt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Bl(c,s))})),i.has(Kt.keyField().canonicalString())||e.Ie.push(new Bl(Kt.keyField(),s))}return e.Ie}function Ii(r){const e=Se(r);return e.Ee||(e.Ee=RN(e,Ml(r))),e.Ee}function RN(r,e){if(r.limitType==="F")return $_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Bl(l.field,c)}));const i=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return $_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function vm(r,e){const i=r.filters.concat([e]);return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function NN(r,e){const i=r.explicitOrderBy.concat([e]);return new fo(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Em(r,e,i){return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Sh(r,e){return Wm(Ii(r),Ii(e))&&r.limitType===e.limitType}function eE(r){return`${Jm(Ii(r))}|lt:${r.limitType}`}function Ka(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>J1(l))).join(", ")}]`),bh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function Rh(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):me.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Ml(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(d,g,_){const p=Q_(d,g,_);return d.inclusive?p<=0:p<0})(s.startAt,Ml(s),l)||s.endAt&&!(function(d,g,_){const p=Q_(d,g,_);return d.inclusive?p>=0:p>0})(s.endAt,Ml(s),l))})(r,e)}function wN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tE(r){return(e,i)=>{let s=!1;for(const l of Ml(r)){const c=IN(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function IN(r,e,i){const s=r.field.isKeyField()?me.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),p=g.data.field(c);return _!==null&&p!==null?io(_,p):ye(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class Ws{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return P1(this.inner)}size(){return this.innerSize}}const CN=new ut(me.comparator);function lr(){return CN}const nE=new ut(me.comparator);function Sl(...r){let e=nE;for(const i of r)e=e.insert(i.key,i);return e}function iE(r){let e=nE;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function zs(){return Dl()}function rE(){return Dl()}function Dl(){return new Ws((r=>r.toString()),((r,e)=>r.isEqual(e)))}const MN=new ut(me.comparator),DN=new Ot(me.comparator);function Ue(...r){let e=DN;for(const i of r)e=e.add(i);return e}const xN=new Ot(Le);function ON(){return xN}function eg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function sE(r){return{integerValue:""+r}}function VN(r,e){return rN(e)?sE(e):eg(r,e)}class Nh{constructor(){this._=void 0}}function LN(r,e,i){return r instanceof ah?(function(l,c){const d={fields:{[z1]:{stringValue:j1},[F1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Xm(c)&&(c=Ah(c)),c&&(d.fields[H1]=c),{mapValue:d}})(i,e):r instanceof jl?oE(r,e):r instanceof zl?lE(r,e):(function(l,c){const d=aE(l,c),g=W_(d)+W_(l.Ae);return pm(d)&&pm(l.Ae)?sE(g):eg(l.serializer,g)})(r,e)}function UN(r,e,i){return r instanceof jl?oE(r,e):r instanceof zl?lE(r,e):i}function aE(r,e){return r instanceof oh?(function(s){return pm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class ah extends Nh{}class jl extends Nh{constructor(e){super(),this.elements=e}}function oE(r,e){const i=uE(e);for(const s of r.elements)i.some((l=>xi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class zl extends Nh{constructor(e){super(),this.elements=e}}function lE(r,e){let i=uE(e);for(const s of r.elements)i=i.filter((l=>!xi(l,s)));return{arrayValue:{values:i}}}class oh extends Nh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function W_(r){return pt(r.integerValue||r.doubleValue)}function uE(r){return $m(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function kN(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof jl&&l instanceof jl||s instanceof zl&&l instanceof zl?no(s.elements,l.elements,xi):s instanceof oh&&l instanceof oh?xi(s.Ae,l.Ae):s instanceof ah&&l instanceof ah})(r.transform,e.transform)}class PN{constructor(e,i){this.version=e,this.transformResults=i}}class nn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new nn}static exists(e){return new nn(void 0,e)}static updateTime(e){return new nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class wh{}function cE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ih(r.key,nn.none()):new Ql(r.key,r.data,nn.none());{const i=r.data,s=fn.empty();let l=new Ot(Kt.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new ss(r.key,s,new An(l.toArray()),nn.none())}}function BN(r,e,i){r instanceof Ql?(function(l,c,d){const g=l.value.clone(),_=ev(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof ss?(function(l,c,d){if(!Gc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=ev(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(hE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function xl(r,e,i,s){return r instanceof Ql?(function(c,d,g,_){if(!Gc(c.precondition,d))return g;const p=c.value.clone(),T=tv(c.fieldTransforms,_,d);return p.setAll(T),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,e,i,s):r instanceof ss?(function(c,d,g,_){if(!Gc(c.precondition,d))return g;const p=tv(c.fieldTransforms,_,d),T=d.data;return T.setAll(hE(c)),T.setAll(p),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,i,s):(function(c,d,g){return Gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function jN(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=aE(s.transform,l||null);c!=null&&(i===null&&(i=fn.empty()),i.set(s.field,c))}return i||null}function Z_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&no(s,l,((c,d)=>kN(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ql extends wh{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ss extends wh{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function ev(r,e,i){const s=new Map;Ke(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=e.data.field(c.field);s.set(c.field,UN(d,g,i[l]))}return s}function tv(r,e,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,LN(c,d,e))}return s}class Ih extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zN extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HN{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&BN(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=xl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=xl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=rE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=cE(d,g);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,((i,s)=>Z_(i,s)))&&no(this.baseMutations,e.baseMutations,((i,s)=>Z_(i,s)))}}class tg{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return MN})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new tg(e,i,s,l)}}class FN{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qN{constructor(e,i){this.count=e,this.unchangedNames=i}}var wt,je;function GN(r){switch(r){case $.OK:return ye(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function fE(r){if(r===void 0)return or("GRPC error has no .code"),$.UNKNOWN;switch(r){case wt.OK:return $.OK;case wt.CANCELLED:return $.CANCELLED;case wt.UNKNOWN:return $.UNKNOWN;case wt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case wt.INTERNAL:return $.INTERNAL;case wt.UNAVAILABLE:return $.UNAVAILABLE;case wt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case wt.NOT_FOUND:return $.NOT_FOUND;case wt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case wt.ABORTED:return $.ABORTED;case wt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case wt.DATA_LOSS:return $.DATA_LOSS;default:return ye(39323,{code:r})}}(je=wt||(wt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function KN(){return new TextEncoder}const YN=new Xr([4294967295,4294967295],0);function nv(r){const e=KN().encode(r),i=new w1;return i.update(e),new Uint8Array(i.digest())}function iv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Xr([i,s],0),new Xr([l,c],0)]}class ng{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(s<0)throw new Rl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Xr.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(Xr.fromNumber(s)));return l.compare(YN)===1&&(l=new Xr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=nv(e),[s,l]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ng(c,l,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=nv(e),[s,l]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ch{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Ch(be.min(),l,new ut(Le),lr(),Ue())}}class Xl{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Xl(s,i,Ue(),Ue(),Ue())}}class Kc{constructor(e,i,s,l){this.Se=e,this.removedTargetIds=i,this.key=s,this.De=l}}class dE{constructor(e,i){this.targetId=e,this.Ce=i}}class mE{constructor(e,i,s=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class rv{constructor(){this.ve=0,this.Fe=sv(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),i=Ue(),s=Ue();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:ye(38017,{changeType:c})}})),new Xl(this.Me,this.xe,e,i,s)}Ke(){this.Oe=!1,this.Fe=sv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class QN{constructor(e){this.Ge=e,this.ze=new Map,this.je=lr(),this.He=Vc(),this.Je=Vc(),this.Ze=new ut(Le)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(_m(c))if(s===0){const d=new me(c.path);this.et(i,d,Jt.newNoDocument(d,be.min()))}else Ke(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const p=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=es(s).toUint8Array()}catch(_){if(_ instanceof B1)return Qs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new ng(d,l,c)}catch(_){return Qs(_ instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&_m(g.target)){const _=new me(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Jt.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=Ue();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const p=this.ot(_);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ch(e,i,this.Ze,this.je,s);return this.je=lr(),this.He=Vc(),this.Je=Vc(),this.Ze=new ut(Le),l}Ye(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new rv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ot(Le),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ot(Le),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Vc(){return new ut(me.comparator)}function sv(){return new ut(me.comparator)}const XN={asc:"ASCENDING",desc:"DESCENDING"},$N={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JN={and:"AND",or:"OR"};class WN{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Tm(r,e){return r.useProto3Json||bh(e)?e:{value:e}}function lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ZN(r,e){return lh(r,e.toTimestamp())}function Ci(r){return Ke(!!r,49232),be.fromTimestamp((function(i){const s=Zr(i);return new st(s.seconds,s.nanos)})(r))}function ig(r,e){return bm(r,e).canonicalString()}function bm(r,e){const i=(function(l){return new nt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function pE(r){const e=nt.fromString(r);return Ke(TE(e),10190,{key:e.toString()}),e}function Am(r,e){return ig(r.databaseId,e.path)}function Wd(r,e){const i=pE(e);if(i.get(1)!==r.databaseId.projectId)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new me(_E(i))}function yE(r,e){return ig(r.databaseId,e)}function ew(r){const e=pE(r);return e.length===4?nt.emptyPath():_E(e)}function Sm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _E(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function av(r,e,i){return{name:Am(r,e),fields:i.value.mapValue.fields}}function tw(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ye(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(p,T){return p.useProto3Json?(Ke(T===void 0||typeof T=="string",58123),Yt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Yt.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const T=p.code===void 0?$.UNKNOWN:fE(p.code);return new oe(T,p.message||"")})(d);i=new mE(s,l,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Wd(r,s.document.name),c=Ci(s.document.updateTime),d=s.document.createTime?Ci(s.document.createTime):be.min(),g=new fn({mapValue:{fields:s.document.fields}}),_=Jt.newFoundDocument(l,c,d,g),p=s.targetIds||[],T=s.removedTargetIds||[];i=new Kc(p,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Wd(r,s.document),c=s.readTime?Ci(s.readTime):be.min(),d=Jt.newNoDocument(l,c),g=s.removedTargetIds||[];i=new Kc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Wd(r,s.document),c=s.removedTargetIds||[];i=new Kc([],c,l,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new qN(l,c),g=s.targetId;i=new dE(g,d)}}return i}function nw(r,e){let i;if(e instanceof Ql)i={update:av(r,e.key,e.value)};else if(e instanceof Ih)i={delete:Am(r,e.key)};else if(e instanceof ss)i={update:av(r,e.key,e.data),updateMask:hw(e.fieldMask)};else{if(!(e instanceof zN))return ye(16599,{dt:e.type});i={verify:Am(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof ah)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof oh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ye(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:ZN(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye(27497)})(r,e.precondition)),i}function iw(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ci(l.updateTime):Ci(c);return d.isEqual(be.min())&&(d=Ci(c)),new PN(d,l.transformResults||[])})(i,e)))):[]}function rw(r,e){return{documents:[yE(r,e.path)]}}function sw(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=yE(r,l);const c=(function(p){if(p.length!==0)return EE(ni.create(p,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(p){if(p.length!==0)return p.map((T=>(function(N){return{field:Ya(N.field),direction:lw(N.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Tm(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:l}}function aw(r){let e=ew(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Ke(s===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const N=vE(S);return N instanceof ni&&X1(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(G){return new Bl(Qa(G.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let N;return N=typeof S=="object"?S.value:S,bh(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(S){const N=!!S.before,k=S.values||[];return new sh(k,N)})(i.startAt));let p=null;return i.endAt&&(p=(function(S){const N=!S.before,k=S.values||[];return new sh(k,N)})(i.endAt)),AN(e,l,d,c,g,"F",_,p)}function ow(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function vE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Qa(i.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return It.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return It.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return It.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(i){return It.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ni.create(i.compositeFilter.filters.map((s=>vE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(i.compositeFilter.op))})(r):ye(30097,{filter:r})}function lw(r){return XN[r]}function uw(r){return $N[r]}function cw(r){return JN[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function Qa(r){return Kt.fromServerFormat(r.fieldPath)}function EE(r){return r instanceof It?(function(i){if(i.op==="=="){if(Y_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if(K_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if(K_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:uw(i.op),value:i.value}}})(r):r instanceof ni?(function(i){const s=i.getFilters().map((l=>EE(l)));return s.length===1?s[0]:{compositeFilter:{op:cw(i.op),filters:s}}})(r):ye(54877,{filter:r})}function hw(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function TE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function bE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Kr{constructor(e,i,s,l,c=be.min(),d=be.min(),g=Yt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fw{constructor(e){this.yt=e}}function dw(r){const e=aw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Em(e,e.limit,"L"):e}class mw{constructor(){this.Sn=new gw}addToCollectionParentIndex(e,i){return this.Sn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(Wr.min())}updateCollectionGroup(e,i,s){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class gw{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new Ot(nt.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Ot(nt.comparator)).toArray()}}const ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AE=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(AE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class so{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new so(0)}static ar(){return new so(-1)}}const lv="LruGarbageCollector",pw=1048576;function uv([r,e],[i,s]){const l=Le(r,i);return l===0?Le(e,s):l}class yw{constructor(e){this.Pr=e,this.buffer=new Ot(uv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();uv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class _w{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(lv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ho(i)?le(lv,"Ignoring IndexedDB error during garbage collection: ",i):await co(i)}await this.Ar(3e5)}))}}class vw{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return W.resolve(Th.ce);const s=new yw(i);return this.Vr.forEachTarget(e,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(ov)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ov):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let s,l,c,d,g,_,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(s=S,g=Date.now(),this.removeTargets(e,s,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(p=Date.now(),Ga()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(p-_)+`ms
Total Duration: ${p-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function Ew(r,e){return new vw(r,e)}class Tw{constructor(){this.changes=new Ws((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?W.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Aw{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&xl(s.mutation,l,An.empty(),st.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ue()){const l=zs();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let d=Sl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=zs();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ue())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,l){let c=lr();const d=Dl(),g=(function(){return Dl()})();return i.forEach(((_,p)=>{const T=s.get(p.key);l.has(p.key)&&(T===void 0||T.mutation instanceof ss)?c=c.insert(p.key,p):T!==void 0?(d.set(p.key,T.mutation.getFieldMask()),xl(T.mutation,p,T.mutation.getFieldMask(),st.now())):d.set(p.key,An.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((p,T)=>d.set(p,T))),i.forEach(((p,T)=>g.set(p,new bw(T,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=Dl();let l=new ut(((d,g)=>d-g)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const p=i.get(_);if(p===null)return;let T=s.get(_)||An.empty();T=g.applyToLocalView(p,T),s.set(_,T);const S=(l.get(g.batchId)||Ue()).add(_);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),p=_.key,T=_.value,S=rE();T.forEach((N=>{if(!c.has(N)){const k=cE(i.get(N),s.get(N));k!==null&&S.set(N,k),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,S))}return W.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return SN(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Z1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):W.resolve(zs());let g=Ll,_=c;return d.next((p=>W.forEach(p,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next((N=>{_=_.insert(T,N)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,_,p,Ue()))).next((T=>({batchId:g,changes:iE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new me(i)).next((s=>{let l=Sl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(e,c).next((g=>W.forEach(g,(_=>{const p=(function(S,N){return new fo(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,l).next((T=>{T.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((d=>{c.forEach(((_,p)=>{const T=p.getKey();d.get(T)===null&&(d=d.insert(T,Jt.newInvalidDocument(T)))}));let g=Sl();return d.forEach(((_,p)=>{const T=c.get(_);T!==void 0&&xl(T.mutation,p,An.empty(),st.now()),Rh(i,p)&&(g=g.insert(_,p))})),g}))}}class Sw{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return W.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:dw(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),W.resolve()}}class Rw{constructor(){this.overlays=new ut(me.comparator),this.Lr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const s=zs();return W.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.bt(e,i,c)})),W.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),W.resolve()}getOverlaysForCollection(e,i,s){const l=zs(),c=i.length+1,d=new me(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,p=_.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&_.largestBatchId>s&&l.set(_.getKey(),_)}return W.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new ut(((p,T)=>p-T));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let T=c.get(p.largestBatchId);T===null&&(T=zs(),c=c.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const g=zs(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((p,T)=>g.set(p,T))),!(g.size()>=l)););return W.resolve(g)}bt(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new FN(i,s));let c=this.Lr.get(i);c===void 0&&(c=Ue(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class Nw{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}class rg{constructor(){this.kr=new Ot(kt.Kr),this.qr=new Ot(kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const s=new kt(e,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new kt(e,i))}Qr(e,i){e.forEach((s=>this.removeReference(s,i)))}Gr(e){const i=new me(new nt([])),s=new kt(i,e),l=new kt(i,e+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new me(new nt([])),s=new kt(i,e),l=new kt(i,e+1);let c=Ue();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new kt(e,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return me.comparator(e.key,i.key)||Le(e.Hr,i.Hr)}static Ur(e,i){return Le(e.Hr,i.Hr)||me.comparator(e.key,i.key)}}class ww{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ot(kt.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new HN(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new kt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Qm:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new kt(i,0),l=new kt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ot(Le);return i.forEach((l=>{const c=new kt(l,0),d=new kt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{s=s.add(g.Hr)}))})),W.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;me.isDocumentKey(c)||(c=c.child(""));const d=new kt(new me(c),0);let g=new Ot(Le);return this.Jr.forEachWhile((_=>{const p=_.key.path;return!!s.isPrefixOf(p)&&(p.length===l&&(g=g.add(_.Hr)),!0)}),d),W.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Ke(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return W.forEach(i.mutations,(l=>{const c=new kt(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,i){const s=new kt(i,0),l=this.Jr.firstAfterOrEqual(s);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Iw{constructor(e){this.ti=e,this.docs=(function(){return new ut(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return W.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(i))}getEntries(e,i){let s=lr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Jt.newInvalidDocument(l))})),W.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=lr();const d=i.path,g=new me(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:p,value:{document:T}}=_.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||eN(ZR(T),s)<=0||(l.has(T.key)||Rh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,i,s,l){ye(9500)}ni(e,i){return W.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new Cw(this)}getSize(e){return W.resolve(this.size)}}class Cw extends Tw{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(s)})),W.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class Mw{constructor(e){this.persistence=e,this.ri=new Ws((i=>Jm(i)),Wm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new rg,this.targetCount=0,this.oi=so._r()}forEachTarget(e,i){return this.ri.forEach(((s,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),W.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new so(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.lr(i),W.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const s=this.ri.get(i)||null;return W.resolve(s)}addMatchingKeys(e,i,s){return this.si.$r(i,s),W.resolve()}removeMatchingKeys(e,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const s=this.si.jr(i);return W.resolve(s)}containsKey(e,i){return W.resolve(this.si.containsKey(i))}}class SE{constructor(e,i){this._i={},this.overlays={},this.ai=new Th(0),this.ui=!1,this.ui=!0,this.ci=new Nw,this.referenceDelegate=e(this),this.li=new Mw(this),this.indexManager=new mw,this.remoteDocumentCache=(function(l){return new Iw(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new fw(i),this.Pi=new Sw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Rw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this._i[e.toKey()];return s||(s=new ww(i,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,s){le("MemoryPersistence","Starting transaction:",e);const l=new Dw(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return W.or(Object.values(this._i).map((s=>()=>s.containsKey(e,i))))}}class Dw extends nN{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Ri=new rg,this.Ai=null}static Vi(e){return new sg(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),W.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(s=>{const l=me.fromPath(s);return this.mi(e,l).next((c=>{c||i.removeEntry(l,be.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class uh{constructor(e,i){this.persistence=e,this.fi=new Ws((s=>sN(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=Ew(this,i)}static Vi(e,i){return new uh(e,i)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}pr(e){let i=0;return this.mr(e,(s=>{i++})).next((()=>i))}mr(e,i){return W.forEach(this.fi,((s,l)=>this.wr(e,s,l).next((c=>c?W.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(s++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),W.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fc(e.data.value)),i}wr(e,i,s){return W.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return W.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ag{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Ts=s,this.Is=l}static Es(e,i){let s=Ue(),l=Ue();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ag(e,i.fromCache,s,l)}}class xw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ow{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Tb()?8:iN(Wt())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new xw;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,s,l){return s.documentReadCount<this.Vs?(Ga()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ka(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(Ga()<=Ve.DEBUG&&le("QueryEngine","Query:",Ka(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Ga()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ka(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(i))):W.resolve())}gs(e,i){if(J_(i))return W.resolve(null);let s=Ii(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Em(i,null,"F"),s=Ii(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Ue(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((_=>{const p=this.bs(i,g);return this.Ss(i,p,d,_.readTime)?this.gs(e,Em(i,null,"F")):this.Ds(e,p,i,_)}))))})))))}ps(e,i,s,l){return J_(i)||l.isEqual(be.min())?W.resolve(null):this.fs.getDocuments(e,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,l)?W.resolve(null):(Ga()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ka(i)),this.Ds(e,d,i,WR(l,Ll)).next((g=>g)))}))}bs(e,i){let s=new Ot(tE(e));return i.forEach(((l,c)=>{Rh(e,c)&&(s=s.add(c))})),s}Ss(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,s){return Ga()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ka(i)),this.fs.getDocumentsMatchingQuery(e,i,Wr.min(),s)}Ds(e,i,s,l){return this.fs.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const og="LocalStore",Vw=3e8;class Lw{constructor(e,i,s,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new ut(Le),this.Fs=new Ws((c=>Jm(c)),Wm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Aw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function Uw(r,e,i,s){return new Lw(r,e,i,s)}async function RE(r,e){const i=Se(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let _=Ue();for(const p of l){d.push(p.batchId);for(const T of p.mutations)_=_.add(T.key)}for(const p of c){g.push(p.batchId);for(const T of p.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(s,_).next((p=>({Ns:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function kw(r,e){const i=Se(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,p,T){const S=p.batch,N=S.keys();let k=W.resolve();return N.forEach((G=>{k=k.next((()=>T.getEntry(_,G))).next((Z=>{const ee=p.docVersions.get(G);Ke(ee!==null,48541),Z.version.compareTo(ee)<0&&(S.applyToRemoteDocument(Z,p),Z.isValidDocument()&&(Z.setReadTime(p.commitVersion),T.addEntry(Z)))}))})),k.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Ue();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(_=_.add(g.batch.mutations[p].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function NE(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function Pw(r,e){const i=Se(r),s=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];e.targetChanges.forEach(((T,S)=>{const N=l.get(S);if(!N)return;g.push(i.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,S))));let k=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?k=k.withResumeToken(Yt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,s)),l=l.insert(S,k),(function(Z,ee,te){return Z.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=Vw?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(N,k,T)&&g.push(i.li.updateTargetData(c,k))}));let _=lr(),p=Ue();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(Bw(c,d,e.documentUpdates).next((T=>{_=T.Bs,p=T.Ls}))),!s.isEqual(be.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(T)}return W.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,p))).next((()=>_))})).then((c=>(i.vs=l,c)))}function Bw(r,e,i){let s=Ue(),l=Ue();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=lr();return i.forEach(((g,_)=>{const p=c.get(g);_.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(be.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!p.isValidDocument()||_.version.compareTo(p.version)>0||_.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):le(og,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function jw(r,e){const i=Se(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Qm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zw(r,e){const i=Se(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,e).next((c=>c?(l=c,W.resolve(l)):i.li.allocateTargetId(s).next((d=>(l=new Kr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(e,s.targetId)),s}))}async function Rm(r,e,i){const s=Se(r),l=s.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ho(d))throw d;le(og,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(l.target)}function cv(r,e,i){const s=Se(r);let l=be.min(),c=Ue();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,p,T){const S=Se(_),N=S.Fs.get(T);return N!==void 0?W.resolve(S.vs.get(N)):S.li.getTargetData(p,T)})(s,d,Ii(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,i?l:be.min(),i?c:Ue()))).next((g=>(Hw(s,wN(e),g),{documents:g,ks:c})))))}function Hw(r,e,i){let s=r.Ms.get(e)||be.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class hv{constructor(){this.activeTargetIds=ON()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fw{constructor(){this.vo=new hv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,s){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new hv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qw{Mo(e){}shutdown(){}}const fv="ConnectivityMonitor";class dv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(fv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lc=null;function Nm(){return Lc===null?Lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lc++,"0x"+Lc.toString(16)}const Zd="RestConnection",Gw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Kw{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===ih?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(e,i,s,l,c){const d=Nm(),g=this.Qo(e,i.toUriEncodedString());le(Zd,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:p}=new URL(g),T=$s(p);return this.zo(e,g,_,s,T).then((S=>(le(Zd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Qs(Zd,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",s),S}))}jo(e,i,s,l,c,d){return this.Wo(e,i,s,l,c)}Go(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const s=Gw[e];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class Yw{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Xt="WebChannelConnection",bl=(r,e,i)=>{r.listen(e,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Wa extends Kw{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Wa.c_){const e=D1();bl(e,M1.STAT_EVENT,(i=>{i.stat===dm.PROXY?le(Xt,"STAT_EVENT: detected buffering proxy"):i.stat===dm.NOPROXY&&le(Xt,"STAT_EVENT: detected no buffering proxy")})),Wa.c_=!0}}zo(e,i,s,l,c){const d=Nm();return new Promise(((g,_)=>{const p=new I1;p.setWithCredentials(!0),p.listenOnce(C1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Hc.NO_ERROR:const S=p.getResponseJson();le(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Hc.TIMEOUT:le(Xt,`RPC '${e}' ${d} timed out`),_(new oe($.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const N=p.getStatus();if(le(Xt,`RPC '${e}' ${d} failed with status:`,N,"response text:",p.getResponseText()),N>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const G=k?.error;if(G&&G.status&&G.message){const Z=(function(te){const se=te.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(se)>=0?se:$.UNKNOWN})(G.status);_(new oe(Z,G.message))}else _(new oe($.UNKNOWN,"Server responded with status "+p.getStatus()))}else _(new oe($.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{le(Xt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);le(Xt,`RPC '${e}' ${d} sending request:`,l),p.send(i,"POST",T,s,15)}))}T_(e,i,s){const l=Nm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const p=c.join("");le(Xt,`Creating RPC '${e}' stream ${l}: ${p}`,g);const T=d.createWebChannel(p,g);this.I_(T);let S=!1,N=!1;const k=new Yw({Ho:G=>{N?le(Xt,`Not sending because RPC '${e}' stream ${l} is closed:`,G):(S||(le(Xt,`Opening RPC '${e}' stream ${l} transport.`),T.open(),S=!0),le(Xt,`RPC '${e}' stream ${l} sending:`,G),T.send(G))},Jo:()=>T.close()});return bl(T,Al.EventType.OPEN,(()=>{N||(le(Xt,`RPC '${e}' stream ${l} transport opened.`),k.i_())})),bl(T,Al.EventType.CLOSE,(()=>{N||(N=!0,le(Xt,`RPC '${e}' stream ${l} transport closed`),k.o_(),this.E_(T))})),bl(T,Al.EventType.ERROR,(G=>{N||(N=!0,Qs(Xt,`RPC '${e}' stream ${l} transport errored. Name:`,G.name,"Message:",G.message),k.o_(new oe($.UNAVAILABLE,"The operation could not be completed")))})),bl(T,Al.EventType.MESSAGE,(G=>{if(!N){const Z=G.data[0];Ke(!!Z,16349);const ee=Z,te=ee?.error||ee[0]?.error;if(te){le(Xt,`RPC '${e}' stream ${l} received error:`,te);const se=te.status;let Y=(function(pe){const D=wt[pe];if(D!==void 0)return fE(D)})(se),ue=te.message;se==="NOT_FOUND"&&ue.includes("database")&&ue.includes("does not exist")&&ue.includes(this.databaseId.database)&&Qs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Y===void 0&&(Y=$.INTERNAL,ue="Unknown error status: "+se+" with message "+te.message),N=!0,k.o_(new oe(Y,ue)),T.close()}else le(Xt,`RPC '${e}' stream ${l} received:`,Z),k.__(Z)}})),Wa.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,s){super.Go(e,i,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return x1()}}function Qw(r){return new Wa(r)}function em(){return typeof document<"u"?document:null}function Mh(r){return new WN(r,!0)}Wa.c_=!1;class wE{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const mv="PersistentStream";class IE{constructor(e,i,s,l,c,d,g,_){this.Ci=e,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(or(i.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new oe($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(le(mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Xw extends IE{constructor(e,i,s,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=tw(this.serializer,e),s=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Ci(d.readTime):be.min()})(e);return this.listener.J_(i,s)}Z_(e){const i={};i.database=Sm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=_m(_)?{documents:rw(c,_)}:{query:sw(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=gE(c,d.resumeToken);const p=Tm(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(be.min())>0){g.readTime=lh(c,d.snapshotVersion.toTimestamp());const p=Tm(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const s=ow(this.serializer,e);s&&(i.labels=s),this.K_(i)}X_(e){const i={};i.database=Sm(this.serializer),i.removeTarget=e,this.K_(i)}}class $w extends IE{constructor(e,i,s,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=iw(e.writeResults,e.commitTime),s=Ci(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Sm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>nw(this.serializer,s)))};this.K_(i)}}class Jw{}class Ww extends Jw{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,bm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe($.UNKNOWN,c.toString())}))}jo(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,bm(i,s),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new oe($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Zw(r,e,i,s){return new Ww(r,e,i,s)}class eI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(or(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xs="RemoteStore";class tI{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Zs(this)&&(le(Xs,"Restarting streams for network reachability change."),await(async function(_){const p=Se(_);p.Ea.add(4),await $l(p),p.Va.set("Unknown"),p.Ea.delete(4),await Dh(p)})(this))}))})),this.Va=new eI(s,l)}}async function Dh(r){if(Zs(r))for(const e of r.Ra)await e(!0)}async function $l(r){for(const e of r.Ra)await e(!1)}function CE(r,e){const i=Se(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),hg(i)?cg(i):mo(i).O_()&&ug(i,e))}function lg(r,e){const i=Se(r),s=mo(i);i.Ia.delete(e),s.O_()&&ME(i,e),i.Ia.size===0&&(s.O_()?s.L_():Zs(i)&&i.Va.set("Unknown"))}function ug(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}mo(r).Z_(e)}function ME(r,e){r.da.$e(e),mo(r).X_(e)}function cg(r){r.da=new QN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),mo(r).start(),r.Va.ua()}function hg(r){return Zs(r)&&!mo(r).x_()&&r.Ia.size>0}function Zs(r){return Se(r).Ea.size===0}function DE(r){r.da=void 0}async function nI(r){r.Va.set("Online")}async function iI(r){r.Ia.forEach(((e,i)=>{ug(r,e)}))}async function rI(r,e){DE(r),hg(r)?(r.Va.ha(e),cg(r)):r.Va.set("Unknown")}async function sI(r,e,i){if(r.Va.set("Online"),e instanceof mE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(r,e)}catch(s){le(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ch(r,s)}else if(e instanceof Kc?r.da.Xe(e):e instanceof dE?r.da.st(e):r.da.tt(e),!i.isEqual(be.min()))try{const s=await NE(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,p)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(p);T&&c.Ia.set(p,T.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,p)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(Yt.EMPTY_BYTE_STRING,T.snapshotVersion)),ME(c,_);const S=new Kr(T.target,_,p,T.sequenceNumber);ug(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){le(Xs,"Failed to raise snapshot:",s),await ch(r,s)}}async function ch(r,e,i){if(!ho(e))throw e;r.Ea.add(1),await $l(r),r.Va.set("Offline"),i||(i=()=>NE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(Xs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Dh(r)}))}function xE(r,e){return e().catch((i=>ch(r,i,e)))}async function xh(r){const e=Se(r),i=ns(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qm;for(;aI(e);)try{const l=await jw(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,oI(e,l)}catch(l){await ch(e,l)}OE(e)&&VE(e)}function aI(r){return Zs(r)&&r.Ta.length<10}function oI(r,e){r.Ta.push(e);const i=ns(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function OE(r){return Zs(r)&&!ns(r).x_()&&r.Ta.length>0}function VE(r){ns(r).start()}async function lI(r){ns(r).ra()}async function uI(r){const e=ns(r);for(const i of r.Ta)e.ea(i.mutations)}async function cI(r,e,i){const s=r.Ta.shift(),l=tg.from(s,e,i);await xE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await xh(r)}async function hI(r,e){e&&ns(r).Y_&&await(async function(s,l){if((function(d){return GN(d)&&d!==$.ABORTED})(l.code)){const c=s.Ta.shift();ns(s).B_(),await xE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(s)}})(r,e),OE(r)&&VE(r)}async function gv(r,e){const i=Se(r);i.asyncQueue.verifyOperationInProgress(),le(Xs,"RemoteStore received new credentials");const s=Zs(i);i.Ea.add(3),await $l(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Dh(i)}async function fI(r,e){const i=Se(r);e?(i.Ea.delete(2),await Dh(i)):e||(i.Ea.add(2),await $l(i),i.Va.set("Unknown"))}function mo(r){return r.ma||(r.ma=(function(i,s,l){const c=Se(i);return c.sa(),new Xw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:nI.bind(null,r),Yo:iI.bind(null,r),t_:rI.bind(null,r),J_:sI.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),hg(r)?cg(r):r.Va.set("Unknown")):(await r.ma.stop(),DE(r))}))),r.ma}function ns(r){return r.fa||(r.fa=(function(i,s,l){const c=Se(i);return c.sa(),new $w(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:lI.bind(null,r),t_:hI.bind(null,r),ta:uI.bind(null,r),na:cI.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(le(Xs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class fg{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const d=Date.now()+s,g=new fg(e,i,d,l,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(r,e){if(or("AsyncQueue",`${e}: ${r}`),ho(r))return new oe($.UNAVAILABLE,`${e}: ${r}`);throw r}class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||me.comparator(i.key,s.key):(i,s)=>me.comparator(i.key,s.key),this.keyedMap=Sl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Za;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class pv{constructor(){this.ga=new ut(me.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class ao{constructor(e,i,s,l,c,d,g,_,p){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=p}static fromInitialDocuments(e,i,s,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new ao(e,i,Za.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class dI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class mI{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Se(i),c=l.queries;l.queries=yv(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(s)}))})(this,new oe($.ABORTED,"Firestore shutting down"))}}function yv(){return new Ws((r=>eE(r)),Sh)}async function LE(r,e){const i=Se(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(s=2):(c=new dI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=dg(d,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&mg(i)}async function UE(r,e){const i=Se(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function gI(r,e){const i=Se(r);let s=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(s=!0);d.wa=l}}s&&mg(i)}function pI(r,e,i){const s=Se(r),l=s.queries.get(e);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(e)}function mg(r){r.Ca.forEach((e=>{e.next()}))}var wm,_v;(_v=wm||(wm={})).Ma="default",_v.Cache="cache";class kE{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wm.Cache}}class PE{constructor(e){this.key=e}}class BE{constructor(e){this.key=e}}class yI{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=tE(e),this.tu=new Za(this.eu)}get nu(){return this.Za}ru(e,i){const s=i?i.iu:new pv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,S)=>{const N=l.get(T),k=Rh(this.query,S)?S:null,G=!!N&&this.mutatedKeys.has(N.key),Z=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let ee=!1;N&&k?N.data.isEqual(k.data)?G!==Z&&(s.track({type:3,doc:k}),ee=!0):this.su(N,k)||(s.track({type:2,doc:k}),ee=!0,(_&&this.eu(k,_)>0||p&&this.eu(k,p)<0)&&(g=!0)):!N&&k?(s.track({type:0,doc:k}),ee=!0):N&&!k&&(s.track({type:1,doc:N}),ee=!0,(_||p)&&(g=!0)),ee&&(k?(d=d.add(k),c=Z?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(k,G){const Z=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:ee})}};return Z(k)-Z(G)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,p=_!==this.Xa;return this.Xa=_,d.length!==0||p?{snapshot:new ao(this.query,e.tu,c,d,e.mutatedKeys,_===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return e.forEach((s=>{this.Ya.has(s)||i.push(new BE(s))})),this.Ya.forEach((s=>{e.has(s)||i.push(new PE(s))})),i}cu(e){this.Za=e.ks,this.Ya=Ue();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const gg="SyncEngine";class _I{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class vI{constructor(e){this.key=e,this.hu=!1}}class EI{constructor(e,i,s,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ws((g=>eE(g)),Sh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(me.comparator),this.Au=new Map,this.Vu=new rg,this.du={},this.mu=new Map,this.fu=so.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TI(r,e,i=!0){const s=GE(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await jE(s,e,i,!0),l}async function bI(r,e){const i=GE(r);await jE(i,e,!0,!1)}async function jE(r,e,i,s){const l=await zw(r.localStore,Ii(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await AI(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&CE(r.remoteStore,l),g}async function AI(r,e,i,s,l){r.pu=(S,N,k)=>(async function(Z,ee,te,se){let Y=ee.view.ru(te);Y.Ss&&(Y=await cv(Z.localStore,ee.query,!1).then((({documents:D})=>ee.view.ru(D,Y))));const ue=se&&se.targetChanges.get(ee.targetId),ve=se&&se.targetMismatches.get(ee.targetId)!=null,pe=ee.view.applyChanges(Y,Z.isPrimaryClient,ue,ve);return Ev(Z,ee.targetId,pe.au),pe.snapshot})(r,S,N,k);const c=await cv(r.localStore,e,!0),d=new yI(e,c.ks),g=d.ru(c.documents),_=Xl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),p=d.applyChanges(g,r.isPrimaryClient,_);Ev(r,i,p.au);const T=new _I(e,i,d);return r.Tu.set(e,T),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),p.snapshot}async function SI(r,e,i){const s=Se(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Sh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Rm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&lg(s.remoteStore,l.targetId),Im(s,l.targetId)})).catch(co)):(Im(s,l.targetId),await Rm(s.localStore,l.targetId,!0))}async function RI(r,e){const i=Se(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),lg(i.remoteStore,s.targetId))}async function NI(r,e,i){const s=OI(r);try{const l=await(function(d,g){const _=Se(d),p=st.now(),T=g.reduce(((k,G)=>k.add(G.key)),Ue());let S,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let G=lr(),Z=Ue();return _.xs.getEntries(k,T).next((ee=>{G=ee,G.forEach(((te,se)=>{se.isValidDocument()||(Z=Z.add(te))}))})).next((()=>_.localDocuments.getOverlayedDocuments(k,G))).next((ee=>{S=ee;const te=[];for(const se of g){const Y=jN(se,S.get(se.key).overlayedDocument);Y!=null&&te.push(new ss(se.key,Y,K1(Y.value.mapValue),nn.exists(!0)))}return _.mutationQueue.addMutationBatch(k,p,te,g)})).next((ee=>{N=ee;const te=ee.applyToLocalDocumentSet(S,Z);return _.documentOverlayCache.saveOverlays(k,ee.batchId,te)}))})).then((()=>({batchId:N.batchId,changes:iE(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let p=d.du[d.currentUser.toKey()];p||(p=new ut(Le)),p=p.insert(g,_),d.du[d.currentUser.toKey()]=p})(s,l.batchId,i),await Jl(s,l.changes),await xh(s.remoteStore)}catch(l){const c=dg(l,"Failed to persist write");i.reject(c)}}async function zE(r,e){const i=Se(r);try{const s=await Pw(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ke(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ke(d.hu,14607):l.removedDocuments.size>0&&(Ke(d.hu,42227),d.hu=!1))})),await Jl(i,s,e)}catch(s){await co(s)}}function vv(r,e,i){const s=Se(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Se(d);_.onlineState=g;let p=!1;_.queries.forEach(((T,S)=>{for(const N of S.ba)N.va(g)&&(p=!0)})),p&&mg(_)})(s.eventManager,e),l.length&&s.Pu.J_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wI(r,e,i){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let d=new ut(me.comparator);d=d.insert(c,Jt.newNoDocument(c,be.min()));const g=Ue().add(c),_=new Ch(be.min(),new Map,new ut(Le),d,g);await zE(s,_),s.Ru=s.Ru.remove(c),s.Au.delete(e),pg(s)}else await Rm(s.localStore,e,!1).then((()=>Im(s,e,i))).catch(co)}async function II(r,e){const i=Se(r),s=e.batch.batchId;try{const l=await kw(i.localStore,e);FE(i,s,null),HE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Jl(i,l)}catch(l){await co(l)}}async function CI(r,e,i){const s=Se(r);try{const l=await(function(d,g){const _=Se(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return _.mutationQueue.lookupMutationBatch(p,g).next((S=>(Ke(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(p,S)))).next((()=>_.mutationQueue.performConsistencyCheck(p))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(p,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>_.localDocuments.getDocuments(p,T)))}))})(s.localStore,e);FE(s,e,i),HE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Jl(s,l)}catch(l){await co(l)}}function HE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function FE(r,e,i){const s=Se(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.du[s.currentUser.toKey()]=l}}function Im(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||qE(r,s)}))}function qE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(lg(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),pg(r))}function Ev(r,e,i){for(const s of i)s instanceof PE?(r.Vu.addReference(s.key,e),MI(r,s)):s instanceof BE?(le(gg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||qE(r,s.key)):ye(19791,{wu:s})}function MI(r,e){const i=e.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(le(gg,"New document in limbo: "+i),r.Eu.add(s),pg(r))}function pg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new me(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new vI(i)),r.Ru=r.Ru.insert(i,s),CE(r.remoteStore,new Kr(Ii(Zm(i.path)),s,"TargetPurposeLimboResolution",Th.ce))}}async function Jl(r,e,i){const s=Se(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,_)=>{d.push(s.pu(_,e,i).then((p=>{if((p||i)&&s.isPrimaryClient){const T=p?!p.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(p){l.push(p);const T=ag.Es(_.targetId,p);c.push(T)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(_,p){const T=Se(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(p,(N=>W.forEach(N.Ts,(k=>T.persistence.referenceDelegate.addReference(S,N.targetId,k))).next((()=>W.forEach(N.Is,(k=>T.persistence.referenceDelegate.removeReference(S,N.targetId,k)))))))))}catch(S){if(!ho(S))throw S;le(og,"Failed to update sequence numbers: "+S)}for(const S of p){const N=S.targetId;if(!S.fromCache){const k=T.vs.get(N),G=k.snapshotVersion,Z=k.withLastLimboFreeSnapshotVersion(G);T.vs=T.vs.insert(N,Z)}}})(s.localStore,c))}async function DI(r,e){const i=Se(r);if(!i.currentUser.isEqual(e)){le(gg,"User change. New user:",e.toKey());const s=await RE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new oe($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Jl(i,s.Ns)}}function xI(r,e){const i=Se(r),s=i.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let l=Ue();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function GE(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wI.bind(null,e),e.Pu.J_=gI.bind(null,e.eventManager),e.Pu.yu=pI.bind(null,e.eventManager),e}function OI(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=II.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CI.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Uw(this.persistence,new Ow,e.initialUser,this.serializer)}Cu(e){return new SE(sg.Vi,this.serializer)}Du(e){return new Fw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class VI extends hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ke(this.persistence.referenceDelegate instanceof uh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _w(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new SE((s=>uh.Vi(s,i)),this.serializer)}}class Cm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DI.bind(null,this.syncEngine),await fI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mI})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),s=Qw(e.databaseInfo);return Zw(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,d,g){return new tI(s,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>vv(this.syncEngine,i,0)),(function(){return dv.v()?new dv:new qw})())}createSyncEngine(e,i){return(function(l,c,d,g,_,p,T){const S=new EI(l,c,d,g,_,p);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Se(i);le(Xs,"RemoteStore shutting down."),s.Ea.add(5),await $l(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class KE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const is="FirestoreClient";class LI{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=$t.UNAUTHENTICATED,this.clientId=Ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{le(is,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(le(is,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=dg(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function tm(r,e){r.asyncQueue.verifyOperationInProgress(),le(is,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await RE(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Tv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await UI(r);le(is,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>gv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>gv(e.remoteStore,l))),r._onlineComponents=e}async function UI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(is,"Using user provided OfflineComponentProvider");try{await tm(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Qs("Error using user provided cache. Falling back to memory cache: "+i),await tm(r,new hh)}}else le(is,"Using default OfflineComponentProvider"),await tm(r,new VI(void 0));return r._offlineComponents}async function YE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(is,"Using user provided OnlineComponentProvider"),await Tv(r,r._uninitializedComponentsProvider._online)):(le(is,"Using default OnlineComponentProvider"),await Tv(r,new Cm))),r._onlineComponents}function kI(r){return YE(r).then((e=>e.syncEngine))}async function QE(r){const e=await YE(r),i=e.eventManager;return i.onListen=TI.bind(null,e.syncEngine),i.onUnlisten=SI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=bI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=RI.bind(null,e.syncEngine),i}function PI(r,e,i={}){const s=new rr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,p){const T=new KE({next:N=>{T.Nu(),d.enqueueAndForget((()=>UE(c,S)));const k=N.docs.has(g);!k&&N.fromCache?p.reject(new oe($.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&N.fromCache&&_&&_.source==="server"?p.reject(new oe($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(N)},error:N=>p.reject(N)}),S=new kE(Zm(g.path),T,{includeMetadataChanges:!0,Ka:!0});return LE(c,S)})(await QE(r),r.asyncQueue,e,i,s))),s.promise}function BI(r,e,i={}){const s=new rr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,p){const T=new KE({next:N=>{T.Nu(),d.enqueueAndForget((()=>UE(c,S))),N.fromCache&&_.source==="server"?p.reject(new oe($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(N)},error:N=>p.reject(N)}),S=new kE(g,T,{includeMetadataChanges:!0,Ka:!0});return LE(c,S)})(await QE(r),r.asyncQueue,e,i,s))),s.promise}function jI(r,e){const i=new rr;return r.asyncQueue.enqueueAndForget((async()=>NI(await kI(r),e,i))),i.promise}function XE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const zI="ComponentProvider",bv=new Map;function HI(r,e,i,s,l){return new lN(r,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,XE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const $E="firestore.googleapis.com",Av=!0;class Sv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$E,this.ssl=Av}else this.host=e.host,this.ssl=e.ssl??Av;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pw)throw new oe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new zR;switch(s.type){case"firstParty":return new GR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=bv.get(i);s&&(le(zI,"Removing Datastore"),bv.delete(i),s.terminate())})(this),Promise.resolve()}}function FI(r,e,i,s={}){r=Bn(r,Oh);const l=$s(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;l&&(Dm(`https://${g}`),xm("Firestore",!0)),c.host!==$E&&c.host!==g&&Qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:s};if(!qs(_,d)&&(r._setSettings(_),s.mockUserToken)){let p,T;if(typeof s.mockUserToken=="string")p=s.mockUserToken,T=$t.MOCK_USER;else{p=Gv(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new oe($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $t(S)}r._authCredentials=new HR(new V1(p,T))}}class ea{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class yt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Yl(i,yt._jsonSchema))return new yt(e,s||null,new me(nt.fromString(i.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Ct("string",yt._jsonSchemaVersion),referencePath:Ct("string")};class $r extends ea{constructor(e,i,s){super(e,i,Zm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new me(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function go(r,e,...i){if(r=Pt(r),L1("collection","path",e),r instanceof Oh){const s=nt.fromString(e,...i);return k_(s),new $r(r,null,s)}{if(!(r instanceof yt||r instanceof $r))throw new oe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...i));return k_(s),new $r(r.firestore,null,s)}}function as(r,e,...i){if(r=Pt(r),arguments.length===1&&(e=Ym.newId()),L1("doc","path",e),r instanceof Oh){const s=nt.fromString(e,...i);return U_(s),new yt(r,null,new me(s))}{if(!(r instanceof yt||r instanceof $r))throw new oe($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...i));return U_(s),new yt(r.firestore,r instanceof $r?r.converter:null,new me(s))}}const Rv="AsyncQueue";class Nv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wE(this,"async_queue_retry"),this._c=()=>{const s=em();s&&le(Rv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ho(e))throw e;le(Rv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,or("INTERNAL UNHANDLED ERROR: ",wv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=fg.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ye(47125,{Pc:wv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function wv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class os extends Oh{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new Nv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nv(e),this._firestoreClient=void 0,await e}}}function qI(r,e){const i=typeof r=="object"?r:Lm(),s=typeof r=="string"?r:ih,l=ph(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=Hv("firestore");c&&FI(l,...c)}return l}function Vh(r){if(r._terminated)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GI(r),r._firestoreClient}function GI(r){const e=r._freezeSettings(),i=HI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new LI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Yt.fromBase64String(e))}catch(i){throw new oe($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Pn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yl(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ct("string",Pn._jsonSchemaVersion),bytes:Ct("string")};class Lh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new oe($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yg{constructor(e){this._methodName=e}}class Mi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new oe($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new oe($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(Yl(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Ct("string",Mi._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class ti{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yl(e,ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ti(e.vectorValues);throw new oe($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:Ct("string",ti._jsonSchemaVersion),vectorValues:Ct("object")};const KI=/^__.*__$/;class YI{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ss(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(e,this.data,i,this.fieldTransforms)}}class JE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new ss(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function WE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:r})}}class _g{constructor(e,i,s,l,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new _g({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return fh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(WE(this.dataSource)&&KI.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class QI{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Mh(e)}createContext(e,i,s,l=!1){return new _g({dataSource:e,methodName:i,targetDoc:s,path:Kt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wl(r){const e=r._freezeSettings(),i=Mh(r._databaseId);return new QI(r._databaseId,!!e.ignoreUndefinedProperties,i)}function vg(r,e,i,s,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,e,i,l);Eg("Data must be an object, but it was:",d,s);const g=t2(s,d);let _,p;if(c.merge)_=new An(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const N=oo(e,S,i);if(!d.contains(N))throw new oe($.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);r2(T,N)||T.push(N)}_=new An(T),p=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,p=d.fieldTransforms;return new YI(new fn(g),_,p)}class Uh extends yg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}function ZE(r,e,i,s){const l=r.createContext(1,e,i);Eg("Data must be an object, but it was:",l,s);const c=[],d=fn.empty();rs(s,((_,p)=>{const T=i2(e,_,i);p=Pt(p);const S=l.childContextForFieldPath(T);if(p instanceof Uh)c.push(T);else{const N=Zl(p,S);N!=null&&(c.push(T),d.set(T,N))}}));const g=new An(c);return new JE(d,g,l.fieldTransforms)}function e2(r,e,i,s,l,c){const d=r.createContext(1,e,i),g=[oo(e,s,i)],_=[l];if(c.length%2!=0)throw new oe($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)g.push(oo(e,c[N])),_.push(c[N+1]);const p=[],T=fn.empty();for(let N=g.length-1;N>=0;--N)if(!r2(p,g[N])){const k=g[N];let G=_[N];G=Pt(G);const Z=d.childContextForFieldPath(k);if(G instanceof Uh)p.push(k);else{const ee=Zl(G,Z);ee!=null&&(p.push(k),T.set(k,ee))}}const S=new An(p);return new JE(T,S,d.fieldTransforms)}function XI(r,e,i,s=!1){return Zl(i,r.createContext(s?4:3,e))}function Zl(r,e){if(n2(r=Pt(r)))return Eg("Unsupported field value:",e,r),t2(r,e);if(r instanceof yg)return(function(s,l){if(!WE(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const g of s){let _=Zl(g,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=Pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VN(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=st.fromDate(s);return{timestampValue:lh(l.serializer,c)}}if(s instanceof st){const c=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lh(l.serializer,c)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:gE(l.serializer,s._byteString)};if(s instanceof yt){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ig(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ti)return(function(d,g){const _=d instanceof ti?d.toArray():d;return{mapValue:{fields:{[q1]:{stringValue:G1},[rh]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return eg(g.serializer,T)}))}}}}}})(s,l);if(bE(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Eh(s)}`)})(r,e)}function t2(r,e){const i={};return P1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(r,((s,l)=>{const c=Zl(l,e.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function n2(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof Mi||r instanceof Pn||r instanceof yt||r instanceof yg||r instanceof ti||bE(r))}function Eg(r,e,i){if(!n2(i)||!U1(i)){const s=Eh(i);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function oo(r,e,i){if((e=Pt(e))instanceof Lh)return e._internalPath;if(typeof e=="string")return i2(r,e);throw fh("Field path arguments must be of type string or ",r,!1,void 0,i)}const $I=new RegExp("[~\\*/\\[\\]]");function i2(r,e,i){if(e.search($I)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Lh(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function fh(r,e,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new oe($.INVALID_ARGUMENT,g+r+_)}function r2(r,e){return r.some((i=>i.isEqual(e)))}class JI{convertValue(e,i="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return rs(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[rh].arrayValue?.values?.map((s=>pt(s.doubleValue)));return new ti(i)}convertGeoPoint(e){return new Mi(pt(e.latitude),pt(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Ah(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Ul(e));default:return null}}convertTimestamp(e){const i=Zr(e);return new st(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=nt.fromString(e);Ke(TE(s),9688,{name:e});const l=new kl(s.get(1),s.get(3)),c=new me(s.popFirst(5));return l.isEqual(i)||or(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class s2 extends JI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,i)}}const Iv="@firebase/firestore",Cv="4.11.0";class a2{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(oo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class WI extends a2{data(){return super.data()}}function ZI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class o2 extends Tg{}function kh(r,e,...i){let s=[];e instanceof Tg&&s.push(e),s=s.concat(i),(function(c){const d=c.filter((_=>_ instanceof Ag)).length,g=c.filter((_=>_ instanceof bg)).length;if(d>1||d>0&&g>0)throw new oe($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class bg extends o2{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new bg(e,i,s)}_apply(e){const i=this._parse(e);return l2(e._query,i),new ea(e.firestore,e.converter,vm(e._query,i))}_parse(e){const i=Wl(e.firestore);return(function(c,d,g,_,p,T,S){let N;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new oe($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Dv(S,T);const G=[];for(const Z of S)G.push(Mv(_,c,Z));N={arrayValue:{values:G}}}else N=Mv(_,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Dv(S,T),N=XI(g,d,S,T==="in"||T==="not-in");return It.create(p,T,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Ag extends Tg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Ag(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ni.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const _ of g)l2(d,_),d=vm(d,_)})(e._query,i),new ea(e.firestore,e.converter,vm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sg extends o2{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Sg(e,i)}_apply(e){const i=(function(l,c,d){if(l.startAt!==null)throw new oe($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new oe($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bl(c,d)})(e._query,this._field,this._direction);return new ea(e.firestore,e.converter,NN(e._query,i))}}function eC(r,e="asc"){const i=e,s=oo("orderBy",r);return Sg._create(s,i)}function Mv(r,e,i){if(typeof(i=Pt(i))=="string"){if(i==="")throw new oe($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z1(e)&&i.indexOf("/")!==-1)throw new oe($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(nt.fromString(i));if(!me.isDocumentKey(s))throw new oe($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return G_(r,new me(s))}if(i instanceof yt)return G_(r,i._key);throw new oe($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eh(i)}.`)}function Dv(r,e){if(!Array.isArray(r)||r.length===0)throw new oe($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l2(r,e){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new oe($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function Rg(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}class Nl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fs extends a2{constructor(e,i,s,l,c,d){super(e,i,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(oo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Fs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fs._jsonSchema={type:Ct("string",Fs._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Yc extends Fs{data(e={}){return super.data(e)}}class eo{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Nl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Yc(this._firestore,this._userDataWriter,s.key,s,new Nl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new oe($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Yc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Nl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Yc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Nl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,T=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:tC(g.type),doc:_,oldIndex:p,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Ct("string",eo._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class nC{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Wl(e)}set(e,i,s){this._verifyNotCommitted();const l=nm(e,this._firestore),c=Rg(l.converter,i,s),d=vg(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,s);return this._mutations.push(d.toMutation(l._key,nn.none())),this}update(e,i,s,...l){this._verifyNotCommitted();const c=nm(e,this._firestore);let d;return d=typeof(i=Pt(i))=="string"||i instanceof Lh?e2(this._dataReader,"WriteBatch.update",c._key,i,s,l):ZE(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=nm(e,this._firestore);return this._mutations=this._mutations.concat(new Ih(i._key,nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nm(r,e){if((r=Pt(r)).firestore!==e)throw new oe($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function u2(r){r=Bn(r,yt);const e=Bn(r.firestore,os),i=Vh(e);return PI(i,r._key).then((s=>sC(e,r,s)))}function Ph(r){r=Bn(r,ea);const e=Bn(r.firestore,os),i=Vh(e),s=new s2(e);return ZI(r._query),BI(i,r._query).then((l=>new eo(e,s,r,l)))}function Ng(r,e,i){r=Bn(r,yt);const s=Bn(r.firestore,os),l=Rg(r.converter,e,i),c=Wl(s);return eu(s,[vg(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,nn.none())])}function iC(r,e,i,...s){r=Bn(r,yt);const l=Bn(r.firestore,os),c=Wl(l);let d;return d=typeof(e=Pt(e))=="string"||e instanceof Lh?e2(c,"updateDoc",r._key,e,i,s):ZE(c,"updateDoc",r._key,e),eu(l,[d.toMutation(r._key,nn.exists(!0))])}function rC(r){return eu(Bn(r.firestore,os),[new Ih(r._key,nn.none())])}function c2(r,e){const i=Bn(r.firestore,os),s=as(r),l=Rg(r.converter,e),c=Wl(r.firestore);return eu(i,[vg(c,"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,nn.exists(!1))]).then((()=>s))}function eu(r,e){const i=Vh(r);return jI(i,e)}function sC(r,e,i){const s=i.docs.get(e._key),l=new s2(r);return new Fs(r,l,e._key,s,new Nl(i.hasPendingWrites,i.fromCache),e.converter)}function aC(r){return r=Bn(r,os),Vh(r),new nC(r,(e=>eu(r,e)))}(function(e,i=!0){jR(Js),Gs(new Jr("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new os(new FR(s.getProvider("auth-internal")),new KR(d,s.getProvider("app-check-internal")),uN(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ni(Iv,Cv,e),Ni(Iv,Cv,"esm2020")})();const h2="firebasestorage.googleapis.com",oC="storageBucket",lC=120*1e3,uC=600*1e3;class Li extends Vi{constructor(e,i,s=0){super(im(e),`Firebase Storage: ${i} (${im(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Li.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return im(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Oi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Oi||(Oi={}));function im(r){return"storage/"+r}function cC(){const r="An unknown error occurred, please check the error payload for server response.";return new Li(Oi.UNKNOWN,r)}function hC(){return new Li(Oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fC(){return new Li(Oi.CANCELED,"User canceled the upload/download.")}function dC(r){return new Li(Oi.INVALID_URL,"Invalid URL '"+r+"'.")}function mC(r){return new Li(Oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function xv(r){return new Li(Oi.INVALID_ARGUMENT,r)}function f2(){return new Li(Oi.APP_DELETED,"The Firebase app was deleted.")}function gC(r){return new Li(Oi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Zn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let s;try{s=Zn.makeFromUrl(e,i)}catch{return new Zn(e,"")}if(s.path==="")return s;throw mC(e)}static makeFromUrl(e,i){let s=null;const l="([A-Za-z0-9.\\-_]+)";function c(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const d="(/(.*))?$",g=new RegExp("^gs://"+l+d,"i"),_={bucket:1,path:3};function p(ue){ue.path_=decodeURIComponent(ue.path)}const T="v[A-Za-z0-9_]+",S=i.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",k=new RegExp(`^https?://${S}/${T}/b/${l}/o${N}`,"i"),G={bucket:1,path:3},Z=i===h2?"(?:storage.googleapis.com|storage.cloud.google.com)":i,ee="([^?#]*)",te=new RegExp(`^https?://${Z}/${l}/${ee}`,"i"),Y=[{regex:g,indices:_,postModify:c},{regex:k,indices:G,postModify:p},{regex:te,indices:{bucket:1,path:2},postModify:p}];for(let ue=0;ue<Y.length;ue++){const ve=Y[ue],pe=ve.regex.exec(e);if(pe){const D=pe[ve.indices.bucket];let w=pe[ve.indices.path];w||(w=""),s=new Zn(D,w),ve.postModify(s);break}}if(s==null)throw dC(e);return s}}class pC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function yC(r,e,i){let s=1,l=null,c=null,d=!1,g=0;function _(){return g===2}let p=!1;function T(...ee){p||(p=!0,e.apply(null,ee))}function S(ee){l=setTimeout(()=>{l=null,r(k,_())},ee)}function N(){c&&clearTimeout(c)}function k(ee,...te){if(p){N();return}if(ee){N(),T.call(null,ee,...te);return}if(_()||d){N(),T.call(null,ee,...te);return}s<64&&(s*=2);let Y;g===1?(g=2,Y=0):Y=(s+Math.random())*1e3,S(Y)}let G=!1;function Z(ee){G||(G=!0,N(),!p&&(l!==null?(ee||(g=2),clearTimeout(l),S(0)):ee||(g=1)))}return S(0),c=setTimeout(()=>{d=!0,Z(!0)},i),Z}function _C(r){r(!1)}function vC(r){return r!==void 0}function Ov(r,e,i,s){if(s<e)throw xv(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>i)throw xv(`Invalid value for '${r}'. Expected ${i} or less.`)}function EC(r){const e=encodeURIComponent;let i="?";for(const s in r)if(r.hasOwnProperty(s)){const l=e(s)+"="+e(r[s]);i=i+l+"&"}return i=i.slice(0,-1),i}var dh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(dh||(dh={}));function TC(r,e){const i=r>=500&&r<600,l=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return i||l||c}class bC{constructor(e,i,s,l,c,d,g,_,p,T,S,N=!0,k=!1){this.url_=e,this.method_=i,this.headers_=s,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=_,this.timeout_=p,this.progressCallback_=T,this.connectionFactory_=S,this.retry=N,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,Z)=>{this.resolve_=G,this.reject_=Z,this.start_()})}start_(){const e=(s,l)=>{if(l){s(!1,new Uc(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=g=>{const _=g.loaded,p=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(_,p)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const g=c.getErrorCode()===dh.NO_ERROR,_=c.getStatus();if(!g||TC(_,this.additionalRetryCodes_)&&this.retry){const T=c.getErrorCode()===dh.ABORT;s(!1,new Uc(!1,null,T));return}const p=this.successCodes_.indexOf(_)!==-1;s(!0,new Uc(p,c))})},i=(s,l)=>{const c=this.resolve_,d=this.reject_,g=l.connection;if(l.wasSuccessCode)try{const _=this.callback_(g,g.getResponse());vC(_)?c(_):c()}catch(_){d(_)}else if(g!==null){const _=cC();_.serverResponse=g.getErrorText(),this.errorCallback_?d(this.errorCallback_(g,_)):d(_)}else if(l.canceled){const _=this.appDelete_?f2():fC();d(_)}else{const _=hC();d(_)}};this.canceled_?i(!1,new Uc(!1,null,!0)):this.backoffId_=yC(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_C(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uc{constructor(e,i,s){this.wasSuccessCode=e,this.connection=i,this.canceled=!!s}}function AC(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function SC(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function RC(r,e){e&&(r["X-Firebase-GMPID"]=e)}function NC(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function wC(r,e,i,s,l,c,d=!0,g=!1){const _=EC(r.urlParams),p=r.url+_,T=Object.assign({},r.headers);return RC(T,e),AC(T,i),SC(T,c),NC(T,s),new bC(p,r.method,T,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,d,g)}function IC(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function CC(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class mh{constructor(e,i){this._service=e,i instanceof Zn?this._location=i:this._location=Zn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new mh(e,i)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CC(this._location.path)}get storage(){return this._service}get parent(){const e=IC(this._location.path);if(e===null)return null;const i=new Zn(this._location.bucket,e);return new mh(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw gC(e)}}function Vv(r,e){const i=e?.[oC];return i==null?null:Zn.makeFromBucketSpec(i,r)}function MC(r,e,i,s={}){r.host=`${e}:${i}`;const l=$s(e);l&&(Dm(`https://${r.host}/b`),xm("Storage",!0)),r._isUsingEmulator=!0,r._protocol=l?"https":"http";const{mockUserToken:c}=s;c&&(r._overrideAuthToken=typeof c=="string"?c:Gv(c,r.app.options.projectId))}class DC{constructor(e,i,s,l,c,d=!1){this.app=e,this._authProvider=i,this._appCheckProvider=s,this._url=l,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=h2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lC,this._maxUploadRetryTime=uC,this._requests=new Set,l!=null?this._bucket=Zn.makeFromBucketSpec(l,this._host):this._bucket=Vv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=Vv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ov("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ov("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mh(this,e)}_makeRequest(e,i,s,l,c=!0){if(this._deleted)return new pC(f2());{const d=wC(e,this._appId,s,l,i,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[s,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,s,l).getPromise()}}const Lv="@firebase/storage",Uv="0.14.0";const d2="storage";function xC(r=Lm(),e){r=Pt(r);const s=ph(r,d2).getImmediate({identifier:e}),l=Hv("storage");return l&&OC(s,...l),s}function OC(r,e,i,s={}){MC(r,e,i,s)}function VC(r,{instanceIdentifier:e}){const i=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new DC(i,s,l,e,Js)}function LC(){Gs(new Jr(d2,VC,"PUBLIC").setMultipleInstances(!0)),Ni(Lv,Uv,""),Ni(Lv,Uv,"esm2020")}LC();const UC={apiKey:"AIzaSyCdGLpq82WeNo97sNYB2dm978pOHUp2JU0",authDomain:"hostel-app-dbs.firebaseapp.com",projectId:"hostel-app-dbs",storageBucket:"hostel-app-dbs.firebasestorage.app",messagingSenderId:"799300996393",appId:"1:799300996393:web:4d70d4fd7fca9bb21c3b38"},wg=Qv(UC),dn=qI(wg);xC(wg);const kv=UR(wg),kC=new tr,PC="https://script.google.com/macros/s/AKfycbzgtaj5cp7Pv_RtMc9C6vYz6GD2b4BE37jgbRqKK1HhsM5u9kRyMANZyEJBoY0jfvx1/exec",BC=async()=>{try{const r=kh(go(dn,"leave_requests")),e=await Ph(r);if(e.size===0)return{status:"success",count:0};const i=aC(dn);let s=0;return e.forEach(l=>{i.delete(l.ref),s++}),await i.commit(),console.log(` Deleted ${s} leave requests.`),{status:"success",count:s}}catch(r){throw console.error(" Error deleting requests:",r),r}},m2=async()=>{try{const r=kh(go(dn,"leave_requests"),eC("timestamp","desc")),e=await Ph(r),i=[];return e.forEach(s=>{i.push({id:s.id,...s.data()})}),i}catch(r){return console.error("Error fetching data from Firebase:",r),r.code==="permission-denied"?[]:[]}},jC=r=>new Promise((e,i)=>{const s=new FileReader;s.readAsDataURL(r),s.onload=l=>{const c=new Image;c.src=l.target.result,c.onload=()=>{const d=document.createElement("canvas"),g=800,_=800;let p=c.width,T=c.height;p>T?p>g&&(T*=g/p,p=g):T>_&&(p*=_/T,T=_),d.width=p,d.height=T,d.getContext("2d").drawImage(c,0,0,p,T),e(d.toDataURL("image/jpeg",.7))},c.onerror=()=>i(new Error("Failed to load image"))},s.onerror=()=>i(new Error("Failed to read file"))}),zC=async r=>{let e="";if(r.rawFile)try{console.log(" Compressing image..."),e=await jC(r.rawFile);const s=Math.round(e.length*3/4/1024);console.log(` Image compressed (${s} KB)`)}catch(s){console.error(" Error compressing image:",s),alert(`Failed to process image: ${s.message}`)}let i=null;try{console.log(" Saving to Firestore database...");const s={"Register Number":r.regNo,"University Register No":r.universityRegNo,"Student Name":r.name,Year:r.year,Dept:r.dept,"Student Mobile":r.studentMobile,"Parent Mobile":r.parentMobile,Room:r.room,Reason:r.reason,"Leaving date":r.leavingDate,"Date of return":r.returnDate,"letter image":e,fileData:e,fileUrl:"",Approval:"Pending",Remarks:"",outTime:r.outTime,numDays:r.numDays,letterSigned:r.letterSigned,fileName:r.fileName||"",mimeType:r.mimeType||"",warden:r.warden,requestType:r.requestType,timestamp:new Date().toISOString()};i=(await c2(go(dn,"leave_requests"),s)).id,console.log(" Saved to Firestore with ID:",i)}catch(s){throw console.error(" Firestore Save Error:",s),alert("Failed to save request. Please try again."),s}try{console.log(" Sending to Google Script (Background)...");const s={action:"create",...r,id:i,fileData:e,fileName:r.fileName||(e?"image.jpg":"")},l=new AbortController,c=setTimeout(()=>l.abort(),1e4);fetch(PC,{method:"POST",body:JSON.stringify(s),signal:l.signal}).then(d=>d.json()).then(d=>console.log(" Google Sheet updated:",d)).catch(d=>console.warn(" Google Sheet backup skipped/failed (Non-critical):",d))}catch(s){console.warn(" Google Script error:",s)}return{status:"success",id:i}},HC=async(r,e,i)=>{try{const s=as(dn,"leave_requests",r);return await iC(s,{Approval:e,Remarks:i}),console.log(" Request updated successfully"),{status:"success"}}catch(s){return console.error(" Error updating request:",s),{status:"error",message:s.message}}},g2=async r=>{try{const e=r.regNo.toString().trim().toUpperCase();return await Ng(as(dn,"students",e),r,{merge:!0}),console.log(" Student added/updated:",r.name),{status:"success"}}catch(e){throw console.error(" Error adding student:",e),e}},FC=async r=>{try{const e=r.toString().trim().toUpperCase(),i=as(dn,"students",e),s=await u2(i);return s.exists()?s.data():null}catch(e){return console.error("Error fetching student:",e),null}},qC=async r=>{try{return await c2(go(dn,"wardens"),r),{status:"success"}}catch(e){throw console.error(" Error adding warden:",e),e}},Ig=async()=>{try{const r=kh(go(dn,"wardens")),e=await Ph(r),i=[];return e.forEach(s=>{i.push({id:s.id,...s.data()})}),i}catch(r){return console.error("Error fetching wardens:",r),[]}},p2=async()=>{try{const r=as(dn,"config","global"),e=await u2(r);return e.exists()?e.data():{is24HourRuleEnabled:!1}}catch(r){return console.error("Error fetching config:",r),{is24HourRuleEnabled:!1}}},GC=async r=>{try{const e=as(dn,"config","global");return await Ng(e,r,{merge:!0}),console.log(" Config updated:",r),{status:"success"}}catch(e){throw console.error(" Error updating config:",e),e}},KC=async()=>{try{const r=kh(go(dn,"students")),e=await Ph(r),i=[];return e.forEach(s=>{i.push({id:s.id,...s.data()})}),i}catch(r){return console.error("Error fetching students:",r),[]}},YC=async r=>{try{const e=r.toString().trim().toUpperCase();return await rC(as(dn,"students",e)),console.log(" Student deleted:",e),{status:"success"}}catch(e){throw console.error(" Error deleting student:",e),e}},QC=({onLogin:r})=>{const[e,i]=Re.useState(""),[s,l]=Re.useState(""),[c,d]=Re.useState(!1),[g,_]=Re.useState([]);rm.useEffect(()=>{(async()=>{const k=await Ig();_(k)})()},[]);const p=N=>{const k=N.toLowerCase().trim();if(k==="admin1234")return{type:"superadmin",identifier:"admin"};const G={pavi1234:"Pavithrakannan",somu1234:"Somu",ram1234:"Raguram"};if(G[k])return{type:"warden",identifier:G[k]};const Z=g.find(ee=>k===`${ee.name.toLowerCase().substring(0,4)}1234`);return Z?{type:"warden",identifier:Z.name}:{type:"student",identifier:N}},T=async()=>{try{const k=(await GS(kv,kC)).user,G=["akilsudhagar7@gmail.com","akilsudhagar19@gmail.com","akilsudhagar69@gmail.com"],Z=g.map(te=>te.email).filter(Boolean);if([...G,...Z].includes(k.email)){let te="Warden";const se=g.find(Y=>Y.email===k.email);se?te=se.name:k.email==="akilsudhagar7@gmail.com"?te="Pavithrakannan":k.email==="akilsudhagar19@gmail.com"?te="Somu":k.email==="akilsudhagar69@gmail.com"&&(te="Raguram"),r("warden",te)}else alert("This Google account is not authorized as a warden. Please contact the administrator."),await kv.signOut()}catch(N){console.error("Google Sign-In Error:",N),N.code!=="auth/popup-closed-by-user"&&alert("Failed to sign in with Google. Please try again.")}},S=N=>{N.preventDefault();const k=p(e);if(k.type==="superadmin"){if(s!=="admin123"){alert("Invalid Admin Password");return}}else if(k.type==="warden"){const G=g.find(Z=>Z.name===k.identifier);if(G){if(G.password!==s){alert(`Invalid Password for Warden ${k.identifier}`);return}}else if({Pavithrakannan:"pavi123",Somu:"somu123",Raguram:"ram123"}[k.identifier]!==s){alert(`Invalid Password for Warden ${k.identifier}`);return}T();return}r(k.type,k.identifier)};return rm.useEffect(()=>{const N=p(e);d(N.type!=="student")},[e,g]),b.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"1rem"},children:b.jsxs("div",{className:"card",style:{width:"100%",maxWidth:"400px"},children:[b.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[b.jsx("img",{src:"/logo.png",alt:"NBF Logo",style:{height:"80px",marginBottom:"1rem",borderRadius:"8px"}}),b.jsx("h2",{style:{marginBottom:"0.5rem",color:"var(--primary)",margin:0},children:"Hostel Portal"}),b.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Please sign in to continue"})]}),b.jsxs("form",{onSubmit:S,children:[b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{htmlFor:"regNo",children:"Register Number (Roll No)"}),b.jsx("input",{id:"regNo",type:"text",placeholder:"Enter your registration number",value:e,onChange:N=>i(N.target.value),required:!0,autoComplete:"off"}),b.jsx("small",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginTop:"0.25rem",display:"block"},children:"e.g., 25013635"})]}),c&&b.jsxs("div",{className:"mb-2",style:{animation:"fadeIn 0.3s ease-in",marginTop:"1rem"},children:[b.jsx("label",{htmlFor:"password",children:"Password"}),b.jsx("input",{id:"password",type:"password",placeholder:"Enter your password",value:s,onChange:N=>l(N.target.value),required:!0,autoComplete:"current-password"})]}),b.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",marginTop:"1.5rem",padding:"0.875rem",fontSize:"1rem"},children:"Sign In"})]}),b.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"var(--bg-color)",borderRadius:"var(--radius-sm)",fontSize:"0.85rem",color:"var(--text-secondary)",lineHeight:"1.5"},children:[b.jsx("strong",{style:{color:"var(--text-primary)"},children:"Note:"})," Students use their registration number. Staff members use their access code."]})]})})},XC=({regNo:r,onSubmit:e,onCancel:i})=>{const[s,l]=Re.useState(!1),[c,d]=Re.useState({is24HourRuleEnabled:!1}),[g,_]=Re.useState(!1),[p,T]=Re.useState({regNo:r,universityRegNo:"",name:"",year:"",dept:"",studentMobile:"",parentMobile:"",room:"",reason:"",leaveDates:"",numDays:"",leavingDate:"",outTime:"",returnDate:"",letterSigned:"No",fileData:"",fileName:"",mimeType:"",warden:""}),[S,N]=Re.useState([]);Re.useEffect(()=>{(async()=>{try{const se=await Ig();N(se);const Y=await p2();d(Y)}catch(se){console.error("Failed to load initial data",se)}})()},[]),Re.useEffect(()=>{(async()=>{if(!r)return;console.log(" Checking for saved student profile:",r);const se=await FC(r);se&&(console.log(" Found saved profile:",se),T(Y=>({...Y,name:se.name||Y.name,universityRegNo:se.universityRegNo||Y.universityRegNo,room:se.room||Y.room,year:se.year||Y.year,dept:se.dept||Y.dept,studentMobile:se.studentMobile||Y.studentMobile,parentMobile:se.parentMobile||Y.parentMobile,warden:se.warden||Y.warden})))})()},[r]);const k=te=>{T({...p,[te.target.name]:te.target.value})},G=te=>{const se=te.target.files[0];if(se){const Y=new FileReader;Y.onloadend=()=>{T({...p,fileData:Y.result,rawFile:se,fileName:se.name,mimeType:se.type})},Y.readAsDataURL(se)}},Z=()=>!c.is24HourRuleEnabled||g||!p.leavingDate||!p.outTime?!0:(new Date(`${p.leavingDate}T${p.outTime}`)-new Date)/(1e3*60*60)>=24,ee=async te=>{if(te.preventDefault(),!Z()){alert(` 24-HOUR NOTICE REQUIRED

The Leave Application mode is currently restricted. You must apply at least 24 hours in advance.

For urgent matters, please check 'Emergency Request' to bypass this rule.`);return}l(!0);const se={...p,requestType:g?"Emergency":"Normal"},Y={regNo:p.regNo,universityRegNo:p.universityRegNo,name:p.name,year:p.year,dept:p.dept,studentMobile:p.studentMobile,parentMobile:p.parentMobile,room:p.room,warden:p.warden};try{await g2(Y),console.log(" Student profile updated/saved as default.")}catch(ue){console.warn(" Failed to save student profile (non-critical):",ue)}try{await e(se)}catch(ue){console.error("Error submitting form:",ue)}finally{l(!1)}};return b.jsxs("div",{className:"card",children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[b.jsx("h3",{style:{margin:0,color:"var(--primary)"},children:"New Leave Application"}),c.is24HourRuleEnabled&&b.jsx("div",{style:{background:"#fffbeb",padding:"0.5rem",borderRadius:"var(--radius-sm)",border:"1px solid #fcd34d",fontSize:"0.85rem",color:"#b45309"},children:" 24hr Notice Active"})]}),b.jsxs("form",{onSubmit:ee,children:[c.is24HourRuleEnabled&&b.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:g?"#fee2e2":"var(--bg-color)",border:g?"1px solid #f87171":"1px solid var(--card-border)",borderRadius:"var(--radius-md)",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[b.jsx("input",{type:"checkbox",id:"emergencyCheck",checked:g,onChange:te=>_(te.target.checked),style:{transform:"scale(1.2)",width:"auto",margin:0,cursor:"pointer"}}),b.jsx("label",{htmlFor:"emergencyCheck",style:{fontWeight:"600",color:g?"#dc2626":"var(--text-primary)",cursor:"pointer",margin:0},children:"This is an EMERGENCY Request"})]}),b.jsx("p",{style:{margin:"0 0 0 2rem",fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Check this only for urgent medical or family emergencies. This will be flagged to the warden."})]}),b.jsxs("div",{className:"grid-2",children:[b.jsxs("div",{children:[b.jsx("label",{children:"Register Number (Roll No)"}),b.jsx("input",{name:"regNo",value:p.regNo,readOnly:!0,style:{opacity:.7,cursor:"not-allowed"}})]}),b.jsxs("div",{children:[b.jsx("label",{children:"University Register No"}),b.jsx("input",{name:"universityRegNo",value:p.universityRegNo,readOnly:!0,style:{opacity:.7,cursor:"not-allowed"},placeholder:"Auto-filled"})]}),b.jsxs("div",{children:[b.jsx("label",{children:"Student Name"}),b.jsx("input",{name:"name",value:p.name,placeholder:"Full Name",onChange:k,required:!0,readOnly:!0,style:{opacity:.7,cursor:"not-allowed",backgroundColor:"var(--bg-secondary)"}})]}),b.jsxs("div",{children:[b.jsx("label",{children:"Year of Study"}),b.jsxs("select",{name:"year",value:p.year,onChange:k,required:!0,disabled:!0,style:{opacity:.7,cursor:"not-allowed",backgroundColor:"var(--bg-secondary)"},children:[b.jsx("option",{value:"",children:"Select Year"}),b.jsx("option",{value:"1",children:"1st Year"}),b.jsx("option",{value:"2",children:"2nd Year"}),b.jsx("option",{value:"3",children:"3rd Year"}),b.jsx("option",{value:"4",children:"4th Year"})]})]}),b.jsxs("div",{children:[b.jsx("label",{children:"Department"}),b.jsx("input",{name:"dept",value:p.dept,placeholder:"e.g. CSE",onChange:k,required:!0,readOnly:!0,style:{opacity:.7,cursor:"not-allowed",backgroundColor:"var(--bg-secondary)"}})]}),b.jsxs("div",{children:[b.jsx("label",{children:"Student Mobile"}),b.jsx("input",{name:"studentMobile",value:p.studentMobile,placeholder:"Number",type:"tel",onChange:k,required:!0,readOnly:!0,style:{opacity:.7,cursor:"not-allowed",backgroundColor:"var(--bg-secondary)"}})]}),b.jsxs("div",{children:[b.jsx("label",{children:"Parent Mobile"}),b.jsx("input",{name:"parentMobile",value:p.parentMobile,placeholder:"Number",type:"tel",onChange:k,required:!0,readOnly:!0,style:{opacity:.7,cursor:"not-allowed",backgroundColor:"var(--bg-secondary)"}})]}),b.jsxs("div",{children:[b.jsx("label",{children:"Room Number"}),b.jsx("input",{name:"room",value:p.room,placeholder:"Room No",onChange:k,required:!0,readOnly:!0,style:{opacity:.7,cursor:"not-allowed",backgroundColor:"var(--bg-secondary)"}})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{children:"Reason for Leave"}),b.jsx("textarea",{name:"reason",value:p.reason,rows:"3",onChange:k,required:!0,placeholder:"Briefly explain why you are taking leave..."})]}),b.jsxs("div",{className:"grid-2 mt-4",children:[b.jsxs("div",{children:[b.jsx("label",{children:"Leaving Date"}),b.jsx("input",{name:"leavingDate",type:"date",value:p.leavingDate,onChange:k,required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{children:"Out Time"}),b.jsx("input",{name:"outTime",type:"time",onChange:k,required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{children:"Return Date"}),b.jsx("input",{name:"returnDate",type:"date",onChange:k,required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{children:"No. of Days"}),b.jsx("input",{name:"numDays",type:"number",min:"1",onChange:k,required:!0})]})]}),b.jsxs("div",{className:"grid-2 mt-4",children:[b.jsxs("div",{children:[b.jsx("label",{children:"Select Your Warden"}),b.jsxs("select",{name:"warden",value:p.warden,onChange:k,required:!0,children:[b.jsx("option",{value:"",children:"Choose Warden..."}),S.length>0?S.map(te=>b.jsx("option",{value:te.name,children:te.name},te.id)):b.jsxs(b.Fragment,{children:[b.jsx("option",{value:"Pavithrakannan",children:"Pavithrakannan"}),b.jsx("option",{value:"Somu",children:"Somu"}),b.jsx("option",{value:"Raguram",children:"Raguram"})]})]})]}),b.jsxs("div",{children:[b.jsx("label",{children:"Letter Signed by HoD?"}),b.jsxs("select",{name:"letterSigned",onChange:k,required:!0,children:[b.jsx("option",{value:"No",children:"No"}),b.jsx("option",{value:"Yes",children:"Yes"})]})]}),p.letterSigned==="Yes"&&b.jsxs("div",{children:[b.jsx("label",{children:"Upload Letter Photo"}),b.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:G,required:!0,style:{padding:"0.4rem",fontSize:"0.85rem"}}),b.jsx("small",{className:"text-muted",children:"Supports Images or PDF"})]})]}),b.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem",paddingTop:"1rem",borderTop:"1px solid var(--card-border)"},children:[b.jsx("button",{type:"submit",className:"btn btn-primary",style:{flex:1},disabled:s,children:s?" Uploading...":"Submit Application"}),b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:i,disabled:s,style:{flex:1},children:"Cancel"})]})]})]})},$C=({user:r,onLogout:e})=>{const[i,s]=Re.useState([]),[l,c]=Re.useState(!1),[d,g]=Re.useState(!0),[_,p]=Re.useState(null),T=async()=>{g(!0);const k=(await m2()).filter(G=>Object.values(G).join(" ").toLowerCase().includes(r.identifier.toLowerCase()));s(k),g(!1)};Re.useEffect(()=>{T()},[]);const S=async N=>{g(!0),await zC(N),c(!1),await T()};return b.jsxs("div",{className:"container",children:[b.jsxs("header",{className:"page-header",children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[b.jsx("img",{src:"/logo.png",alt:"Logo",style:{height:"50px",borderRadius:"5px"}}),b.jsxs("div",{children:[b.jsx("h1",{className:"page-title",children:"Student Portal"}),b.jsxs("p",{className:"page-subtitle",children:["Welcome, ",b.jsx("span",{style:{color:"var(--primary)"},children:r.identifier})]})]})]}),b.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[b.jsx("button",{className:"btn btn-secondary",onClick:T,children:"Refresh"}),b.jsx("button",{className:"btn btn-secondary",onClick:e,children:"Logout"})]})]}),l?b.jsx(XC,{regNo:r.identifier,onSubmit:S,onCancel:()=>c(!1)}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"section-header",children:[b.jsx("h2",{style:{fontSize:"1.5rem",margin:0},children:"My Leave History"}),b.jsx("button",{className:"btn btn-primary",onClick:()=>c(!0),children:"+ New Request"})]}),d?b.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"var(--text-secondary)"},children:[b.jsx("div",{style:{marginBottom:"1rem",fontSize:"2rem"},children:""}),"Loading your requests..."]}):i.length===0?b.jsxs("div",{className:"card",style:{textAlign:"center",padding:"4rem",color:"var(--text-secondary)"},children:[b.jsx("div",{style:{marginBottom:"1rem",fontSize:"2.5rem",opacity:.5},children:""}),"No leave requests found."]}):b.jsx("div",{style:{display:"grid",gap:"1rem"},children:i.map((N,k)=>{const G=Y=>{if(!Y)return"";const ue=new Date(Y);return isNaN(ue.getTime())?Y:ue.toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})},Z=G(N["Leaving date"]||N.leavingDate),ee=G(N["Date of Return"]||N.returnDate),te=Z&&ee?`${Z} - ${ee}`:Z||ee,se=N.Approval||"Pending";return b.jsxs("div",{className:"card",style:{padding:"1.5rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[b.jsxs("div",{children:[b.jsx("div",{style:{fontSize:"1.125rem",fontWeight:"600",color:"var(--text-primary)",marginBottom:"0.25rem"},children:te||"Date Not Specified"}),b.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.95rem"},children:N.Reason||N.reason})]}),b.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"0.5rem"},children:[N.requestType==="Emergency"&&b.jsx("div",{style:{background:"#fee2e2",color:"#b91c1c",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold",border:"1px solid #fca5a5",display:"flex",alignItems:"center",gap:"0.25rem"},children:" EMERGENCY"}),b.jsx("div",{className:`status-badge ${se==="Approved"?"status-approved":se==="Rejected"?"status-rejected":"status-pending"}`,children:se})]})]}),(()=>{const Y=N["letter imqge"]||N["letter image"]||N["Letter Image URL"]||N.fileUrl;if(Y&&(Y.startsWith("data:image")||Y.startsWith("http"))){let ue=Y;if(Y.includes("drive.google.com")){let ve=null;if(Y.includes("/d/")){const pe=Y.match(/\/d\/([a-zA-Z0-9_-]+)/);pe&&(ve=pe[1])}else if(Y.includes("id=")){const pe=Y.match(/id=([a-zA-Z0-9_-]+)/);pe&&(ve=pe[1])}ve&&(ue=`https://drive.google.com/uc?export=view&id=${ve}`)}return b.jsxs("div",{style:{marginTop:"0.5rem"},children:[b.jsx("div",{style:{marginBottom:"0.75rem",borderRadius:"var(--radius-md)",overflow:"hidden",border:"1px solid var(--card-border)",background:"var(--bg-color)",maxWidth:"200px"},children:b.jsx("img",{src:ue,alt:"Permission Letter",style:{width:"100%",maxHeight:"150px",objectFit:"cover",display:"block",cursor:"pointer"},onClick:()=>p(Y),onError:ve=>{ve.target.style.display="none"}})}),b.jsxs("button",{onClick:()=>p(Y),className:"btn btn-secondary",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",fontSize:"0.875rem",border:"none",cursor:"pointer"},children:[b.jsx("span",{children:""})," View Full Letter"]})]})}return null})(),N.Remarks&&b.jsxs("div",{style:{marginTop:"0.5rem",padding:"1rem",background:"var(--bg-color)",borderRadius:"var(--radius-md)",borderLeft:"3px solid var(--primary)",fontSize:"0.9rem"},children:[b.jsx("div",{style:{fontWeight:"600",color:"var(--primary)",marginBottom:"0.25rem",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Warden's Remarks"}),b.jsxs("div",{style:{color:"var(--text-secondary)",fontStyle:"italic"},children:['"',N.Remarks,'"']})]})]},k)})})]}),_&&b.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.9)",backdropFilter:"blur(10px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:200,padding:"2rem"},onClick:()=>p(null),children:b.jsxs("div",{style:{position:"relative",maxWidth:"90%",maxHeight:"90%"},children:[b.jsx("button",{onClick:()=>p(null),style:{position:"absolute",top:"-40px",right:"0",background:"var(--danger)",color:"white",border:"none",borderRadius:"var(--radius-md)",padding:"0.5rem 1rem",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:" Close"}),b.jsx("img",{src:_,alt:"Permission Letter Full View",style:{maxWidth:"100%",maxHeight:"85vh",objectFit:"contain",borderRadius:"var(--radius-md)",boxShadow:"0 10px 40px rgba(0,0,0,0.5)"},onClick:N=>N.stopPropagation()})]})})]})},JC=({user:r,onLogout:e})=>{const[i,s]=Re.useState([]),[l,c]=Re.useState(!0),[d,g]=Re.useState("Pending"),[_,p]=Re.useState(null),[T,S]=Re.useState(""),[N,k]=Re.useState(null),G=async()=>{c(!0);const ue=(await m2()).filter(ve=>ve.warden===r.identifier||ve.Warden===r.identifier||ve.requestType==="Emergency");s(ue.reverse()),c(!1)};Re.useEffect(()=>{G()},[]);const Z=(Y,ue)=>{p({request:Y,status:ue}),S("")},ee=async()=>{if(!_)return;const Y=_.request.ID||_.request.id;c(!0),await HC(Y,_.status,T),p(null),await G()},te=i.filter(Y=>{const ue=Y.Approval||"Pending",ve=Y.requestType==="Emergency";return d==="Pending"?ue==="Pending":d==="Emergency"?ve:!0}),se=({req:Y,onAction:ue,onViewImage:ve})=>{const[pe,D]=Re.useState(!1),w=Y.requestType==="Emergency",C=Ee=>{if(!Ee)return"";const et=new Date(Ee);return isNaN(et.getTime())?Ee:et.toLocaleDateString("en-US",{day:"numeric",month:"short"})},V=C(Y["Leaving date"]),x=C(Y["Date of return"]||Y["Date of Return"]),L=V&&x?`${V} - ${x}`:V||x,I=Y.Approval||"Pending";return b.jsxs("div",{className:"card",style:{padding:"0",overflow:"hidden",transition:"all 0.2s ease",border:w?"2px solid #ef4444":"1px solid var(--card-border)"},children:[b.jsxs("div",{onClick:()=>D(!pe),style:{padding:"1rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",background:pe?"rgba(0,0,0,0.02)":w?"#fef2f2":"transparent",gap:"1rem"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",flex:1,flexWrap:"wrap"},children:[w&&b.jsx("span",{style:{fontSize:"1.2rem",animation:"pulse 1.5s infinite"},children:""}),b.jsx("div",{style:{fontWeight:"600",fontSize:"1.05rem",minWidth:"180px",color:"var(--text-primary)"},children:Y["Student Name"]}),b.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.95rem",fontFamily:"monospace"},children:Y["Register Number"]}),b.jsx("div",{style:{fontSize:"0.9rem",color:"var(--primary)",background:"var(--bg-color)",padding:"0.2rem 0.6rem",borderRadius:"var(--radius-sm)",fontWeight:"500"},children:Y.Room})]}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[b.jsx("span",{className:`status-badge ${I==="Approved"?"status-approved":I==="Rejected"?"status-rejected":"status-pending"}`,style:{fontSize:"0.75rem",padding:"0.25rem 0.75rem"},children:I}),b.jsx("div",{style:{transform:pe?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease",color:"var(--text-secondary)"},children:""})]})]}),pe&&b.jsxs("div",{style:{padding:"1.5rem",borderTop:"1px solid var(--card-border)",animation:"fadeIn 0.3s ease"},children:[w&&b.jsx("div",{style:{background:"#fee2e2",color:"#b91c1c",padding:"0.75rem",borderRadius:"var(--radius-sm)",marginBottom:"1rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem",border:"1px solid #fca5a5"},children:" EMERGENCY REQUEST - Please review immediately"}),b.jsxs("div",{className:"grid-2",style:{marginBottom:"1.5rem",fontSize:"0.9rem"},children:[b.jsxs("div",{children:[b.jsx("label",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Leave Dates"}),b.jsx("div",{style:{fontWeight:"500",fontSize:"1.1rem",color:"var(--primary)"},children:L})]}),b.jsxs("div",{children:[b.jsx("label",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Department & Year"}),b.jsxs("div",{style:{fontWeight:"500"},children:[Y.Year," Year - ",Y.Dept]})]}),b.jsxs("div",{children:[b.jsx("label",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Student Mobile"}),b.jsx("div",{style:{fontWeight:"500"},children:Y["Student Mobile"]})]}),b.jsxs("div",{children:[b.jsx("label",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Parent Mobile"}),b.jsx("div",{style:{fontWeight:"500"},children:Y["Parent Mobile"]})]}),b.jsxs("div",{style:{gridColumn:"span 2"},children:[b.jsx("label",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Reason for Leave"}),b.jsx("div",{style:{fontWeight:"500",background:"var(--bg-color)",padding:"0.75rem",borderRadius:"var(--radius-sm)",marginTop:"0.25rem"},children:Y.Reason})]})]}),(()=>{const Ee=Y["letter imqge"]||Y["letter image"]||Y["Letter Image URL"]||Y.fileUrl;if(Ee&&(Ee.startsWith("data:image")||Ee.startsWith("http"))){let et=Ee;if(Ee.includes("drive.google.com")){let K=null;if(Ee.includes("/d/")){const ne=Ee.match(/\/d\/([a-zA-Z0-9_-]+)/);ne&&(K=ne[1])}else if(Ee.includes("id=")){const ne=Ee.match(/id=([a-zA-Z0-9_-]+)/);ne&&(K=ne[1])}K&&(et=`https://drive.google.com/uc?export=view&id=${K}`)}return b.jsxs("div",{style:{marginBottom:"1.5rem"},children:[b.jsx("label",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",display:"block",marginBottom:"0.5rem"},children:"Permission Letter"}),b.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[b.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"var(--radius-md)",overflow:"hidden",border:"1px solid var(--card-border)",cursor:"pointer",backgroundImage:`url(${et})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>ve(Ee)}),b.jsx("button",{onClick:()=>ve(Ee),className:"btn btn-secondary",style:{fontSize:"0.8rem",padding:"0.4rem 0.8rem"},children:" View Full Size"})]})]})}return null})(),I==="Pending"?b.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[b.jsx("button",{className:"btn btn-success",onClick:Ee=>{Ee.stopPropagation(),ue(Y,"Approved")},style:{flex:1,padding:"0.75rem"},children:" Approve Request"}),b.jsx("button",{className:"btn btn-danger",onClick:Ee=>{Ee.stopPropagation(),ue(Y,"Rejected")},style:{flex:1,padding:"0.75rem"},children:" Reject Request"})]}):b.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"var(--bg-color)",borderRadius:"var(--radius-sm)",fontSize:"0.9rem",color:"var(--text-secondary)"},children:[b.jsx("strong",{children:"Remarks:"})," ",Y.Remarks||"No remarks provided."]})]})]})};return b.jsxs("div",{className:"container",children:[b.jsxs("header",{className:"page-header",children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[b.jsx("img",{src:"/logo.png",alt:"Logo",style:{height:"50px",borderRadius:"5px"}}),b.jsxs("div",{children:[b.jsx("h1",{className:"page-title",children:"Warden Portal"}),b.jsx("p",{className:"page-subtitle",children:"Manage student leave requests"})]})]}),b.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[b.jsx("button",{className:"btn btn-secondary",onClick:G,children:"Refresh"}),b.jsx("button",{className:"btn btn-secondary",onClick:e,children:"Logout"})]})]}),b.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",borderBottom:"1px solid var(--card-border)",paddingBottom:"1rem",overflowX:"auto"},children:[b.jsx("button",{className:`btn ${d==="Pending"?"btn-primary":"btn-secondary"}`,onClick:()=>g("Pending"),style:{flex:1,minWidth:"100px",justifyContent:"center"},children:"Pending"}),b.jsx("button",{className:`btn ${d==="Emergency"?"btn-danger":"btn-secondary"}`,onClick:()=>g("Emergency"),style:{flex:1,minWidth:"100px",justifyContent:"center",backgroundColor:d==="Emergency"?"#dc2626":void 0,color:d==="Emergency"?"white":void 0},children:" Emergency"}),b.jsx("button",{className:`btn ${d==="All"?"btn-primary":"btn-secondary"}`,onClick:()=>g("All"),style:{flex:1,minWidth:"100px",justifyContent:"center"},children:"History"})]}),l?b.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"var(--text-secondary)"},children:[b.jsx("div",{style:{marginBottom:"1rem",fontSize:"2rem",animation:"spin 1s linear infinite"},children:""}),"Loading requests..."]}):te.length===0?b.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem",color:"var(--text-secondary)"},children:[b.jsx("div",{style:{marginBottom:"1rem",fontSize:"2.5rem",opacity:.5},children:""}),"No ",d.toLowerCase()," requests found."]}):b.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:te.map((Y,ue)=>b.jsx(se,{req:Y,onAction:Z,onViewImage:k},ue))}),_&&b.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",backdropFilter:"blur(5px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:100},children:b.jsxs("div",{className:"card",style:{width:"90%",maxWidth:"500px",boxShadow:"var(--shadow-lg)"},children:[b.jsxs("h3",{style:{marginTop:0},children:["Confirm ",_.status]}),b.jsx("p",{children:"Add remarks for this decision (optional for approval, required for rejection):"}),b.jsx("textarea",{rows:"3",value:T,onChange:Y=>S(Y.target.value),placeholder:"Enter remarks...",style:{marginBottom:"1.5rem",width:"100%",padding:"0.5rem"}}),b.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[b.jsx("button",{className:"btn btn-primary",onClick:ee,style:{flex:1},children:"Confirm"}),b.jsx("button",{className:"btn btn-secondary",onClick:()=>p(null),style:{flex:1},children:"Cancel"})]})]})}),N&&b.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.9)",backdropFilter:"blur(10px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:200,padding:"2rem"},onClick:()=>k(null),children:b.jsxs("div",{style:{position:"relative",maxWidth:"90%",maxHeight:"90%"},children:[b.jsx("button",{onClick:()=>k(null),style:{position:"absolute",top:"-40px",right:"0",background:"var(--danger)",color:"white",border:"none",borderRadius:"var(--radius-md)",padding:"0.5rem 1rem",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:" Close"}),b.jsx("img",{src:N,alt:"Permission Letter Full View",style:{maxWidth:"100%",maxHeight:"85vh",objectFit:"contain",borderRadius:"var(--radius-md)",boxShadow:"0 10px 40px rgba(0,0,0,0.5)"},onClick:Y=>Y.stopPropagation()})]})})]})},kc=[{regNo:"25008479",universityRegNo:"212225040110",name:"HARIHARAN V",room:"NBF-101",dept:"Computer Science and Engineering",year:"1",studentMobile:"9360611153",parentMobile:"6381131658"},{regNo:"25009157",universityRegNo:"212225040143",name:"JASIM AHAMED A",room:"NBF-101",dept:"Computer Science and Engineering",year:"1",studentMobile:"7904005949",parentMobile:"9894044302"},{regNo:"25004201",universityRegNo:"212225040241",name:"A. MOHAMED MUBEEN",room:"NBF-101",dept:"Computer Science and Engineering",year:"1",studentMobile:"6380523886",parentMobile:"8870224446"},{regNo:"25011192",universityRegNo:"212225040251",name:"MOHAMMED SHAMEER M",room:"NBF-101",dept:"Computer Science and Engineering",year:"1",studentMobile:"9345895145",parentMobile:"9443748648"},{regNo:"25003242",universityRegNo:"212225040280",name:"R K NIKKIL VARSHAN",room:"NBF-101",dept:"Computer Science and Engineering",year:"1",studentMobile:"6379837001",parentMobile:"8825104455"},{regNo:"25010862",universityRegNo:"212225040310",name:"PRAGATHEESWARAN K",room:"NBF-101",dept:"Computer Science and Engineering",year:"1",studentMobile:"9489960873",parentMobile:"8610141313"},{regNo:"25009816",universityRegNo:"212225040314",name:"S PRAVEEN",room:"NBF-101",dept:"Computer Science and Engineering",year:"1",studentMobile:"8072287962",parentMobile:"9245809119"},{regNo:"25007890",universityRegNo:"212225040329",name:"RAJESH.S",room:"NBF-101",dept:"Computer Science and Engineering",year:"1",studentMobile:"9894447440",parentMobile:"9442532476"},{regNo:"25006075",universityRegNo:"212225040333",name:"REVANTH REDDY G",room:"NBF-101",dept:"Computer Science and Engineering",year:"1",studentMobile:"7013243993",parentMobile:"9666116693"},{regNo:"25014892",universityRegNo:"212225040435",name:"SUJIN M L",room:"NBF-101",dept:"Computer Science and Engineering",year:"1",studentMobile:"8015098773",parentMobile:"9715608773"},{regNo:"25012709",universityRegNo:"212225040136",name:"JACK WALLACE",room:"NBF-102",dept:"Computer Science and Engineering",year:"1",studentMobile:"78451 94667",parentMobile:"8675634667"},{regNo:"25008637",universityRegNo:"212225040345",name:"RITHISH RAM",room:"NBF-102",dept:"Computer Science and Engineering",year:"1",studentMobile:"9629026279",parentMobile:"9629026279"},{regNo:"25012470",universityRegNo:"212225040391",name:"SATHISH",room:"NBF-102",dept:"Computer Science and Engineering",year:"1",studentMobile:"7904138319",parentMobile:"7904138319"},{regNo:"25004238",universityRegNo:"212225040503",name:"YUKESHKANNA",room:"NBF-102",dept:"Computer Science and Engineering",year:"1",studentMobile:"9488530216",parentMobile:"9943762300"},{regNo:"25006183",universityRegNo:"212225060088",name:"HASAN MOHAMED . A",room:"NBF-102",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"8248631018",parentMobile:"9994910853"},{regNo:"25012253",universityRegNo:"212225220052",name:"KHOVARTHAN V",room:"NBF-102",dept:"Information Technology",year:"1",studentMobile:"6381462683",parentMobile:"9944083937"},{regNo:"25003659",universityRegNo:"212225230006",name:"AHMED ALIKHAN",room:"NBF-102",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"8428877057",parentMobile:"9790391818"},{regNo:"25005595",universityRegNo:"212225230210",name:"S. P. PRADISH PRIYAN",room:"NBF-102",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"9894416034",parentMobile:"8838846586"},{regNo:"25006843",universityRegNo:"212225230217",name:"PREM NATH D",room:"NBF-102",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"7010039939",parentMobile:"9790160032"},{regNo:"25005972",universityRegNo:"212225230231",name:"SABARINATHAN A",room:"NBF-102",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"8883614009",parentMobile:"8883614008"},{regNo:"25007390",universityRegNo:"212225040499",name:"YASWANTH R",room:"NBF-103",dept:"Computer Science and Engineering",year:"1",studentMobile:"9361737470",parentMobile:"9080499316"},{regNo:"25007607",universityRegNo:"212225100004",name:"BHAVAN M S",room:"NBF-103",dept:"Computer Science and Engineering(Cyber Security)",year:"1",studentMobile:"9789163986",parentMobile:"944344644, 9629920000"},{regNo:"25001187",universityRegNo:"212225100015",name:"HARI PRASATH M",room:"NBF-103",dept:"Computer Science and Engineering(Cyber Security)",year:"1",studentMobile:"9087204884",parentMobile:"9087204884"},{regNo:"25013635",universityRegNo:"212225220007",name:"AKIL",room:"NBF-103",dept:"Information Technology",year:"1",studentMobile:"6374825608",parentMobile:"9629943129"},{regNo:"25007255",universityRegNo:"212225220058",name:"S.LOGESHWARAN",room:"NBF-103",dept:"Information Technology",year:"1",studentMobile:"9344524564",parentMobile:"8098425857"},{regNo:"25010748",universityRegNo:"212225220073",name:"PRAVEEN J",room:"NBF-103",dept:"Information Technology",year:"1",studentMobile:"7092395965",parentMobile:"9840449596"},{regNo:"25010246",universityRegNo:"212225220091",name:"SARVAJITH SIVAKUMAR SUJATHA",room:"NBF-103",dept:"Information Technology",year:"1",studentMobile:"7305316443",parentMobile:"8056041684"},{regNo:"25008769",universityRegNo:"212225230109",name:"JAIHARI S",room:"NBF-103",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"7092018656",parentMobile:"9944038342"},{regNo:"25011643",universityRegNo:"212225240098",name:"V.NAVEEN",room:"NBF-103",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"6385313317",parentMobile:"9786133172"},{regNo:"25005800",universityRegNo:"212225240117",name:"RAMESH JAISURYA",room:"NBF-103",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"9966789177",parentMobile:"9000489177"},{regNo:"25001681",universityRegNo:"212225060099",name:"JASWANTH S",room:"NBF-104",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"9361997878",parentMobile:"6369930145"},{regNo:"25005989",universityRegNo:"212225060144",name:"V M MADHAVAN",room:"NBF-104",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"8122840594",parentMobile:"9677375346"},{regNo:"25009087",universityRegNo:"212225080027",name:"KRITHIK",room:"NBF-104",dept:"Mechanical Engineering",year:"1",studentMobile:"9677076159",parentMobile:"9443141949"},{regNo:"25007668",universityRegNo:"212225100050",name:"SIVA R",room:"NBF-104",dept:"Computer Science and Engineering(Cyber Security)",year:"1",studentMobile:"9851073760",parentMobile:"8825437194"},{regNo:"25009804",universityRegNo:"212225100061",name:"YOGESH G",room:"NBF-104",dept:"Computer Science and Engineering(Cyber Security)",year:"1",studentMobile:"81488628466",parentMobile:"9566893011"},{regNo:"25011599",universityRegNo:"212225230018",name:"ANUGOLU RAVI TEJA ROYAL",room:"NBF-104",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"6301857545",parentMobile:"6371774660"},{regNo:"25015010",universityRegNo:"212225240001",name:"S AADITHYAN",room:"NBF-104",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"8667553660",parentMobile:"8754861130"},{regNo:"25012175",universityRegNo:"212225240058",name:"JEENSFER JO",room:"NBF-104",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"6381923940",parentMobile:"9445324948"},{regNo:"25013013",universityRegNo:"212225240100",name:"NIGIL. S",room:"NBF-104",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"9384573704",parentMobile:"9944252240"},{regNo:"25014330",universityRegNo:"212225240113",name:"S.RAJAPRABU",room:"NBF-104",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"9159978399",parentMobile:"8778744584"},{regNo:"25005367",universityRegNo:"212225020057",name:"V.TEJESHWAR",room:"NBF-105",dept:"Biomedical Engineering",year:"1",studentMobile:"8056036516",parentMobile:"9092244669"},{regNo:"25015246",universityRegNo:"212225060063",name:"DONTHI SAI VENKATA RAMANA",room:"NBF-105",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"7780653370",parentMobile:"7013884668"},{regNo:"25009937",universityRegNo:"212225060181",name:"NAVEEN V",room:"NBF-105",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"8778925504",parentMobile:"9943304611"},{regNo:"25004183",universityRegNo:"212225060202",name:"K PRAGATHISHAN",room:"NBF-105",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"9585417236",parentMobile:"9585698993"},{regNo:"25012742",universityRegNo:"212225060215",name:"RAJURESH",room:"NBF-105",dept:"Electrical and Electronics Engineering",year:"1",studentMobile:"9500265735",parentMobile:"9443270820"},{regNo:"25013054",universityRegNo:"212225060263",name:"SIBIVARSHAAN S",room:"NBF-105",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"9345871686",parentMobile:"9786243285"},{regNo:"25012054",universityRegNo:"212225060279",name:"SUHIN L",room:"NBF-105",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"9080147296",parentMobile:"9965812582"},{regNo:"25005684",universityRegNo:"212225060315",name:"YUWAN SHANTHOSH K",room:"NBF-105",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"7708817521",parentMobile:"7550352857"},{regNo:"25013768",universityRegNo:"212225230214",name:"PRASANNA .P",room:"NBF-105",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"9342744672",parentMobile:"9360931588"},{regNo:"25014765",universityRegNo:"212225240171",name:"THARUN",room:"NBF-105",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"7538837395",parentMobile:"9952897744"},{regNo:"25004426",universityRegNo:"212225020032",name:"PEARARASAN ALIAS BOSE",room:"NBF-106",dept:"Biomedical Engineering",year:"1",studentMobile:"7010395783",parentMobile:"9751032852"},{regNo:"25010828",universityRegNo:"212225040279",name:"NIHIL D",room:"NBF-106",dept:"Computer Science and Engineering",year:"1",studentMobile:"8248482952",parentMobile:"9787871487"},{regNo:"25013728",universityRegNo:"212225060024",name:"S. ASHIK AHAMED",room:"NBF-106",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"9384798988",parentMobile:"9842498988"},{regNo:"25004515",universityRegNo:"212225060137",name:"LIFNO RETZIO.L",room:"NBF-106",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"9498196913",parentMobile:"9488156913"},{regNo:"25014200",universityRegNo:"212225060156",name:"MOHAMED JIYAAD",room:"NBF-106",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"6369570105",parentMobile:"6384916064"},{regNo:"25009995",universityRegNo:"212225060250",name:"SARAN PRIYAN R",room:"NBF-106",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"9514336626",parentMobile:"9245669440"},{regNo:"25008158",universityRegNo:"212225060267",name:"SIVACHARAN S",room:"NBF-106",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"9025872448",parentMobile:"9043005265"},{regNo:"25009636",universityRegNo:"212225230015",name:"ANBUSELVAN J",room:"NBF-106",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"9442346050",parentMobile:"9543789072"},{regNo:"25013161",universityRegNo:"212225230084",name:"R GOPINATH",room:"NBF-106",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"9345744948",parentMobile:"6369368465"},{regNo:"25011965",universityRegNo:"212225240137",name:"SANTHOSH REDDY K",room:"NBF-106",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"7708502888",parentMobile:"6380210542"},{regNo:"25014751",universityRegNo:"212225230051",name:"DHANUSH M",room:"NBF-107",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"6369762255",parentMobile:"9443137829"},{regNo:"25008644",universityRegNo:"212225230076",name:"GOKUL B",room:"NBF-107",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"9344323428",parentMobile:"7812854445"},{regNo:"25011828",universityRegNo:"212225230087",name:"GUNDARAPU CHAITHANYA",room:"NBF-107",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"8886831913",parentMobile:"9392115346"},{regNo:"25011663",universityRegNo:"212225230088",name:"GUTHIKONDA SUSHANTH",room:"NBF-107",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"6303877699",parentMobile:"9866154603"},{regNo:"25013933",universityRegNo:"212225230089",name:"HARI PRASAD",room:"NBF-107",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"9342730740",parentMobile:"9080703911"},{regNo:"25014801",universityRegNo:"212225230129",name:"KARNAM PAREESH NAIDU",room:"NBF-107",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"9154239236",parentMobile:"9581632422"},{regNo:"25012598",universityRegNo:"212225230303",name:"VIMALESH KANNA MK",room:"NBF-107",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"9443381837",parentMobile:"9952881781"},{regNo:"25005365",universityRegNo:"212225240050",name:"HEMAVARATHAN",room:"NBF-107",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"8098335568",parentMobile:"9843545274"},{regNo:"25004610",universityRegNo:"212225240082",name:"MAHITH M",room:"NBF-107",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"8124281262",parentMobile:"9944223366"},{regNo:"25014809",universityRegNo:"212225030027",name:"S P SREE VARDHAN",room:"NBF-108",dept:"Civil Engineering",year:"1",studentMobile:"7812858421",parentMobile:"8248311392"},{regNo:"25008640",universityRegNo:"212225040117",name:"HARISH PRANAV K S",room:"NBF-108",dept:"Computer Science and Engineering",year:"1",studentMobile:"7010063604",parentMobile:"8300705088"},{regNo:"25013707",universityRegNo:"212225040150",name:"G.V JEFFRIN DINO",room:"NBF-108",dept:"Computer Science and Engineering",year:"1",studentMobile:"8098445575",parentMobile:"8098445575"},{regNo:"25014734",universityRegNo:"212225040282",name:"NIRMAL.M",room:"NBF-108",dept:"Computer Science and Engineering",year:"1",studentMobile:"6380413975",parentMobile:"9442973149"},{regNo:"25009508",universityRegNo:"212225050006",name:"BAALABAARATHI P",room:"NBF-108",dept:"Electrical and Electronics Engineering",year:"1",studentMobile:"9500208163",parentMobile:"9566908163"},{regNo:"25006748",universityRegNo:"212225050013",name:"M GIRIPRAKASH",room:"NBF-108",dept:"Electrical and Electronics Engineering",year:"1",studentMobile:"8754661337",parentMobile:"9705700098"},{regNo:"25005836",universityRegNo:"212225080059",name:"VASANTH.S",room:"NBF-108",dept:"Mechanical Engineering",year:"1",studentMobile:"8072002626",parentMobile:"9944585685"},{regNo:"25001152",universityRegNo:"212225220061",name:"MAHITH.M",room:"NBF-108",dept:"Information Technology",year:"1",studentMobile:"9360722303",parentMobile:"9894461423"},{regNo:"25004373",universityRegNo:"212225230240",name:"B.SAKTHIVEL",room:"NBF-108",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"6379696171",parentMobile:"8148937039"},{regNo:"25013497",universityRegNo:"212225040040",name:"BALAJI B",room:"NBF-109",dept:"Computer Science and Engineering",year:"1",studentMobile:"8300382375",parentMobile:"9442370635"},{regNo:"25012069",universityRegNo:"212225040378",name:"SANTHOSH A",room:"NBF-109",dept:"Computer Science and Engineering",year:"1",studentMobile:"916369419807",parentMobile:"9842037608"},{regNo:"25013978",universityRegNo:"212225060036",name:"S.BOOMESH",room:"NBF-109",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"8939696839",parentMobile:"8939696839"},{regNo:"25014833",universityRegNo:"212225060230",name:"U.S.RISHVANTH RAJA",room:"NBF-109",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"9842999555",parentMobile:"7010079856"},{regNo:"25014685",universityRegNo:"212225080009",name:"CHRIS AUGUSTO J",room:"NBF-109",dept:"Mechanical Engineering",year:"1",studentMobile:"7978488040",parentMobile:"7978142625"},{regNo:"25015487",universityRegNo:"212225220034",name:"GODWIN LAWRANCE L",room:"NBF-109",dept:"Information Technology",year:"1",studentMobile:"9342341053",parentMobile:"9442269812"},{regNo:"25011655",universityRegNo:"212225230176",name:"MOHAMED SARJUN M",room:"NBF-109",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"6385948195",parentMobile:"6385948195"},{regNo:"25012800",universityRegNo:"212225230262",name:"SHERIL.P",room:"NBF-109",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"9994731278",parentMobile:"9943463977"},{regNo:"25013725",universityRegNo:"212225240059",name:"JEEVANANTHAM C",room:"NBF-109",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"7904798998",parentMobile:"9976955113"},{regNo:"25015912",universityRegNo:"212225410089",name:"KARTHIKEYAN S",room:"NBF-109",dept:"Master of Busineess Administration",year:"1",studentMobile:"8754199195",parentMobile:"9443562331"},{regNo:"25017572",universityRegNo:"212225040190",name:"KISHOOR.I",room:"NBF-110",dept:"Computer Science and Engineering",year:"1",studentMobile:"8760474140",parentMobile:"9843488548"},{regNo:"25005854",universityRegNo:"212225050002",name:"AJAY S",room:"NBF-110",dept:"Electrical and Electronics Engineering",year:"1",studentMobile:"8248407881",parentMobile:"9786488831"},{regNo:"25013962",universityRegNo:"212225050044",name:"ROHITH R",room:"NBF-110",dept:"Electrical and Electronics Engineering",year:"1",studentMobile:"8122333887",parentMobile:"9787974751"},{regNo:"25013384",universityRegNo:"212225050061",name:"WINRAJAN K",room:"NBF-110",dept:"Electrical and Electronics Engineering",year:"1",studentMobile:"8778810062",parentMobile:"7010935594"},{regNo:"25011654",universityRegNo:"212225060029",name:"BALAKUMARAN",room:"NBF-110",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"9884844663",parentMobile:"7867926737"},{regNo:"25018464",universityRegNo:"212225080006",name:"S.ARASU",room:"NBF-110",dept:"Mechanical Engineering",year:"1",studentMobile:"7395980678",parentMobile:"9176880678"},{regNo:"25018628",universityRegNo:"212225080008",name:"BALAJI.S",room:"NBF-110",dept:"Mechanical Engineering",year:"1",studentMobile:"8807800850",parentMobile:"9585702181"},{regNo:"25003270",universityRegNo:"212225230022",name:"ASHFAK N",room:"NBF-110",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"7200849426",parentMobile:"8608350214"},{regNo:"25004079",universityRegNo:"212225230175",name:"MOHAMED HAFEES R",room:"NBF-110",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"6374539861",parentMobile:"8098237559"},{regNo:"25000819",universityRegNo:"212225040109",name:"HARIHARAN S",room:"NBF-111",dept:"Computer Science and Engineering",year:"1",studentMobile:"9500320163",parentMobile:"9894171592"},{regNo:"25007375",universityRegNo:"212225040209",name:"LOKESH KUMAR",room:"NBF-111",dept:"Computer Science and Engineering",year:"1",studentMobile:"6382009300",parentMobile:"8489591444"},{regNo:"25000358",universityRegNo:"212225040237",name:"MOHAMED ARSATH",room:"NBF-111",dept:"Computer Science and Engineering",year:"1",studentMobile:"8056978599",parentMobile:"9629360734"},{regNo:"25011967",universityRegNo:"212225040276",name:"R NAVEEN",room:"NBF-111",dept:"Computer Science and Engineering",year:"1",studentMobile:"9047903600",parentMobile:"9698942406"},{regNo:"25009774",universityRegNo:"212225040366",name:"R. S. SANJAI RAM",room:"NBF-111",dept:"Computer Science and Engineering",year:"1",studentMobile:"9994861089",parentMobile:"9994861090"},{regNo:"25011969",universityRegNo:"212225040367",name:"SANJAY.A",room:"NBF-111",dept:"Computer Science and Engineering",year:"1",studentMobile:"6385263715",parentMobile:"9952384278"},{regNo:"25011320",universityRegNo:"212225040416",name:"P.SIVA SUNDAR",room:"NBF-111",dept:"Computer Science and Engineering",year:"1",studentMobile:"8870583436",parentMobile:"9750503013"},{regNo:"25008273",universityRegNo:"212225230256",name:"SEJILAN",room:"NBF-111",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"6382619004",parentMobile:"6380132950"},{regNo:"25014134",universityRegNo:"212225040121",name:"HARSHITH SANJAI",room:"NBF-112",dept:"Computer Science and Engineering",year:"1",studentMobile:"7200233114",parentMobile:"9952377100"},{regNo:"25012989",universityRegNo:"212225040247",name:"MOHAMMED AFSAL.S",room:"NBF-112",dept:"Computer Science and Engineering",year:"1",studentMobile:"9976961697",parentMobile:"9262021582"},{regNo:"25011618",universityRegNo:"212225080038",name:"P.NITHYA PRASATH",room:"NBF-112",dept:"Mechanical Engineering",year:"1",studentMobile:"6383952416",parentMobile:"9443800806"},{regNo:"25009906",universityRegNo:"212225230157",name:"MADHIYOLI",room:"NBF-112",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"6381604502",parentMobile:"6370567067"},{regNo:"25008762",universityRegNo:"212225230165",name:"M. MAHENDIRAN",room:"NBF-112",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"9942557638",parentMobile:"8072806154"},{regNo:"25003095",universityRegNo:"212225230294",name:"RAHUL",room:"NBF-112",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"9100714422",parentMobile:"8074768710"},{regNo:"25014933",universityRegNo:"212225240143",name:"SHAFI AHMED M S",room:"NBF-112",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"7604888434",parentMobile:"6383248258"},{regNo:"25000201",universityRegNo:"212225240176",name:"N. THIRU SUBRAMANIA SAMI",room:"NBF-112",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"9488586326",parentMobile:"8277604424"},{regNo:"25010763",universityRegNo:"212225040038",name:"AVINASH KARTHICK.B.M",room:"NBF-113",dept:"Computer Science and Engineering",year:"1",studentMobile:"9366623457",parentMobile:"9159273291"},{regNo:"25015366",universityRegNo:"212225040339",name:"RITESH DP",room:"NBF-113",dept:"Computer Science and Engineering",year:"1",studentMobile:"8825743549",parentMobile:"8903500599"},{regNo:"25008066",universityRegNo:"212225050046",name:"ROSHAN IKTHITHAR M",room:"NBF-113",dept:"Electrical and Electronics Engineering",year:"1",studentMobile:"6383390822",parentMobile:"9677809243"},{regNo:"25014628",universityRegNo:"212225080004",name:"ADITHYA M",room:"NBF-113",dept:"Mechanical Engineering",year:"1",studentMobile:"7548841101",parentMobile:"8940101101"},{regNo:"25014606",universityRegNo:"212225080049",name:"M. SANJITH",room:"NBF-113",dept:"Mechanical Engineering",year:"1",studentMobile:"9943152078",parentMobile:"9843676951"},{regNo:"25015594",universityRegNo:"212225220014",name:"K.ASHWIN NEHREJ",room:"NBF-113",dept:"Information Technology",year:"1",studentMobile:"7339183384",parentMobile:"9682392717"},{regNo:"25003626",universityRegNo:"212225240093",name:"M.MUKESH",room:"NBF-113",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"8610418422",parentMobile:"9597341023"},{regNo:"25010815",universityRegNo:"212225410065",name:"B GURU PRASAD",room:"NBF-113",dept:"Master of Busineess Administration",year:"1",studentMobile:"8870940006",parentMobile:"9894102029"},{regNo:"25010774",universityRegNo:"212225030011",name:"S.KAMALESH",room:"NBF-114",dept:"Civil Engineering",year:"1",studentMobile:"6379953247",parentMobile:"9442345771"},{regNo:"25011566",universityRegNo:"212225030030",name:"THARUKESH A",room:"NBF-114",dept:"Civil Engineering",year:"1",studentMobile:"7397399533",parentMobile:"759829533"},{regNo:"25014706",universityRegNo:"212225040323",name:"K RAGAPRIYAN",room:"NBF-114",dept:"Computer Science and Engineering",year:"1",studentMobile:"8825937046",parentMobile:"9842584373"},{regNo:"25015705",universityRegNo:"212225040325",name:"RAGHUL S",room:"NBF-114",dept:"Computer Science and Engineering",year:"1",studentMobile:"9360181476",parentMobile:"9488043342"},{regNo:"25011402",universityRegNo:"212225050048",name:"SAIRAM S",room:"NBF-114",dept:"Electrical and Electronics Engineering",year:"1",studentMobile:"9442070113",parentMobile:"9384472864"},{regNo:"25013003",universityRegNo:"212225060077",name:"HARESH RAGAVAN V",room:"NBF-114",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"9360494287",parentMobile:"9944992978"},{regNo:"25000783",universityRegNo:"212225080012",name:"GIRISH PRIYAN G",room:"NBF-114",dept:"Mechanical Engineering",year:"1",studentMobile:"8124463325",parentMobile:"9443989442"},{regNo:"25000481",universityRegNo:"212225080030",name:"MOHAMED ABUBAKR S",room:"NBF-114",dept:"Mechanical Engineering",year:"1",studentMobile:"9344139795",parentMobile:"6382811209"},{regNo:"25008056",universityRegNo:"212225040353",name:"S.B.SACHIN",room:"NBF-115",dept:"Computer Science and Engineering",year:"1",studentMobile:"9342771173",parentMobile:"8754001253"},{regNo:"25005727",universityRegNo:"212225050014",name:"HARISH S",room:"NBF-115",dept:"Electrical and Electronics Engineering",year:"1",studentMobile:"7397669671",parentMobile:"8110811215"},{regNo:"25006108",universityRegNo:"212225060033",name:"BHARATH S",room:"NBF-115",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"7339372952",parentMobile:"9788017452"},{regNo:"25006078",universityRegNo:"212225060068",name:"GANESH.G",room:"NBF-115",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"6381612552",parentMobile:"9751228331"},{regNo:"25006077",universityRegNo:"212225220111",name:"SUNDARESH K",room:"NBF-115",dept:"Information Technology",year:"1",studentMobile:"9994160280",parentMobile:"9790130280"},{regNo:"25014364",universityRegNo:"212225240142",name:"SATHISH H",room:"NBF-115",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"9080439611",parentMobile:"9943201910"},{regNo:"25001283",universityRegNo:"212225240149",name:"N.SIVANESH KUMAR",room:"NBF-115",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"9025541429",parentMobile:"9786982988"},{regNo:"25012833",universityRegNo:"212225240188",name:"S VISHVA",room:"NBF-115",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"7539977542",parentMobile:"8667549100"},{regNo:"25010834",universityRegNo:"212225060109",name:"JOSHIN",room:"NBF-116",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"8940049886",parentMobile:"9715919061"},{regNo:"25011585",universityRegNo:"212225060141",name:"LOGESH.S",room:"NBF-116",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"7010528171",parentMobile:"6379862037"},{regNo:"25000588",universityRegNo:"212225060171",name:"MURSHID AHMED S",room:"NBF-116",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"8667065963",parentMobile:"9965838312"},{regNo:"25007847",universityRegNo:"212225060189",name:"NITHISH. K",room:"NBF-116",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"8072371582",parentMobile:"9791273288"},{regNo:"25013204",universityRegNo:"212225060204",name:"PRANAV K",room:"NBF-116",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"8610507002",parentMobile:"8148612092"},{regNo:"25000250",universityRegNo:"212225060284",name:"SYED NIYAZ A",room:"NBF-116",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"9344786982",parentMobile:"9486497249"},{regNo:"25013468",universityRegNo:"212225240038",name:"DWIJESH RAJ SINHA Y",room:"NBF-116",dept:"Artificial Intelligence and Machine Learning",year:"1",studentMobile:"7358157779",parentMobile:"9994378787"},{regNo:"25001843",universityRegNo:"212225410202",name:"K.T. SHYAM",room:"NBF-116",dept:"Master of Busineess Administration",year:"1",studentMobile:"9789284027",parentMobile:"9976687090"},{regNo:"25005583",universityRegNo:"212225050018",name:"JISHO C",room:"NBF-117",dept:"Electrical and Electronics Engineering",year:"1",studentMobile:"8682037365",parentMobile:"9487603736"},{regNo:"25010986",universityRegNo:"212225080011",name:"DINESH S",room:"NBF-117",dept:"Mechanical Engineering",year:"1",studentMobile:"9488942252",parentMobile:"9442408252"},{regNo:"25015589",universityRegNo:"212225230064",name:"S DURGESH",room:"NBF-117",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"6380653102",parentMobile:"8870533774"},{regNo:"25005710",universityRegNo:"212225230120",name:"KALAIMARAN.I",room:"NBF-117",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"7010566448",parentMobile:"9443466674"},{regNo:"25004464",universityRegNo:"212225230307",name:"R.VISHAL",room:"NBF-117",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"7418109150",parentMobile:"9150609150"},{regNo:"25003438",universityRegNo:"212225410001",name:"AAKASH",room:"NBF-117",dept:"Master of Busineess Administration",year:"1",studentMobile:"8438878090",parentMobile:"9944394050"},{regNo:"25006483",universityRegNo:"212225410070",name:"HARISH KUMAR HARI BABU",room:"NBF-117",dept:"Master of Busineess Administration",year:"1",studentMobile:"6381010740",parentMobile:"9566637418"},{regNo:"25011386",universityRegNo:"212225410196",name:"A.SHEIK MOHAMMED",room:"NBF-117",dept:"Master of Busineess Administration",year:"1",studentMobile:"7395859233",parentMobile:"9003360464"},{regNo:"25015393",universityRegNo:"212225060271",name:"SREESUNDAR",room:"NBF-118",dept:"Electronics and Communication Engineering",year:"1",studentMobile:"9488433534",parentMobile:"9942427600"},{regNo:"25013895",universityRegNo:"212225060292",name:"THILOCHAN",room:"NBF-118",dept:"Electrical and Electronics Engineering",year:"1",studentMobile:"9043624214",parentMobile:"8870074050"},{regNo:"25007473",universityRegNo:"212225080005",name:"ALAN.M",room:"NBF-118",dept:"Mechanical Engineering",year:"1",studentMobile:"8122314380",parentMobile:"9952246422"},{regNo:"25016058",universityRegNo:"212225080018",name:"HIRUDHITH S",room:"NBF-118",dept:"Mechanical Engineering",year:"1",studentMobile:"7339661629",parentMobile:"7200853184"},{regNo:"25009105",universityRegNo:"212225220071",name:"M. PRADEEP",room:"NBF-118",dept:"Information Technology",year:"1",studentMobile:"8056289185",parentMobile:"9710789185"},{regNo:"25016064",universityRegNo:"212225220103",name:"SRI SAI SARAN G",room:"NBF-118",dept:"Information Technology",year:"1",studentMobile:"8608457048",parentMobile:"8438672699"},{regNo:"25016022",universityRegNo:"212225230020",name:"M A ARUNJUTHAN",room:"NBF-118",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"8220137055",parentMobile:"7502737055"},{regNo:"25015695",universityRegNo:"212225230290",name:"VARDHAN SAI I",room:"NBF-118",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"9524574762",parentMobile:"9360814610"},{regNo:"25009074",universityRegNo:"212225030014",name:"V LINGESH PANDIAN",room:"NBF-119",dept:"Civil Engineering",year:"1",studentMobile:"8098502244",parentMobile:"9943746637"},{regNo:"25017732",universityRegNo:"212225040095",name:"D R.GOKUL",room:"NBF-119",dept:"Computer Science and Engineering",year:"1",studentMobile:"9361816055",parentMobile:"9791567058"},{regNo:"25016374",universityRegNo:"212225040286",name:"NITHIN KAVI A.R",room:"NBF-119",dept:"Computer Science and Engineering",year:"1",studentMobile:"8015300539",parentMobile:"9791530870"},{regNo:"25016762",universityRegNo:"212225100045",name:"SARVESH",room:"NBF-119",dept:"Computer Science and Engineering(Cyber Security)",year:"1",studentMobile:"9342688864",parentMobile:"9865934049"},{regNo:"25008132",universityRegNo:"212225220023",name:"DHARSHAN BABU A",room:"NBF-119",dept:"Information Technology",year:"1",studentMobile:"6369815938",parentMobile:"9443521921"},{regNo:"25015509",universityRegNo:"212225230040",name:"DARUNBALA S",room:"NBF-119",dept:"Artificial Intelligence and Data Science",year:"1",studentMobile:"8015854867",parentMobile:"9159174318"},{regNo:"25000476",universityRegNo:"212225410073",name:"ILLAMPARITHI.K",room:"NBF-119",dept:"Master of Busineess Administration",year:"1",studentMobile:"8778065646",parentMobile:"9486368326"},{regNo:"25006617",universityRegNo:"212225410092",name:"B.KEERTHIVASAN",room:"NBF-119",dept:"Master of Busineess Administration",year:"1",studentMobile:"9894619283",parentMobile:"8807619283"}],WC=async r=>{console.log(" Starting student migration to Firebase...");let e=0,i=0;const s=[];for(let l=0;l<kc.length;l++){const c=kc[l],d=c.regNo.toString().toUpperCase().trim();try{await Ng(as(dn,"students",d),{regNo:c.regNo,universityRegNo:c.universityRegNo,name:c.name,room:c.room,dept:c.dept,year:c.year,studentMobile:c.studentMobile,parentMobile:c.parentMobile},{merge:!0}),e++,r&&r({current:l+1,total:kc.length,successCount:e,errorCount:i,currentStudent:c.name})}catch(g){i++,s.push({student:d,error:g.message}),console.error(` Error uploading ${d}:`,g.message)}}return{success:i===0,successCount:e,errorCount:i,total:kc.length,errors:s}},ZC=({onLogout:r})=>{const[e,i]=Re.useState("students"),[s,l]=Re.useState(!0),[c,d]=Re.useState("Initializing..."),[g,_]=Re.useState({regNo:"",name:"",room:"",year:"",dept:""}),[p,T]=Re.useState({name:"",password:""}),[S,N]=Re.useState({is24HourRuleEnabled:!1}),[k,G]=Re.useState(""),[Z,ee]=Re.useState([]),[te,se]=Re.useState(!1),[Y,ue]=Re.useState([]),[ve,pe]=Re.useState(""),[D,w]=Re.useState(!1),[C,V]=Re.useState(null),x=(R,F,ie)=>Promise.race([R,new Promise(ae=>setTimeout(()=>{console.warn("Request timed out, using fallback."),ae(ie)},F))]);Re.useEffect(()=>{L()},[]);const L=async()=>{l(!0),d("Syncing..."),G("");try{const[R,F,ie]=await Promise.all([x(Ig(),1e4,null),x(KC(),1e4,null),x(p2(),1e4,null)]),ae=[];R!==null?ee(R):ae.push("Wardens"),F!==null?ue(F):ae.push("Students"),ie!==null?N(ie):ae.push("Config"),ae.length>0&&G(` Offline Mode: Could not sync ${ae.join(", ")}. Using empty/default data.`)}catch(R){console.error("System error loading data:",R),G(" System Error: "+R.message)}finally{l(!1)}},I=async R=>{R.preventDefault();try{await g2(g),G(` Student ${g.name} added successfully!`),_({regNo:"",name:"",room:"",year:"",dept:""}),L()}catch(F){G(` Error adding student: ${F.message}`)}},Ee=async R=>{if(window.confirm(`Are you sure you want to delete student ${R}?`))try{await YC(R),G(` Student ${R} deleted successfully.`),ue(F=>F.filter(ie=>ie.id!==R&&ie.regNo!==R))}catch(F){G(` Error deleting student: ${F.message}`),L()}},et=async R=>{R.preventDefault();try{await qC(p),G(` Warden ${p.name} added successfully!`),T({name:"",password:""}),L()}catch(F){G(` Error adding warden: ${F.message}`)}},K=async()=>{const R={...S,is24HourRuleEnabled:!S.is24HourRuleEnabled};try{await GC(R),N(R),G(` 24-Hour Rule is now ${R.is24HourRuleEnabled?"ENABLED":"DISABLED"}`)}catch(F){G(` Error updating config: ${F.message}`)}},ne=async()=>{if(window.confirm(` WARNING: This will PERMANENTLY DELETE ALL leave requests and their attached photos from the database.

This action CANNOT be undone.

Are you sure you want to clear all storage to free up space?`)){se(!0),G(" Deleting requests... Please wait...");try{const R=await BC();R.count===0?G(" Database is already empty."):G(` Successfully deleted ${R.count} requests and reclaimed storage space.`)}catch(R){G(` Error cleaning database: ${R.message}`)}finally{se(!1)}}},fe=async()=>{if(window.confirm(` MIGRATE STUDENTS TO FIREBASE

This will upload all 171 students from the Excel sheet to Firebase.

Existing students will be updated (merged).

Do you want to proceed?`)){w(!0),V({current:0,total:171,successCount:0,errorCount:0}),G(" Starting migration... Please wait...");try{const R=await WC(F=>{V(F),G(` Migrating students: ${F.current}/${F.total} (${F.successCount} successful)`)});R.success?G(` Successfully migrated ${R.successCount} students to Firebase!`):G(` Migration completed with ${R.errorCount} errors. ${R.successCount} students uploaded successfully.`),await L()}catch(R){G(` Migration failed: ${R.message}`)}finally{w(!1),V(null)}}},ze=(Array.isArray(Y)?Y:[]).filter(R=>{const F=(ve||"").toLowerCase();return R.name&&R.name.toLowerCase().includes(F)||R.regNo&&R.regNo.toString().toLowerCase().includes(F)||R.id&&R.id.toString().toLowerCase().includes(F)});return s?b.jsxs("div",{className:"container",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column"},children:[b.jsx("p",{children:"Loading Dashboard..."}),b.jsx("small",{style:{color:"#6b7280",marginTop:"0.5rem"},children:c})]}):b.jsxs("div",{className:"container",children:[b.jsxs("header",{className:"page-header",children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[b.jsx("img",{src:"/logo.png",alt:"Logo",style:{height:"50px",borderRadius:"5px"}}),b.jsxs("div",{children:[b.jsx("h1",{className:"page-title",children:"Super Admin Portal"}),b.jsx("p",{className:"page-subtitle",children:"Manage system users and configurations"})]})]}),b.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[b.jsx("button",{className:"btn btn-secondary",onClick:L,title:"Retry Sync",children:" Sync"}),b.jsx("button",{className:"btn btn-secondary",onClick:r,children:"Logout"})]})]}),k&&b.jsx("div",{style:{padding:"1rem",marginBottom:"1rem",borderRadius:"var(--radius-md)",background:k.includes("")?"rgba(16, 185, 129, 0.1)":k.includes("")?"rgba(59, 130, 246, 0.1)":"rgba(239, 68, 68, 0.1)",color:k.includes("")?"#047857":k.includes("")?"#1d4ed8":"#b91c1c",border:`1px solid ${k.includes("")?"#059669":k.includes("")?"#2563eb":"#dc2626"}`},children:k}),b.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",borderBottom:"1px solid var(--card-border)",flexWrap:"wrap"},children:[b.jsx("button",{className:`btn ${e==="students"?"btn-primary":"btn-secondary"}`,onClick:()=>{i("students"),G("")},style:{borderBottomLeftRadius:0,borderBottomRightRadius:0,flex:1},children:"Manage Students"}),b.jsx("button",{className:`btn ${e==="wardens"?"btn-primary":"btn-secondary"}`,onClick:()=>{i("wardens"),G("")},style:{borderBottomLeftRadius:0,borderBottomRightRadius:0,flex:1},children:"Manage Wardens"}),b.jsx("button",{className:`btn ${e==="settings"?"btn-primary":"btn-secondary"}`,onClick:()=>{i("settings"),G("")},style:{borderBottomLeftRadius:0,borderBottomRightRadius:0,flex:1},children:"Settings (Rules)"}),b.jsx("button",{className:`btn ${e==="clean"?"btn-danger":"btn-secondary"}`,onClick:()=>{i("clean"),G("")},style:{borderBottomLeftRadius:0,borderBottomRightRadius:0,backgroundColor:e==="clean"?"#dc2626":void 0,color:e==="clean"?"white":void 0,flex:1},children:"Cleanup"})]}),e==="students"?b.jsxs("div",{className:"card",children:[b.jsxs("div",{style:{padding:"1.5rem",marginBottom:"2rem",background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"var(--radius-md)",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[b.jsx("h3",{style:{marginTop:0,color:"#111827",fontSize:"1.1rem",fontWeight:"600"},children:"Bulk Student Migration"}),b.jsx("p",{style:{margin:"0.5rem 0 1rem 0",fontSize:"0.9rem",color:"#6b7280",lineHeight:"1.5"},children:"Upload all 171 students from the Excel sheet to Firebase. This will enable auto-fill functionality for all students."}),b.jsx("button",{className:"btn btn-primary",onClick:fe,disabled:D,style:{padding:"0.6rem 1.2rem",fontSize:"0.9rem"},children:D?"Migrating...":"Migrate All Students to Firebase"}),C&&b.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"#f9fafb",borderRadius:"var(--radius-sm)",border:"1px solid #e5e7eb"},children:[b.jsxs("div",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",color:"#374151",fontWeight:"500"},children:["Progress: ",C.current,"/",C.total," students"]}),b.jsx("div",{style:{background:"#e5e7eb",borderRadius:"4px",height:"6px",overflow:"hidden"},children:b.jsx("div",{style:{background:"#3b82f6",height:"100%",width:`${C.current/C.total*100}%`,transition:"width 0.3s ease"}})})]})]}),b.jsx("h3",{style:{marginTop:0},children:"Add New Student"}),b.jsxs("form",{onSubmit:I,style:{marginBottom:"2rem"},children:[b.jsxs("div",{className:"grid-2",children:[b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{children:"Register Number"}),b.jsx("input",{value:g.regNo,onChange:R=>_({...g,regNo:R.target.value.toUpperCase()}),placeholder:"e.g. 913121104001",required:!0})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{children:"Student Name"}),b.jsx("input",{value:g.name,onChange:R=>_({...g,name:R.target.value}),placeholder:"Full Name",required:!0})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{children:"Room Number"}),b.jsx("input",{value:g.room,onChange:R=>_({...g,room:R.target.value}),placeholder:"e.g. NBF-101",required:!0})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{children:"Year"}),b.jsxs("select",{value:g.year,onChange:R=>_({...g,year:R.target.value}),required:!0,children:[b.jsx("option",{value:"",children:"Select Year"}),b.jsx("option",{value:"1",children:"1st Year"}),b.jsx("option",{value:"2",children:"2nd Year"}),b.jsx("option",{value:"3",children:"3rd Year"}),b.jsx("option",{value:"4",children:"4th Year"})]})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{children:"Department"}),b.jsx("input",{value:g.dept,onChange:R=>_({...g,dept:R.target.value}),placeholder:"e.g. CSE",required:!0})]})]}),b.jsx("button",{type:"submit",className:"btn btn-primary",style:{marginTop:"1rem"},children:"Add Student"})]}),b.jsxs("h3",{style:{borderTop:"1px solid var(--card-border)",paddingTop:"1.5rem"},children:["All Students (",Y.length,")"]}),b.jsx("div",{className:"mb-2",children:b.jsx("input",{placeholder:" Search by Name or Register Number...",value:ve,onChange:R=>pe(R.target.value),style:{width:"100%",padding:"0.75rem"}})}),b.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:b.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[b.jsx("thead",{style:{background:"var(--bg-color)",textAlign:"left"},children:b.jsxs("tr",{children:[b.jsx("th",{style:{padding:"0.75rem"},children:"Reg No"}),b.jsx("th",{style:{padding:"0.75rem"},children:"Name"}),b.jsx("th",{style:{padding:"0.75rem"},children:"Room"}),b.jsx("th",{style:{padding:"0.75rem"},children:"Action"})]})}),b.jsx("tbody",{children:ze.length>0?ze.map((R,F)=>b.jsxs("tr",{style:{borderBottom:"1px solid var(--card-border)"},children:[b.jsx("td",{style:{padding:"0.75rem",fontFamily:"monospace"},children:R.id||R.regNo}),b.jsx("td",{style:{padding:"0.75rem"},children:R.name}),b.jsx("td",{style:{padding:"0.75rem"},children:R.room}),b.jsx("td",{style:{padding:"0.75rem"},children:b.jsx("button",{className:"btn btn-danger",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},onClick:()=>Ee(R.id||R.regNo),children:"Delete"})})]},F)):b.jsx("tr",{children:b.jsx("td",{colSpan:"4",style:{padding:"1rem",textAlign:"center",color:"var(--text-secondary)"},children:"No students found matching your search."})})})]})})]}):e==="wardens"?b.jsxs("div",{className:"card",children:[b.jsx("h3",{style:{marginTop:0},children:"Add New Warden"}),b.jsxs("form",{onSubmit:et,style:{marginBottom:"2rem"},children:[b.jsxs("div",{className:"grid-2",children:[b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{children:"Warden Name"}),b.jsx("input",{value:p.name,onChange:R=>T({...p,name:R.target.value}),placeholder:"e.g. New Warden",required:!0})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{children:"Password"}),b.jsx("input",{value:p.password,onChange:R=>T({...p,password:R.target.value}),placeholder:"Set Password",required:!0})]})]}),b.jsx("button",{type:"submit",className:"btn btn-primary",style:{marginTop:"1rem"},children:"Add Warden"})]}),b.jsx("h4",{style:{borderTop:"1px solid var(--card-border)",paddingTop:"1rem"},children:"Existing Wardens (Firestore)"}),Z.length>0?b.jsx("ul",{style:{listStyle:"none",padding:0},children:Z.map((R,F)=>b.jsxs("li",{style:{padding:"0.5rem",borderBottom:"1px solid var(--card-border)",display:"flex",justifyContent:"space-between"},children:[b.jsxs("span",{children:[" ",b.jsx("strong",{children:R.name})]}),b.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:["Password: ",R.password]})]},F))}):b.jsx("p",{style:{color:"var(--text-secondary)",fontStyle:"italic"},children:"No dynamic wardens added yet. (System uses hardcoded defaults for now)"})]}):e==="settings"?b.jsxs("div",{className:"card",children:[b.jsx("h3",{style:{marginTop:0},children:"Rules & Configuration"}),b.jsxs("div",{style:{padding:"1.5rem",border:"1px solid var(--card-border)",borderRadius:"var(--radius-md)",background:"var(--bg-color)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[b.jsxs("div",{children:[b.jsx("h4",{style:{margin:"0 0 0.5rem 0"},children:"24-Hour Advance Notice Rule"}),b.jsxs("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.9rem"},children:["If enabled, students can only apply for leave if the leaving date is at least 24 hours from now.",b.jsx("br",{}),b.jsx("small",{children:"Emergency requests bypass this rule."})]})]}),b.jsx("div",{className:"toggle-switch-container",children:b.jsx("button",{className:`btn ${S.is24HourRuleEnabled?"btn-success":"btn-secondary"}`,onClick:K,children:S.is24HourRuleEnabled?"ENABLED":"DISABLED"})})]})]}):b.jsxs("div",{className:"card",style:{border:"1px solid #fecaca",background:"#fff1f2"},children:[b.jsx("h3",{style:{marginTop:0,color:"#b91c1c"},children:" Danger Zone: Database Cleanup"}),b.jsxs("p",{style:{color:"#7f1d1d",marginBottom:"1.5rem"},children:["This action allows you to manage the database storage by deleting old leave requests. Since photos are stored directly in the database, deleting requests will ",b.jsx("strong",{children:"immediately free up storage space"}),"."]}),b.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"var(--radius-md)",border:"1px solid #fca5a5"},children:[b.jsx("h4",{style:{marginTop:0},children:"Clear All Leave Requests"}),b.jsxs("p",{children:["This will delete ",b.jsx("strong",{children:"ALL"})," past and pending leave requests and their attached images."]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Note:"})," Student and Warden accounts will NOT be deleted."]}),b.jsx("button",{className:"btn btn-danger",style:{backgroundColor:"#dc2626",color:"white",marginTop:"1rem"},onClick:ne,disabled:te,children:te?" Deleting...":" Delete All Requests & Photos"})]})]})]})};function e4(){const[r,e]=Re.useState("login"),[i,s]=Re.useState(null),l=(p,T)=>{s({role:p,identifier:T}),e(p)},c=()=>{s(null),e("login")},[d,g]=Re.useState(localStorage.getItem("theme")||"light");rm.useEffect(()=>{document.documentElement.setAttribute("data-theme",d),localStorage.setItem("theme",d)},[d]);const _=()=>{g(p=>p==="light"?"dark":"light")};return b.jsxs("div",{className:"App",children:[b.jsx("button",{onClick:_,className:"btn btn-secondary",style:{position:"fixed",top:"1rem",right:"1rem",zIndex:1e3,borderRadius:"50%",width:"40px",height:"40px",padding:0,background:"var(--card-bg)",boxShadow:"var(--shadow-md)",display:"flex",alignItems:"center",justifyContent:"center"},title:`Switch to ${d==="light"?"Dark":"Light"} Mode`,children:d==="light"?"":""}),r==="login"&&b.jsx(QC,{onLogin:l}),r==="student"&&b.jsx($C,{user:i,onLogout:c}),r==="warden"&&b.jsx(JC,{user:i,onLogout:c}),r==="superadmin"&&b.jsx(ZC,{onLogout:c})]})}ib.createRoot(document.getElementById("root")).render(b.jsx(Re.StrictMode,{children:b.jsx(e4,{})}));
